(function(m,c){function b(h){return f.isWindow(h)?h:9===h.nodeType?h.defaultView||h.parentWindow:!1}function a(h){if(!Cb[h]){var C=z.body,a=f("<"+h+">").appendTo(C),e=a.css("display");a.remove();if("none"===e||""===e){ea||(ea=z.createElement("iframe"),ea.frameBorder=ea.width=ea.height=0);C.appendChild(ea);if(!Da||!ea.createElement)Da=(ea.contentWindow||ea.contentDocument).document,Da.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),Da.close();a=Da.createElement(h);Da.body.appendChild(a);
e=f.css(a,"display");C.removeChild(ea)}Cb[h]=e}return Cb[h]}function d(h,C){var a={};f.each(mb.concat.apply([],mb.slice(0,C)),function(){a[this]=h});return a}function j(){nb=c}function x(){setTimeout(j,0);return nb=f.now()}function k(){try{return new m.XMLHttpRequest}catch(h){}}function q(h,C,a,e){if(f.isArray(C))f.each(C,function(C,l){a||mc.test(h)?e(h,l):q(h+"["+("object"==typeof l?C:"")+"]",l,a,e)});else if(!a&&"object"===f.type(C))for(var l in C)q(h+"["+l+"]",C[l],a,e);else e(h,C)}function t(h,
C){var a,e,l=f.ajaxSettings.flatOptions||{};for(a in C)C[a]!==c&&((l[a]?h:e||(e={}))[a]=C[a]);e&&f.extend(!0,h,e)}function y(h,C,a,e,l,g){l=l||C.dataTypes[0];g=g||{};g[l]=!0;for(var l=h[l],f=0,o=l?l.length:0,d=h===Db,b;f<o&&(d||!b);f++)b=l[f](C,a,e),"string"==typeof b&&(!d||g[b]?b=c:(C.dataTypes.unshift(b),b=y(h,C,a,e,b,g)));(d||!b)&&!g["*"]&&(b=y(h,C,a,e,"*",g));return b}function s(h){return function(C,a){"string"!=typeof C&&(a=C,C="*");if(f.isFunction(a))for(var e=C.toLowerCase().split(Qb),l=0,
g=e.length,d,o;l<g;l++)d=e[l],(o=/^\+/.test(d))&&(d=d.substr(1)||"*"),d=h[d]=h[d]||[],d[o?"unshift":"push"](a)}}function u(h,C,a){var e="width"===C?h.offsetWidth:h.offsetHeight,l="width"===C?1:0;if(0<e){if("border"!==a)for(;4>l;l+=2)a||(e-=parseFloat(f.css(h,"padding"+sa[l]))||0),"margin"===a?e+=parseFloat(f.css(h,a+sa[l]))||0:e-=parseFloat(f.css(h,"border"+sa[l]+"Width"))||0;return e+"px"}e=Ea(h,C);if(0>e||null==e)e=h.style[C];if(Eb.test(e))return e;e=parseFloat(e)||0;if(a)for(;4>l;l+=2)e+=parseFloat(f.css(h,
"padding"+sa[l]))||0,"padding"!==a&&(e+=parseFloat(f.css(h,"border"+sa[l]+"Width"))||0),"margin"===a&&(e+=parseFloat(f.css(h,a+sa[l]))||0);return e+"px"}function w(h){var C=(h.nodeName||"").toLowerCase();"input"===C?Q(h):"script"!==C&&"undefined"!=typeof h.getElementsByTagName&&f.grep(h.getElementsByTagName("input"),Q)}function Q(h){if("checkbox"===h.type||"radio"===h.type)h.defaultChecked=h.checked}function R(h){return"undefined"!=typeof h.getElementsByTagName?h.getElementsByTagName("*"):"undefined"!=
typeof h.querySelectorAll?h.querySelectorAll("*"):[]}function r(h,C){var a;1===C.nodeType&&(C.clearAttributes&&C.clearAttributes(),C.mergeAttributes&&C.mergeAttributes(h),a=C.nodeName.toLowerCase(),"object"===a?C.outerHTML=h.outerHTML:"input"!==a||"checkbox"!==h.type&&"radio"!==h.type?"option"===a?C.selected=h.defaultSelected:"input"===a||"textarea"===a?C.defaultValue=h.defaultValue:"script"===a&&C.text!==h.text&&(C.text=h.text):(h.checked&&(C.defaultChecked=C.checked=h.checked),C.value!==h.value&&
(C.value=h.value)),C.removeAttribute(f.expando),C.removeAttribute("_submit_attached"),C.removeAttribute("_change_attached"))}function I(h,C){if(1===C.nodeType&&f.hasData(h)){var a,e,l;e=f._data(h);var g=f._data(C,e),d=e.events;if(d)for(a in delete g.handle,g.events={},d){e=0;for(l=d[a].length;e<l;e++)f.event.add(C,a,d[a][e])}g.data&&(g.data=f.extend({},g.data))}}function E(h){var C=Rb.split("|"),h=h.createDocumentFragment();if(h.createElement)for(;C.length;)h.createElement(C.pop());return h}function J(h,
C,a){C=C||0;if(f.isFunction(C))return f.grep(h,function(h,e){return!!C.call(h,e,h)===a});if(C.nodeType)return f.grep(h,function(h){return h===C===a});if("string"==typeof C){var e=f.grep(h,function(h){return 1===h.nodeType});if(nc.test(C))return f.filter(C,e,!a);C=f.filter(C,e)}return f.grep(h,function(h){return 0<=f.inArray(h,C)===a})}function K(){return!0}function H(){return!1}function G(h,C,a){var e=C+"defer",l=C+"queue",g=C+"mark",d=f._data(h,e);d&&("queue"===a||!f._data(h,l))&&("mark"===a||!f._data(h,
g))&&setTimeout(function(){!f._data(h,l)&&!f._data(h,g)&&(f.removeData(h,e,!0),d.fire())},0)}function T(h){for(var C in h)if(!("data"===C&&f.isEmptyObject(h[C]))&&"toJSON"!==C)return!1;return!0}function L(h,C,a){if(a===c&&1===h.nodeType)if(a="data-"+C.replace(ob,"-$1").toLowerCase(),a=h.getAttribute(a),"string"==typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:f.isNumeric(a)?+a:pb.test(a)?f.parseJSON(a):a}catch(e){}f.data(h,C,a)}else a=c;return a}var z=m.document,V=m.location,f,o=function(){if(!p.isReady){try{z.documentElement.doScroll("left")}catch(h){setTimeout(o,
1);return}p.ready()}},p=function(h,C){return new p.fn.init(h,C,D)},B=m.jQuery,v=m.$,D,M=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,U=/\S/,e=/^\s+/,g=/\s+$/,A=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,l=/^[\],:{}\s]*$/,F=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,P=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,W=/(?:^|:|,)(?:\s*\[)+/g,ca=/(webkit)[ \/]([\w.]+)/,Z=/(opera)(?:.*version)?[ \/]([\w.]+)/,$=/(msie) ([\w.]+)/,ja=/(mozilla)(?:.*? rv:([\w.]+))?/,ka=/-([a-z]|[0-9])/ig,ha=/^-ms-/,qb=function(h,
C){return(C+"").toUpperCase()},Wa=m.navigator.userAgent,la,ta,ia,Xa=Object.prototype.toString,ua=Object.prototype.hasOwnProperty,va=Array.prototype.push,ma=Array.prototype.slice,Fa=String.prototype.trim,Ya=Array.prototype.indexOf,Ga={};p.fn=p.prototype={constructor:p,init:function(h,C,a){var e,l;if(!h)return this;if(h.nodeType)return this.context=this[0]=h,this.length=1,this;if("body"===h&&!C&&z.body)return this.context=z,this[0]=z.body,this.selector=h,this.length=1,this;if("string"==typeof h){"<"!==
h.charAt(0)||">"!==h.charAt(h.length-1)||3>h.length?e=M.exec(h):e=[null,h,null];if(e&&(e[1]||!C)){if(e[1])return l=(C=C instanceof p?C[0]:C)?C.ownerDocument||C:z,(a=A.exec(h))?p.isPlainObject(C)?(h=[z.createElement(a[1])],p.fn.attr.call(h,C,!0)):h=[l.createElement(a[1])]:(a=p.buildFragment([e[1]],[l]),h=(a.cacheable?p.clone(a.fragment):a.fragment).childNodes),p.merge(this,h);if((C=z.getElementById(e[2]))&&C.parentNode){if(C.id!==e[2])return a.find(h);this.length=1;this[0]=C}this.context=z;this.selector=
h;return this}return!C||C.jquery?(C||a).find(h):this.constructor(C).find(h)}if(p.isFunction(h))return a.ready(h);h.selector!==c&&(this.selector=h.selector,this.context=h.context);return p.makeArray(h,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return ma.call(this,0)},get:function(h){return null==h?this.toArray():0>h?this[this.length+h]:this[h]},pushStack:function(h,C,a){var e=this.constructor();p.isArray(h)?va.apply(e,h):p.merge(e,h);e.prevObject=
this;e.context=this.context;"find"===C?e.selector=this.selector+(this.selector?" ":"")+a:C&&(e.selector=this.selector+"."+C+"("+a+")");return e},each:function(h,a){return p.each(this,h,a)},ready:function(h){p.bindReady();ta.add(h);return this},eq:function(h){h=+h;return-1===h?this.slice(h):this.slice(h,h+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ma.apply(this,arguments),"slice",ma.call(arguments).join(","))},map:function(h){return this.pushStack(p.map(this,
function(a,e){return h.call(a,e,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:va,sort:[].sort,splice:[].splice};p.fn.init.prototype=p.fn;p.extend=p.fn.extend=function(){var h,a,e,l,g,d,f=arguments[0]||{},o=1,b=arguments.length,j=!1;"boolean"==typeof f&&(j=f,f=arguments[1]||{},o=2);"object"!=typeof f&&!p.isFunction(f)&&(f={});for(b===o&&(f=this,--o);o<b;o++)if(null!=(h=arguments[o]))for(a in h)e=f[a],l=h[a],f!==l&&(j&&l&&(p.isPlainObject(l)||(g=p.isArray(l)))?(g?(g=!1,
d=e&&p.isArray(e)?e:[]):d=e&&p.isPlainObject(e)?e:{},f[a]=p.extend(j,d,l)):l!==c&&(f[a]=l));return f};p.extend({noConflict:function(h){m.$===p&&(m.$=v);h&&m.jQuery===p&&(m.jQuery=B);return p},isReady:!1,readyWait:1,holdReady:function(h){h?p.readyWait++:p.ready(!0)},ready:function(h){if(!0===h&&!--p.readyWait||!0!==h&&!p.isReady){if(!z.body)return setTimeout(p.ready,1);p.isReady=!0;!0!==h&&0<--p.readyWait||(ta.fireWith(z,[p]),p.fn.trigger&&p(z).trigger("ready").off("ready"))}},bindReady:function(){if(!ta){ta=
p.Callbacks("once memory");if("complete"===z.readyState)return setTimeout(p.ready,1);if(z.addEventListener)z.addEventListener("DOMContentLoaded",ia,!1),m.addEventListener("load",p.ready,!1);else if(z.attachEvent){z.attachEvent("onreadystatechange",ia);m.attachEvent("onload",p.ready);var h=!1;try{h=null==m.frameElement}catch(a){}z.documentElement.doScroll&&h&&o()}}},isFunction:function(h){return"function"===p.type(h)},isArray:Array.isArray||function(h){return"array"===p.type(h)},isWindow:function(h){return null!=
h&&h==h.window},isNumeric:function(h){return!isNaN(parseFloat(h))&&isFinite(h)},type:function(h){return null==h?String(h):Ga[Xa.call(h)]||"object"},isPlainObject:function(h){if(!h||"object"!==p.type(h)||h.nodeType||p.isWindow(h))return!1;try{if(h.constructor&&!ua.call(h,"constructor")&&!ua.call(h.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var e in h);return e===c||ua.call(h,e)},isEmptyObject:function(h){for(var a in h)return!1;return!0},error:function(h){throw Error(h);
},parseJSON:function(h){if("string"!=typeof h||!h)return null;h=p.trim(h);if(m.JSON&&m.JSON.parse)return m.JSON.parse(h);if(l.test(h.replace(F,"@").replace(P,"]").replace(W,"")))return(new Function("return "+h))();p.error("Invalid JSON: "+h)},parseXML:function(h){if("string"!=typeof h||!h)return null;var a,e;try{m.DOMParser?(e=new DOMParser,a=e.parseFromString(h,"text/xml")):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(h))}catch(l){a=c}(!a||!a.documentElement||a.getElementsByTagName("parsererror").length)&&
p.error("Invalid XML: "+h);return a},noop:function(){},globalEval:function(h){h&&U.test(h)&&(m.execScript||function(h){m.eval.call(m,h)})(h)},camelCase:function(h){return h.replace(ha,"ms-").replace(ka,qb)},nodeName:function(h,a){return h.nodeName&&h.nodeName.toUpperCase()===a.toUpperCase()},each:function(h,a,e){var l,g=0,d=h.length,f=d===c||p.isFunction(h);if(e)if(f)for(l in h){if(!1===a.apply(h[l],e))break}else for(;g<d&&!1!==a.apply(h[g++],e););else if(f)for(l in h){if(!1===a.call(h[l],l,h[l]))break}else for(;g<
d&&!1!==a.call(h[g],g,h[g++]););return h},trim:Fa?function(h){return null==h?"":Fa.call(h)}:function(h){return null==h?"":(h+"").replace(e,"").replace(g,"")},makeArray:function(h,a){var e=a||[];if(null!=h){var l=p.type(h);null==h.length||"string"===l||"function"===l||"regexp"===l||p.isWindow(h)?va.call(e,h):p.merge(e,h)}return e},inArray:function(h,a,e){var l;if(a){if(Ya)return Ya.call(a,h,e);l=a.length;for(e=e?0>e?Math.max(0,l+e):e:0;e<l;e++)if(e in a&&a[e]===h)return e}return-1},merge:function(h,
a){var e=h.length,l=0;if("number"==typeof a.length)for(var g=a.length;l<g;l++)h[e++]=a[l];else for(;a[l]!==c;)h[e++]=a[l++];h.length=e;return h},grep:function(h,a,e){for(var l=[],g,e=!!e,d=0,f=h.length;d<f;d++)g=!!a(h[d],d),e!==g&&l.push(h[d]);return l},map:function(h,a,e){var l,g,d=[],f=0,o=h.length;if(h instanceof p||o!==c&&"number"==typeof o&&(0<o&&h[0]&&h[o-1]||0===o||p.isArray(h)))for(;f<o;f++)l=a(h[f],f,e),null!=l&&(d[d.length]=l);else for(g in h)l=a(h[g],g,e),null!=l&&(d[d.length]=l);return d.concat.apply([],
d)},guid:1,proxy:function(h,a){if("string"==typeof a)var e=h[a],a=h,h=e;if(!p.isFunction(h))return c;var l=ma.call(arguments,2),e=function(){return h.apply(a,l.concat(ma.call(arguments)))};e.guid=h.guid=h.guid||e.guid||p.guid++;return e},access:function(h,a,e,l,g,d,f){var o,b=null==e,j=0,F=h.length;if(e&&"object"==typeof e){for(j in e)p.access(h,a,j,e[j],1,d,l);g=1}else if(l!==c){o=f===c&&p.isFunction(l);b&&(o?(o=a,a=function(h,a,e){return o.call(p(h),e)}):(a.call(h,l),a=null));if(a)for(;j<F;j++)a(h[j],
e,o?l.call(h[j],j,a(h[j],e)):l,f);g=1}return g?h:b?a.call(h):F?a(h[0],e):d},now:function(){return(new Date).getTime()},uaMatch:function(h){h=h.toLowerCase();h=ca.exec(h)||Z.exec(h)||$.exec(h)||0>h.indexOf("compatible")&&ja.exec(h)||[];return{browser:h[1]||"",version:h[2]||"0"}},sub:function(){function h(a,e){return new h.fn.init(a,e)}p.extend(!0,h,this);h.superclass=this;h.fn=h.prototype=this();h.fn.constructor=h;h.sub=this.sub;h.fn.init=function(e,l){l&&l instanceof p&&!(l instanceof h)&&(l=h(l));
return p.fn.init.call(this,e,l,a)};h.fn.init.prototype=h.fn;var a=h(z);return h},browser:{}});p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(h,a){Ga["[object "+a+"]"]=a.toLowerCase()});la=p.uaMatch(Wa);la.browser&&(p.browser[la.browser]=!0,p.browser.version=la.version);p.browser.webkit&&(p.browser.safari=!0);U.test("\u00c2 ")&&(e=/^[\s\xA0]+/,g=/[\s\xA0]+$/);D=p(z);z.addEventListener?ia=function(){z.removeEventListener("DOMContentLoaded",ia,!1);p.ready()}:z.attachEvent&&
(ia=function(){"complete"===z.readyState&&(z.detachEvent("onreadystatechange",ia),p.ready())});f=p;var Ha={};f.Callbacks=function(h){var a;if(h){if(!(a=Ha[h])){a=h;var e=Ha[a]={},l,g;a=a.split(/\s+/);l=0;for(g=a.length;l<g;l++)e[a[l]]=!0;a=e}}else a={};var h=a,d=[],o=[],b,j,p,F,k,v,P=function(a){var e,C,l,g;e=0;for(C=a.length;e<C;e++)l=a[e],g=f.type(l),"array"===g?P(l):"function"===g&&(!h.unique||!B.has(l))&&d.push(l)},A=function(a,e){e=e||[];b=!h.memory||[a,e];p=j=!0;v=F||0;F=0;for(k=d.length;d&&
v<k;v++)if(!1===d[v].apply(a,e)&&h.stopOnFalse){b=!0;break}p=!1;d&&(h.once?!0===b?B.disable():d=[]:o&&o.length&&(b=o.shift(),B.fireWith(b[0],b[1])))},B={add:function(){if(d){var h=d.length;P(arguments);p?k=d.length:b&&!0!==b&&(F=h,A(b[0],b[1]))}return this},remove:function(){if(d)for(var a=arguments,e=0,C=a.length;e<C;e++)for(var l=0;l<d.length&&!(a[e]===d[l]&&(p&&l<=k&&(k--,l<=v&&v--),d.splice(l--,1),h.unique));l++);return this},has:function(h){if(d)for(var a=0,e=d.length;a<e;a++)if(h===d[a])return!0;
return!1},empty:function(){d=[];return this},disable:function(){d=o=b=c;return this},disabled:function(){return!d},lock:function(){o=c;(!b||!0===b)&&B.disable();return this},locked:function(){return!o},fireWith:function(a,e){o&&(p?h.once||o.push([a,e]):(!h.once||!b)&&A(a,e));return this},fire:function(){B.fireWith(this,arguments);return this},fired:function(){return!!j}};return B};var Ia=[].slice;f.extend({Deferred:function(h){var a=f.Callbacks("once memory"),e=f.Callbacks("once memory"),l=f.Callbacks("memory"),
g="pending",d={resolve:a,reject:e,notify:l},o={done:a.add,fail:e.add,progress:l.add,state:function(){return g},isResolved:a.fired,isRejected:e.fired,then:function(h,a,e){b.done(h).fail(a).progress(e);return this},always:function(){b.done.apply(b,arguments).fail.apply(b,arguments);return this},pipe:function(h,a,e){return f.Deferred(function(C){f.each({done:[h,"resolve"],fail:[a,"reject"],progress:[e,"notify"]},function(h,a){var e=a[0],l=a[1],g;f.isFunction(e)?b[h](function(){(g=e.apply(this,arguments))&&
f.isFunction(g.promise)?g.promise().then(C.resolve,C.reject,C.notify):C[l+"With"](this===b?C:this,[g])}):b[h](C[l])})}).promise()},promise:function(h){if(null==h)h=o;else for(var a in o)h[a]=o[a];return h}},b=o.promise({}),j;for(j in d)b[j]=d[j].fire,b[j+"With"]=d[j].fireWith;b.done(function(){g="resolved"},e.disable,l.lock).fail(function(){g="rejected"},a.disable,l.lock);h&&h.call(b,b);return b},when:function(h){function a(h){return function(a){o[h]=1<arguments.length?Ia.call(arguments,0):a;j.notifyWith(p,
o)}}function e(h){return function(a){l[h]=1<arguments.length?Ia.call(arguments,0):a;--b||j.resolveWith(j,l)}}var l=Ia.call(arguments,0),g=0,d=l.length,o=Array(d),b=d,j=1>=d&&h&&f.isFunction(h.promise)?h:f.Deferred(),p=j.promise();if(1<d){for(;g<d;g++)l[g]&&l[g].promise&&f.isFunction(l[g].promise)?l[g].promise().then(e(g),j.reject,a(g)):--b;b||j.resolveWith(j,l)}else j!==h&&j.resolveWith(j,d?[h]:[]);return p}});var rb=f,wa;var X,Ja,fa,xa,na,Y,ga,oa,pa,Ka,qa,O=z.createElement("div");O.setAttribute("className",
"t");O.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";Ja=O.getElementsByTagName("*");fa=O.getElementsByTagName("a")[0];if(!Ja||!Ja.length||!fa)wa={};else{xa=z.createElement("select");na=xa.appendChild(z.createElement("option"));Y=O.getElementsByTagName("input")[0];X={leadingWhitespace:3===O.firstChild.nodeType,tbody:!O.getElementsByTagName("tbody").length,htmlSerialize:!!O.getElementsByTagName("link").length,style:/top/.test(fa.getAttribute("style")),
hrefNormalized:"/a"===fa.getAttribute("href"),opacity:/^0.55/.test(fa.style.opacity),cssFloat:!!fa.style.cssFloat,checkOn:"on"===Y.value,optSelected:na.selected,getSetAttribute:"t"!==O.className,enctype:!!z.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};f.boxModel=X.boxModel=
"CSS1Compat"===z.compatMode;Y.checked=!0;X.noCloneChecked=Y.cloneNode(!0).checked;xa.disabled=!0;X.optDisabled=!na.disabled;try{delete O.test}catch(Fb){X.deleteExpando=!1}!O.addEventListener&&O.attachEvent&&O.fireEvent&&(O.attachEvent("onclick",function(){X.noCloneEvent=!1}),O.cloneNode(!0).fireEvent("onclick"));Y=z.createElement("input");Y.value="t";Y.setAttribute("type","radio");X.radioValue="t"===Y.value;Y.setAttribute("checked","checked");Y.setAttribute("name","t");O.appendChild(Y);ga=z.createDocumentFragment();
ga.appendChild(O.lastChild);X.checkClone=ga.cloneNode(!0).cloneNode(!0).lastChild.checked;X.appendChecked=Y.checked;ga.removeChild(Y);ga.appendChild(O);if(O.attachEvent)for(Ka in{submit:1,change:1,focusin:1})pa="on"+Ka,(qa=pa in O)||(O.setAttribute(pa,"return;"),qa="function"==typeof O[pa]),X[Ka+"Bubbles"]=qa;ga.removeChild(O);ga=xa=na=O=Y=null;f(function(){var h,a,e,l,g,d,o=z.getElementsByTagName("body")[0];!o||(h=z.createElement("div"),h.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px",
o.insertBefore(h,o.firstChild),O=z.createElement("div"),h.appendChild(O),O.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>",oa=O.getElementsByTagName("td"),qa=0===oa[0].offsetHeight,oa[0].style.display="",oa[1].style.display="none",X.reliableHiddenOffsets=qa&&0===oa[0].offsetHeight,m.getComputedStyle&&(O.innerHTML="",d=z.createElement("div"),d.style.width="0",d.style.marginRight="0",O.style.width="2px",O.appendChild(d),X.reliableMarginRight=
0===(parseInt((m.getComputedStyle(d,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof O.style.zoom&&(O.innerHTML="",O.style.width=O.style.padding="1px",O.style.border=0,O.style.overflow="hidden",O.style.display="inline",O.style.zoom=1,X.inlineBlockNeedsLayout=3===O.offsetWidth,O.style.display="block",O.style.overflow="visible",O.innerHTML="<div style='width:5px;'></div>",X.shrinkWrapBlocks=3!==O.offsetWidth),O.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;",
O.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",a=O.firstChild,e=a.firstChild,l=a.nextSibling.firstChild.firstChild,g={doesNotAddBorder:5!==e.offsetTop,doesAddBorderForTableAndCells:5===
l.offsetTop},e.style.position="fixed",e.style.top="20px",g.fixedPosition=20===e.offsetTop||15===e.offsetTop,e.style.position=e.style.top="",a.style.overflow="hidden",a.style.position="relative",g.subtractsBorderForOverflowNotVisible=-5===e.offsetTop,g.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,m.getComputedStyle&&(O.style.marginTop="1%",X.pixelMargin="1%"!==(m.getComputedStyle(O,null)||{marginTop:0}).marginTop),"undefined"!=typeof h.style.zoom&&(h.style.zoom=1),o.removeChild(h),O=null,f.extend(X,
g))});wa=X}rb.support=wa;var pb=/^(?:\{.*\}|\[.*\])$/,ob=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(h){h=h.nodeType?f.cache[h[f.expando]]:h[f.expando];return!!h&&!T(h)},data:function(h,a,e,l){if(f.acceptData(h)){var g,d;g=f.expando;var o="string"==typeof a,b=h.nodeType,j=b?f.cache:h,p=b?h[g]:h[g]&&g,F="events"===a;if(p&&j[p]&&(F||l||j[p].data)||
!(o&&e===c)){p||(b?h[g]=p=++f.uuid:p=g);j[p]||(j[p]={},b||(j[p].toJSON=f.noop));if("object"==typeof a||"function"==typeof a)l?j[p]=f.extend(j[p],a):j[p].data=f.extend(j[p].data,a);h=g=j[p];l||(g.data||(g.data={}),g=g.data);e!==c&&(g[f.camelCase(a)]=e);if(F&&!g[a])return h.events;o?(d=g[a],null==d&&(d=g[f.camelCase(a)])):d=g;return d}}},removeData:function(h,a,e){if(f.acceptData(h)){var l,g,d,o=f.expando,b=h.nodeType,j=b?f.cache:h,p=b?h[o]:o;if(j[p]){if(a&&(l=e?j[p]:j[p].data)){f.isArray(a)||(a in
l?a=[a]:(a=f.camelCase(a),a in l?a=[a]:a=a.split(" ")));g=0;for(d=a.length;g<d;g++)delete l[a[g]];if(!(e?T:f.isEmptyObject)(l))return}if(!e&&(delete j[p].data,!T(j[p])))return;f.support.deleteExpando||!j.setInterval?delete j[p]:j[p]=null;b&&(f.support.deleteExpando?delete h[o]:h.removeAttribute?h.removeAttribute(o):h[o]=null)}}},_data:function(h,a,e){return f.data(h,a,e,!0)},acceptData:function(h){if(h.nodeName){var a=f.noData[h.nodeName.toLowerCase()];if(a)return!0!==a&&h.getAttribute("classid")===
a}return!0}});f.fn.extend({data:function(h,a){var e,l,g,d,o,b=this[0],j=0,p=null;if(h===c){if(this.length&&(p=f.data(b),1===b.nodeType&&!f._data(b,"parsedAttrs"))){g=b.attributes;for(o=g.length;j<o;j++)d=g[j].name,0===d.indexOf("data-")&&(d=f.camelCase(d.substring(5)),L(b,d,p[d]));f._data(b,"parsedAttrs",!0)}return p}if("object"==typeof h)return this.each(function(){f.data(this,h)});e=h.split(".",2);e[1]=e[1]?"."+e[1]:"";l=e[1]+"!";return f.access(this,function(a){if(a===c)return p=this.triggerHandler("getData"+
l,[e[0]]),p===c&&b&&(p=f.data(b,h),p=L(b,h,p)),p===c&&e[1]?this.data(e[0]):p;e[1]=a;this.each(function(){var C=f(this);C.triggerHandler("setData"+l,e);f.data(this,h,a);C.triggerHandler("changeData"+l,e)})},null,a,1<arguments.length,null,!1)},removeData:function(h){return this.each(function(){f.removeData(this,h)})}});f.extend({_mark:function(h,a){h&&(a=(a||"fx")+"mark",f._data(h,a,(f._data(h,a)||0)+1))},_unmark:function(h,a,e){!0!==h&&(e=a,a=h,h=!1);if(a){var e=e||"fx",l=e+"mark";(h=h?0:(f._data(a,
l)||1)-1)?f._data(a,l,h):(f.removeData(a,l,!0),G(a,e,"mark"))}},queue:function(h,a,e){var l;if(h)return a=(a||"fx")+"queue",l=f._data(h,a),e&&(!l||f.isArray(e)?l=f._data(h,a,f.makeArray(e)):l.push(e)),l||[]},dequeue:function(h,a){var a=a||"fx",e=f.queue(h,a),l=e.shift(),g={};"inprogress"===l&&(l=e.shift());l&&("fx"===a&&e.unshift("inprogress"),f._data(h,a+".run",g),l.call(h,function(){f.dequeue(h,a)},g));e.length||(f.removeData(h,a+"queue "+a+".run",!0),G(h,a,"queue"))}});f.fn.extend({queue:function(h,
a){var e=2;"string"!=typeof h&&(a=h,h="fx",e--);return arguments.length<e?f.queue(this[0],h):a===c?this:this.each(function(){var e=f.queue(this,h,a);"fx"===h&&"inprogress"!==e[0]&&f.dequeue(this,h)})},dequeue:function(h){return this.each(function(){f.dequeue(this,h)})},delay:function(h,a){h=f.fx?f.fx.speeds[h]||h:h;return this.queue(a||"fx",function(a,e){var l=setTimeout(a,h);e.stop=function(){clearTimeout(l)}})},clearQueue:function(h){return this.queue(h||"fx",[])},promise:function(h,a){function e(){--o||
l.resolveWith(g,[g])}"string"!=typeof h&&(a=h,h=c);for(var h=h||"fx",l=f.Deferred(),g=this,d=g.length,o=1,b=h+"defer",j=h+"queue",p=h+"mark",F;d--;)if(F=f.data(g[d],b,c,!0)||(f.data(g[d],j,c,!0)||f.data(g[d],p,c,!0))&&f.data(g[d],b,f.Callbacks("once memory"),!0))o++,F.add(e);e();return l.promise(a)}});var Za=/[\n\t\r]/g,ra=/\s+/,$a=/\r/g,ab=/^(?:button|input)$/i,bb=/^(?:button|input|object|select|textarea)$/i,cb=/^a(?:rea)?$/i,La=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
db=f.support.getSetAttribute,aa,Ma,eb;f.fn.extend({attr:function(h,a){return f.access(this,f.attr,h,a,1<arguments.length)},removeAttr:function(h){return this.each(function(){f.removeAttr(this,h)})},prop:function(h,a){return f.access(this,f.prop,h,a,1<arguments.length)},removeProp:function(h){h=f.propFix[h]||h;return this.each(function(){try{this[h]=c,delete this[h]}catch(a){}})},addClass:function(h){var a,e,l,g,d,o,b;if(f.isFunction(h))return this.each(function(a){f(this).addClass(h.call(this,a,this.className))});
if(h&&"string"==typeof h){a=h.split(ra);e=0;for(l=this.length;e<l;e++)if(g=this[e],1===g.nodeType)if(!g.className&&1===a.length)g.className=h;else{d=" "+g.className+" ";o=0;for(b=a.length;o<b;o++)~d.indexOf(" "+a[o]+" ")||(d+=a[o]+" ");g.className=f.trim(d)}}return this},removeClass:function(h){var a,e,l,g,d,o,b;if(f.isFunction(h))return this.each(function(a){f(this).removeClass(h.call(this,a,this.className))});if(h&&"string"==typeof h||h===c){a=(h||"").split(ra);e=0;for(l=this.length;e<l;e++)if(g=
this[e],1===g.nodeType&&g.className)if(h){d=(" "+g.className+" ").replace(Za," ");o=0;for(b=a.length;o<b;o++)d=d.replace(" "+a[o]+" "," ");g.className=f.trim(d)}else g.className=""}return this},toggleClass:function(h,a){var e=typeof h,l="boolean"==typeof a;return f.isFunction(h)?this.each(function(e){f(this).toggleClass(h.call(this,e,this.className,a),a)}):this.each(function(){if("string"===e)for(var g,d=0,o=f(this),b=a,j=h.split(ra);g=j[d++];)b=l?b:!o.hasClass(g),o[b?"addClass":"removeClass"](g);
else if("undefined"===e||"boolean"===e)this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===h?"":f._data(this,"__className__")||""})},hasClass:function(h){for(var h=" "+h+" ",a=0,e=this.length;a<e;a++)if(1===this[a].nodeType&&-1<(" "+this[a].className+" ").replace(Za," ").indexOf(h))return!0;return!1},val:function(h){var a,e,l,g=this[0];if(arguments.length)return l=f.isFunction(h),this.each(function(e){var g=f(this),d;if(1===this.nodeType&&(l?d=h.call(this,
e,g.val()):d=h,null==d?d="":"number"==typeof d?d+="":f.isArray(d)&&(d=f.map(d,function(h){return h==null?"":h+""})),a=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],!a||!("set"in a)||a.set(this,d,"value")===c))this.value=d});if(g){if((a=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()])&&"get"in a&&(e=a.get(g,"value"))!==c)return e;e=g.value;return"string"==typeof e?e.replace($a,""):null==e?"":e}}});f.extend({valHooks:{option:{get:function(h){var a=h.attributes.value;return!a||
a.specified?h.value:h.text}},select:{get:function(h){var a,e,l=h.selectedIndex,g=[],d=h.options,o="select-one"===h.type;if(0>l)return null;h=o?l:0;for(e=o?l+1:d.length;h<e;h++)if(a=d[h],a.selected&&(f.support.optDisabled?!a.disabled:null===a.getAttribute("disabled"))&&(!a.parentNode.disabled||!f.nodeName(a.parentNode,"optgroup"))){a=f(a).val();if(o)return a;g.push(a)}return o&&!g.length&&d.length?f(d[l]).val():g},set:function(h,a){var e=f.makeArray(a);f(h).find("option").each(function(){this.selected=
0<=f.inArray(f(this).val(),e)});e.length||(h.selectedIndex=-1);return e}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(h,a,e,l){var g,d,o=h.nodeType;if(h&&3!==o&&8!==o&&2!==o){if(l&&a in f.attrFn)return f(h)[a](e);if("undefined"==typeof h.getAttribute)return f.prop(h,a,e);(l=1!==o||!f.isXMLDoc(h))&&(a=a.toLowerCase(),d=f.attrHooks[a]||(La.test(a)?Ma:aa));if(e!==c){if(null===e){f.removeAttr(h,a);return}if(d&&"set"in d&&l&&(g=d.set(h,e,a))!==c)return g;
h.setAttribute(a,""+e);return e}if(d&&"get"in d&&l&&null!==(g=d.get(h,a)))return g;g=h.getAttribute(a);return null===g?c:g}},removeAttr:function(h,a){var e,l,g,d,o,b=0;if(a&&1===h.nodeType){l=a.toLowerCase().split(ra);for(d=l.length;b<d;b++)(g=l[b])&&(e=f.propFix[g]||g,o=La.test(g),o||f.attr(h,g,""),h.removeAttribute(db?g:e),o&&e in h&&(h[e]=!1))}},attrHooks:{type:{set:function(h,a){if(ab.test(h.nodeName)&&h.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&"radio"===
a&&f.nodeName(h,"input")){var e=h.value;h.setAttribute("type",a);e&&(h.value=e);return a}}},value:{get:function(h,a){return aa&&f.nodeName(h,"button")?aa.get(h,a):a in h?h.value:null},set:function(h,a,e){if(aa&&f.nodeName(h,"button"))return aa.set(h,a,e);h.value=a}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",
contenteditable:"contentEditable"},prop:function(h,a,e){var l,g,d;d=h.nodeType;if(h&&3!==d&&8!==d&&2!==d)return(d=1!==d||!f.isXMLDoc(h))&&(a=f.propFix[a]||a,g=f.propHooks[a]),e!==c?g&&"set"in g&&(l=g.set(h,e,a))!==c?l:h[a]=e:g&&"get"in g&&null!==(l=g.get(h,a))?l:h[a]},propHooks:{tabIndex:{get:function(h){var a=h.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):bb.test(h.nodeName)||cb.test(h.nodeName)&&h.href?0:c}}}});f.attrHooks.tabindex=f.propHooks.tabIndex;Ma={get:function(h,
a){var e,l=f.prop(h,a);return!0===l||"boolean"!=typeof l&&(e=h.getAttributeNode(a))&&!1!==e.nodeValue?a.toLowerCase():c},set:function(h,a,e){var l;!1===a?f.removeAttr(h,e):(l=f.propFix[e]||e,l in h&&(h[l]=!0),h.setAttribute(e,e.toLowerCase()));return e}};db||(eb={name:!0,id:!0,coords:!0},aa=f.valHooks.button={get:function(h,a){var e;return(e=h.getAttributeNode(a))&&(eb[a]?""!==e.nodeValue:e.specified)?e.nodeValue:c},set:function(h,a,e){var l=h.getAttributeNode(e);l||(l=z.createAttribute(e),h.setAttributeNode(l));
return l.nodeValue=a+""}},f.attrHooks.tabindex.set=aa.set,f.each(["width","height"],function(h,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{set:function(h,e){if(""===e)return h.setAttribute(a,"auto"),e}})}),f.attrHooks.contenteditable={get:aa.get,set:function(h,a,e){""===a&&(a="false");aa.set(h,a,e)}});f.support.hrefNormalized||f.each(["href","src","width","height"],function(h,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{get:function(h){h=h.getAttribute(a,2);return null===h?c:h}})});f.support.style||
(f.attrHooks.style={get:function(h){return h.style.cssText.toLowerCase()||c},set:function(h,a){return h.style.cssText=""+a}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(h){h=h.parentNode;h&&(h.selectedIndex,h.parentNode&&h.parentNode.selectedIndex);return null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(h){return null===h.getAttribute("value")?"on":h.value}}});
f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(h,a){if(f.isArray(a))return h.checked=0<=f.inArray(f(h).val(),a)}})});var ya=/^(?:textarea|input|select)$/i,Na=/^([^\.]*)?(?:\.(.+))?$/,fb=/(?:^|\s)hover(\.\S+)?\b/,gb=/^key/,hb=/^(?:mouse|contextmenu)|click/,Oa=/^(?:focusinfocus|focusoutblur)$/,ib=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,jb=function(h){(h=ib.exec(h))&&(h[1]=(h[1]||"").toLowerCase(),h[3]=h[3]&&RegExp("(?:^|\\s)"+h[3]+"(?:\\s|$)"));return h},
Pa=function(h){return f.event.special.hover?h:h.replace(fb,"mouseenter$1 mouseleave$1")};f.event={add:function(h,a,e,l,g){var d,o,b,j,p,F,k,v,P;if(!(3===h.nodeType||8===h.nodeType||!a||!e||!(d=f._data(h)))){e.handler&&(k=e,e=k.handler,g=k.selector);e.guid||(e.guid=f.guid++);(b=d.events)||(d.events=b={});(o=d.handle)||(d.handle=o=function(h){return"undefined"!=typeof f&&(!h||f.event.triggered!==h.type)?f.event.dispatch.apply(o.elem,arguments):c},o.elem=h);a=f.trim(Pa(a)).split(" ");for(d=0;d<a.length;d++){j=
Na.exec(a[d])||[];p=j[1];F=(j[2]||"").split(".").sort();P=f.event.special[p]||{};p=(g?P.delegateType:P.bindType)||p;P=f.event.special[p]||{};j=f.extend({type:p,origType:j[1],data:l,handler:e,guid:e.guid,selector:g,quick:g&&jb(g),namespace:F.join(".")},k);v=b[p];if(!v&&(v=b[p]=[],v.delegateCount=0,!P.setup||!1===P.setup.call(h,l,F,o)))h.addEventListener?h.addEventListener(p,o,!1):h.attachEvent&&h.attachEvent("on"+p,o);P.add&&(P.add.call(h,j),j.handler.guid||(j.handler.guid=e.guid));g?v.splice(v.delegateCount++,
0,j):v.push(j);f.event.global[p]=!0}h=null}},global:{},remove:function(h,a,e,l,g){var d=f.hasData(h)&&f._data(h),o,b,j,p,F,k,c,v,P,A,B;if(d&&(c=d.events)){a=f.trim(Pa(a||"")).split(" ");for(o=0;o<a.length;o++)if(b=Na.exec(a[o])||[],j=p=b[1],b=b[2],j){v=f.event.special[j]||{};j=(l?v.delegateType:v.bindType)||j;A=c[j]||[];F=A.length;b=b?RegExp("(^|\\.)"+b.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(k=0;k<A.length;k++)B=A[k],(g||p===B.origType)&&(!e||e.guid===B.guid)&&(!b||b.test(B.namespace))&&
(!l||l===B.selector||"**"===l&&B.selector)&&(A.splice(k--,1),B.selector&&A.delegateCount--,v.remove&&v.remove.call(h,B));0===A.length&&F!==A.length&&((!v.teardown||!1===v.teardown.call(h,b))&&f.removeEvent(h,j,d.handle),delete c[j])}else for(j in c)f.event.remove(h,j+a[o],e,l,!0);f.isEmptyObject(c)&&(P=d.handle,P&&(P.elem=null),f.removeData(h,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(h,a,e,l){if(!e||3!==e.nodeType&&8!==e.nodeType){var g=h.type||
h,d=[],o,b,j,p,F,k;if(!Oa.test(g+f.event.triggered)&&(0<=g.indexOf("!")&&(g=g.slice(0,-1),o=!0),0<=g.indexOf(".")&&(d=g.split("."),g=d.shift(),d.sort()),e&&!f.event.customEvent[g]||f.event.global[g]))if(h="object"==typeof h?h[f.expando]?h:new f.Event(g,h):new f.Event(g),h.type=g,h.isTrigger=!0,h.exclusive=o,h.namespace=d.join("."),h.namespace_re=h.namespace?RegExp("(^|\\.)"+d.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=0>g.indexOf(":")?"on"+g:"",e){if(h.result=c,h.target||(h.target=e),a=null!=a?f.makeArray(a):
[],a.unshift(h),p=f.event.special[g]||{},!(p.trigger&&!1===p.trigger.apply(e,a))){k=[[e,p.bindType||g]];if(!l&&!p.noBubble&&!f.isWindow(e)){b=p.delegateType||g;d=Oa.test(b+g)?e:e.parentNode;for(j=null;d;d=d.parentNode)k.push([d,b]),j=d;j&&j===e.ownerDocument&&k.push([j.defaultView||j.parentWindow||m,b])}for(b=0;b<k.length&&!h.isPropagationStopped();b++)d=k[b][0],h.type=k[b][1],(F=(f._data(d,"events")||{})[h.type]&&f._data(d,"handle"))&&F.apply(d,a),(F=o&&d[o])&&f.acceptData(d)&&!1===F.apply(d,a)&&
h.preventDefault();h.type=g;!l&&!h.isDefaultPrevented()&&(!p._default||!1===p._default.apply(e.ownerDocument,a))&&("click"!==g||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[g]&&("focus"!==g&&"blur"!==g||0!==h.target.offsetWidth)&&!f.isWindow(e)&&(j=e[o],j&&(e[o]=null),f.event.triggered=g,e[g](),f.event.triggered=c,j&&(e[o]=j));return h.result}}else for(b in e=f.cache,e)e[b].events&&e[b].events[g]&&f.event.trigger(h,a,e[b].handle.elem,!0)}},dispatch:function(h){var h=f.event.fix(h||m.event),a=(f._data(this,
"events")||{})[h.type]||[],e=a.delegateCount,l=[].slice.call(arguments,0),g=!h.exclusive&&!h.namespace,d=f.event.special[h.type]||{},o=[],b,j,p,F,k,v,P;l[0]=h;h.delegateTarget=this;if(!d.preDispatch||!1!==d.preDispatch.call(this,h)){if(e&&(!h.button||"click"!==h.type)){p=f(this);p.context=this.ownerDocument||this;for(j=h.target;j!=this;j=j.parentNode||this)if(!0!==j.disabled){k={};v=[];p[0]=j;for(b=0;b<e;b++){F=a[b];P=F.selector;if(k[P]===c){var A=k,B=P,r;if(F.quick){r=F.quick;var W=j.attributes||
{};r=(!r[1]||j.nodeName.toLowerCase()===r[1])&&(!r[2]||(W.id||{}).value===r[2])&&(!r[3]||r[3].test((W["class"]||{}).value))}else r=p.is(P);A[B]=r}k[P]&&v.push(F)}v.length&&o.push({elem:j,matches:v})}}a.length>e&&o.push({elem:this,matches:a.slice(e)});for(b=0;b<o.length&&!h.isPropagationStopped();b++){e=o[b];h.currentTarget=e.elem;for(a=0;a<e.matches.length&&!h.isImmediatePropagationStopped();a++)if(F=e.matches[a],g||!h.namespace&&!F.namespace||h.namespace_re&&h.namespace_re.test(F.namespace))h.data=
F.data,h.handleObj=F,F=((f.event.special[F.origType]||{}).handle||F.handler).apply(e.elem,l),F!==c&&(h.result=F,!1===F&&(h.preventDefault(),h.stopPropagation()))}d.postDispatch&&d.postDispatch.call(this,h);return h.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(h,a){null==h.which&&
(h.which=null!=a.charCode?a.charCode:a.keyCode);return h}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(h,a){var e,l,g,d=a.button,o=a.fromElement;null==h.pageX&&null!=a.clientX&&(e=h.target.ownerDocument||z,l=e.documentElement,g=e.body,h.pageX=a.clientX+(l&&l.scrollLeft||g&&g.scrollLeft||0)-(l&&l.clientLeft||g&&g.clientLeft||0),h.pageY=a.clientY+(l&&l.scrollTop||g&&g.scrollTop||0)-(l&&l.clientTop||g&&
g.clientTop||0));!h.relatedTarget&&o&&(h.relatedTarget=o===h.target?a.toElement:o);!h.which&&d!==c&&(h.which=d&1?1:d&2?3:d&4?2:0);return h}},fix:function(h){if(h[f.expando])return h;var a,e,l=h,g=f.event.fixHooks[h.type]||{},d=g.props?this.props.concat(g.props):this.props,h=f.Event(l);for(a=d.length;a;)e=d[--a],h[e]=l[e];h.target||(h.target=l.srcElement||z);3===h.target.nodeType&&(h.target=h.target.parentNode);h.metaKey===c&&(h.metaKey=h.ctrlKey);return g.filter?g.filter(h,l):h},special:{ready:{setup:f.bindReady},
load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(h,a,e){f.isWindow(this)&&(this.onbeforeunload=e)},teardown:function(h,a){this.onbeforeunload===a&&(this.onbeforeunload=null)}}},simulate:function(h,a,e,l){h=f.extend(new f.Event,e,{type:h,isSimulated:!0,originalEvent:{}});l?f.event.trigger(h,null,a):f.event.dispatch.call(a,h);h.isDefaultPrevented()&&e.preventDefault()}};f.event.handle=f.event.dispatch;f.removeEvent=z.removeEventListener?function(h,
a,e){h.removeEventListener&&h.removeEventListener(a,e,!1)}:function(h,a,e){h.detachEvent&&h.detachEvent("on"+a,e)};f.Event=function(h,a){if(!(this instanceof f.Event))return new f.Event(h,a);h&&h.type?(this.originalEvent=h,this.type=h.type,this.isDefaultPrevented=h.defaultPrevented||!1===h.returnValue||h.getPreventDefault&&h.getPreventDefault()?K:H):this.type=h;a&&f.extend(this,a);this.timeStamp=h&&h.timeStamp||f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=
K;var h=this.originalEvent;!h||(h.preventDefault?h.preventDefault():h.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var h=this.originalEvent;!h||(h.stopPropagation&&h.stopPropagation(),h.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K;this.stopPropagation()},isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(h,a){f.event.special[h]={delegateType:a,
bindType:a,handle:function(h){var e=h.relatedTarget,l=h.handleObj,g;if(!e||e!==this&&!f.contains(this,e))h.type=l.origType,g=l.handler.apply(this,arguments),h.type=a;return g}}});f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(h){h=h.target;(h=f.nodeName(h,"input")||f.nodeName(h,"button")?h.form:c)&&!h._submit_attached&&(f.event.add(h,"submit._submit",function(h){h._submit_bubble=!0}),
h._submit_attached=!0)})},postDispatch:function(h){h._submit_bubble&&(delete h._submit_bubble,this.parentNode&&!h.isTrigger&&f.event.simulate("submit",this.parentNode,h,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change={setup:function(){if(ya.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type)f.event.add(this,"propertychange._change",function(h){"checked"===h.originalEvent.propertyName&&
(this._just_changed=!0)}),f.event.add(this,"click._change",function(h){this._just_changed&&!h.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,h,!0))});return!1}f.event.add(this,"beforeactivate._change",function(h){h=h.target;ya.test(h.nodeName)&&!h._change_attached&&(f.event.add(h,"change._change",function(h){this.parentNode&&!h.isSimulated&&!h.isTrigger&&f.event.simulate("change",this.parentNode,h,!0)}),h._change_attached=!0)})},handle:function(h){var a=h.target;if(this!==a||h.isSimulated||
h.isTrigger||"radio"!==a.type&&"checkbox"!==a.type)return h.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return ya.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(h,a){var e=0,l=function(h){f.event.simulate(a,h.target,f.event.fix(h),!0)};f.event.special[a]={setup:function(){0===e++&&z.addEventListener(h,l,!0)},teardown:function(){0===--e&&z.removeEventListener(h,l,!0)}}});f.fn.extend({on:function(h,
a,e,l,g){var d,o;if("object"==typeof h){"string"!=typeof a&&(e=e||a,a=c);for(o in h)this.on(o,a,e,h[o],g);return this}null==e&&null==l?(l=a,e=a=c):null==l&&("string"==typeof a?(l=e,e=c):(l=e,e=a,a=c));if(!1===l)l=H;else if(!l)return this;1===g&&(d=l,l=function(h){f().off(h);return d.apply(this,arguments)},l.guid=d.guid||(d.guid=f.guid++));return this.each(function(){f.event.add(this,h,l,e,a)})},one:function(h,a,e,l){return this.on(h,a,e,l,1)},off:function(h,a,e){if(h&&h.preventDefault&&h.handleObj){var l=
h.handleObj;f(h.delegateTarget).off(l.namespace?l.origType+"."+l.namespace:l.origType,l.selector,l.handler);return this}if("object"==typeof h){for(l in h)this.off(l,a,h[l]);return this}if(!1===a||"function"==typeof a)e=a,a=c;!1===e&&(e=H);return this.each(function(){f.event.remove(this,h,e,a)})},bind:function(h,a,e){return this.on(h,null,a,e)},unbind:function(h,a){return this.off(h,null,a)},live:function(h,a,e){f(this.context).on(h,this.selector,a,e);return this},die:function(h,a){f(this.context).off(h,
this.selector||"**",a);return this},delegate:function(h,a,e,l){return this.on(a,h,e,l)},undelegate:function(h,a,e){return 1==arguments.length?this.off(h,"**"):this.off(a,h,e)},trigger:function(h,a){return this.each(function(){f.event.trigger(h,a,this)})},triggerHandler:function(h,a){if(this[0])return f.event.trigger(h,a,this[0],!0)},toggle:function(h){var a=arguments,e=h.guid||f.guid++,l=0,g=function(e){var g=(f._data(this,"lastToggle"+h.guid)||0)%l;f._data(this,"lastToggle"+h.guid,g+1);e.preventDefault();
return a[g].apply(this,arguments)||!1};for(g.guid=e;l<a.length;)a[l++].guid=e;return this.click(g)},hover:function(h,a){return this.mouseenter(h).mouseleave(a||h)}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(h,a){f.fn[a]=function(h,e){e==null&&(e=h,h=null);return arguments.length>0?this.on(a,null,h,e):this.trigger(a)};
f.attrFn&&(f.attrFn[a]=true);gb.test(a)&&(f.event.fixHooks[a]=f.event.keyHooks);hb.test(a)&&(f.event.fixHooks[a]=f.event.mouseHooks)});var Ra=function(h,a,e,l,g,d){for(var g=0,o=l.length;g<o;g++){var b=l[g];if(b){for(var f=!1,b=b[h];b;){if(b[Qa]===e){f=l[b.sizset];break}if(1===b.nodeType)if(d||(b[Qa]=e,b.sizset=g),"string"!=typeof a){if(b===a){f=!0;break}}else if(0<N.filter(a,[b]).length){f=b;break}b=b[h]}l[g]=f}}},Sa=function(h,a,e,l,g,d){for(var g=0,o=l.length;g<o;g++){var b=l[g];if(b){for(var f=
!1,b=b[h];b;){if(b[Qa]===e){f=l[b.sizset];break}1===b.nodeType&&!d&&(b[Qa]=e,b.sizset=g);if(b.nodeName.toLowerCase()===a){f=b;break}b=b[h]}l[g]=f}}},za=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,Qa="sizcache"+(Math.random()+"").replace(".",""),Gb=0,Sb=Object.prototype.toString,sb=!1,Tb=!0,Ta=/\\/g,oc=/\r\n/g,tb=/\W/;[0,0].sort(function(){Tb=!1;return 0});var N=function(h,a,e,l){var e=e||[],g=a=a||z;if(1!==a.nodeType&&
9!==a.nodeType)return[];if(!h||"string"!=typeof h)return e;var d,o,b,f,j,p,F=!0,k=N.isXML(a),c=[],v=h;do if(za.exec(""),d=za.exec(v))if(v=d[3],c.push(d[1]),d[2]){f=d[3];break}while(d);if(1<c.length&&Ub.exec(h))if(2===c.length&&S.relative[c[0]])o=Vb(c[0]+c[1],a,l);else for(o=S.relative[c[0]]?[a]:N(c.shift(),a);c.length;)h=c.shift(),S.relative[h]&&(h+=c.shift()),o=Vb(h,o,l);else if(!l&&1<c.length&&9===a.nodeType&&!k&&S.match.ID.test(c[0])&&!S.match.ID.test(c[c.length-1])&&(j=N.find(c.shift(),a,k),a=
j.expr?N.filter(j.expr,j.set)[0]:j.set[0]),a){j=l?{expr:c.pop(),set:da(l)}:N.find(c.pop(),1===c.length&&("~"===c[0]||"+"===c[0])&&a.parentNode?a.parentNode:a,k);o=j.expr?N.filter(j.expr,j.set):j.set;for(0<c.length?b=da(o):F=!1;c.length;)d=p=c.pop(),S.relative[p]?d=c.pop():p="",null==d&&(d=a),S.relative[p](b,d,k)}else b=[];b||(b=o);b||N.error(p||h);if("[object Array]"===Sb.call(b))if(F)if(a&&1===a.nodeType)for(h=0;null!=b[h];h++)b[h]&&(!0===b[h]||1===b[h].nodeType&&N.contains(a,b[h]))&&e.push(o[h]);
else for(h=0;null!=b[h];h++)b[h]&&1===b[h].nodeType&&e.push(o[h]);else e.push.apply(e,b);else da(b,e);f&&(N(f,g,e,l),N.uniqueSort(e));return e};N.uniqueSort=function(h){if(ub&&(sb=Tb,h.sort(ub),sb))for(var a=1;a<h.length;a++)h[a]===h[a-1]&&h.splice(a--,1);return h};N.matches=function(h,a){return N(h,null,null,a)};N.matchesSelector=function(h,a){return 0<N(a,null,null,[h]).length};N.find=function(h,a,e){var l,g,d,o,b,f;if(!h)return[];g=0;for(d=S.order.length;g<d;g++)if(b=S.order[g],o=S.leftMatch[b].exec(h))if(f=
o[1],o.splice(1,1),"\\"!==f.substr(f.length-1)&&(o[1]=(o[1]||"").replace(Ta,""),l=S.find[b](o,a,e),null!=l)){h=h.replace(S.match[b],"");break}l||(l="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName("*"):[]);return{set:l,expr:h}};N.filter=function(h,a,e,l){for(var g,d,o,b,f,j,p,F,k=h,v=[],P=a,A=a&&a[0]&&N.isXML(a[0]);h&&a.length;){for(o in S.filter)if(null!=(g=S.leftMatch[o].exec(h))&&g[2])if(j=S.filter[o],f=g[1],d=!1,g.splice(1,1),"\\"!==f.substr(f.length-1)){P===v&&(v=[]);if(S.preFilter[o])if(g=
S.preFilter[o](g,P,e,v,l,A)){if(!0===g)continue}else d=b=!0;if(g)for(p=0;null!=(f=P[p]);p++)f&&(b=j(f,g,p,P),F=l^b,e&&null!=b?F?d=!0:P[p]=!1:F&&(v.push(f),d=!0));if(b!==c){e||(P=v);h=h.replace(S.match[o],"");if(!d)return[];break}}if(h===k)if(null==d)N.error(h);else break;k=h}return P};N.error=function(h){throw Error("Syntax error, unrecognized expression: "+h);};var Hb=N.getText=function(h){var a,e;a=h.nodeType;var l="";if(a)if(1===a||9===a||11===a){if("string"==typeof h.textContent)return h.textContent;
if("string"==typeof h.innerText)return h.innerText.replace(oc,"");for(h=h.firstChild;h;h=h.nextSibling)l+=Hb(h)}else{if(3===a||4===a)return h.nodeValue}else for(a=0;e=h[a];a++)8!==e.nodeType&&(l+=Hb(e));return l},S=N.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(h){return h.getAttribute("href")},type:function(h){return h.getAttribute("type")}},relative:{"+":function(h,a){var e=
"string"==typeof a,l=e&&!tb.test(a),e=e&&!l;l&&(a=a.toLowerCase());for(var l=0,g=h.length,d;l<g;l++)if(d=h[l]){for(;(d=d.previousSibling)&&1!==d.nodeType;);h[l]=e||d&&d.nodeName.toLowerCase()===a?d||!1:d===a}e&&N.filter(a,h,!0)},">":function(h,a){var e,l="string"==typeof a,g=0,d=h.length;if(l&&!tb.test(a))for(a=a.toLowerCase();g<d;g++){if(e=h[g])e=e.parentNode,h[g]=e.nodeName.toLowerCase()===a?e:!1}else{for(;g<d;g++)(e=h[g])&&(h[g]=l?e.parentNode:e.parentNode===a);l&&N.filter(a,h,!0)}},"":function(h,
a,e){var l,g=Gb++,d=Ra;"string"==typeof a&&!tb.test(a)&&(a=a.toLowerCase(),l=a,d=Sa);d("parentNode",a,g,h,l,e)},"~":function(h,a,e){var l,g=Gb++,d=Ra;"string"==typeof a&&!tb.test(a)&&(a=a.toLowerCase(),l=a,d=Sa);d("previousSibling",a,g,h,l,e)}},find:{ID:function(h,a,e){if("undefined"!=typeof a.getElementById&&!e)return(h=a.getElementById(h[1]))&&h.parentNode?[h]:[]},NAME:function(h,a){if("undefined"!=typeof a.getElementsByName){for(var e=[],l=a.getElementsByName(h[1]),g=0,d=l.length;g<d;g++)l[g].getAttribute("name")===
h[1]&&e.push(l[g]);return 0===e.length?null:e}},TAG:function(h,a){if("undefined"!=typeof a.getElementsByTagName)return a.getElementsByTagName(h[1])}},preFilter:{CLASS:function(h,a,e,l,g,d){h=" "+h[1].replace(Ta,"")+" ";if(d)return h;for(var d=0,o;null!=(o=a[d]);d++)o&&(g^(o.className&&0<=(" "+o.className+" ").replace(/[\t\n\r]/g," ").indexOf(h))?e||l.push(o):e&&(a[d]=!1));return!1},ID:function(h){return h[1].replace(Ta,"")},TAG:function(h){return h[1].replace(Ta,"").toLowerCase()},CHILD:function(h){if("nth"===
h[1]){h[2]||N.error(h[0]);h[2]=h[2].replace(/^\+|\s*/g,"");var a=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===h[2]&&"2n"||"odd"===h[2]&&"2n+1"||!/\D/.test(h[2])&&"0n+"+h[2]||h[2]);h[2]=a[1]+(a[2]||1)-0;h[3]=a[3]-0}else h[2]&&N.error(h[0]);h[0]=Gb++;return h},ATTR:function(h,a,e,l,g,d){a=h[1]=h[1].replace(Ta,"");!d&&S.attrMap[a]&&(h[1]=S.attrMap[a]);h[4]=(h[4]||h[5]||"").replace(Ta,"");"~="===h[2]&&(h[4]=" "+h[4]+" ");return h},PSEUDO:function(h,a,e,l,g){if("not"===h[1])if(1<(za.exec(h[3])||"").length||
/^\w/.test(h[3]))h[3]=N(h[3],null,null,a);else return h=N.filter(h[3],a,e,1^g),e||l.push.apply(l,h),!1;else if(S.match.POS.test(h[0])||S.match.CHILD.test(h[0]))return!0;return h},POS:function(h){h.unshift(!0);return h}},filters:{enabled:function(h){return!1===h.disabled&&"hidden"!==h.type},disabled:function(h){return!0===h.disabled},checked:function(h){return!0===h.checked},selected:function(h){h.parentNode&&h.parentNode.selectedIndex;return!0===h.selected},parent:function(h){return!!h.firstChild},
empty:function(h){return!h.firstChild},has:function(h,a,e){return!!N(e[3],h).length},header:function(h){return/h\d/i.test(h.nodeName)},text:function(h){var a=h.getAttribute("type"),e=h.type;return"input"===h.nodeName.toLowerCase()&&"text"===e&&(a===e||null===a)},radio:function(h){return"input"===h.nodeName.toLowerCase()&&"radio"===h.type},checkbox:function(h){return"input"===h.nodeName.toLowerCase()&&"checkbox"===h.type},file:function(h){return"input"===h.nodeName.toLowerCase()&&"file"===h.type},
password:function(h){return"input"===h.nodeName.toLowerCase()&&"password"===h.type},submit:function(h){var a=h.nodeName.toLowerCase();return("input"===a||"button"===a)&&"submit"===h.type},image:function(h){return"input"===h.nodeName.toLowerCase()&&"image"===h.type},reset:function(h){var a=h.nodeName.toLowerCase();return("input"===a||"button"===a)&&"reset"===h.type},button:function(h){var a=h.nodeName.toLowerCase();return"input"===a&&"button"===h.type||"button"===a},input:function(h){return/input|select|textarea|button/i.test(h.nodeName)},
focus:function(h){return h===h.ownerDocument.activeElement}},setFilters:{first:function(h,a){return 0===a},last:function(h,a,e,l){return a===l.length-1},even:function(h,a){return 0===a%2},odd:function(h,a){return 1===a%2},lt:function(h,a,e){return a<e[3]-0},gt:function(h,a,e){return a>e[3]-0},nth:function(h,a,e){return e[3]-0===a},eq:function(h,a,e){return e[3]-0===a}},filter:{PSEUDO:function(h,a,e,l){var g=a[1],d=S.filters[g];if(d)return d(h,e,a,l);if("contains"===g)return 0<=(h.textContent||h.innerText||
Hb([h])||"").indexOf(a[3]);if("not"===g){a=a[3];e=0;for(l=a.length;e<l;e++)if(a[e]===h)return!1;return!0}N.error(g)},CHILD:function(a,e){var l,g,d,o,b,f;l=e[1];f=a;switch(l){case "only":case "first":for(;f=f.previousSibling;)if(1===f.nodeType)return!1;if("first"===l)return!0;f=a;case "last":for(;f=f.nextSibling;)if(1===f.nodeType)return!1;return!0;case "nth":l=e[2];g=e[3];if(1===l&&0===g)return!0;d=e[0];if((o=a.parentNode)&&(o[Qa]!==d||!a.nodeIndex)){b=0;for(f=o.firstChild;f;f=f.nextSibling)1===f.nodeType&&
(f.nodeIndex=++b);o[Qa]=d}f=a.nodeIndex-g;return 0===l?0===f:0===f%l&&0<=f/l}},ID:function(a,e){return 1===a.nodeType&&a.getAttribute("id")===e},TAG:function(a,e){return"*"===e&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===e},CLASS:function(a,e){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(e)},ATTR:function(a,e){var l=e[1],l=N.attr?N.attr(a,l):S.attrHandle[l]?S.attrHandle[l](a):null!=a[l]?a[l]:a.getAttribute(l),g=l+"",d=e[2],o=e[4];return null==l?"!="===d:!d&&N.attr?
null!=l:"="===d?g===o:"*="===d?0<=g.indexOf(o):"~="===d?0<=(" "+g+" ").indexOf(o):o?"!="===d?g!==o:"^="===d?0===g.indexOf(o):"$="===d?g.substr(g.length-o.length)===o:"|="===d?g===o||g.substr(0,o.length+1)===o+"-":!1:g&&!1!==l},POS:function(a,e,l,g){var d=S.setFilters[e[2]];if(d)return d(a,l,e,g)}}},Ub=S.match.POS,pc=function(a,e){return"\\"+(e-0+1)},kb;for(kb in S.match)S.match[kb]=RegExp(S.match[kb].source+/(?![^\[]*\])(?![^\(]*\))/.source),S.leftMatch[kb]=RegExp(/(^(?:.|\r|\n)*?)/.source+S.match[kb].source.replace(/\\(\d+)/g,
pc));S.match.globalPOS=Ub;var da=function(a,e){a=Array.prototype.slice.call(a,0);return e?(e.push.apply(e,a),e):a};try{Array.prototype.slice.call(z.documentElement.childNodes,0)[0].nodeType}catch(Wc){da=function(a,e){var l=0,g=e||[];if("[object Array]"===Sb.call(a))Array.prototype.push.apply(g,a);else if("number"==typeof a.length)for(var d=a.length;l<d;l++)g.push(a[l]);else for(;a[l];l++)g.push(a[l]);return g}}var ub,lb;z.documentElement.compareDocumentPosition?ub=function(a,e){return a===e?(sb=!0,
0):!a.compareDocumentPosition||!e.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(e)&4?-1:1}:(ub=function(a,e){if(a===e)return sb=!0,0;if(a.sourceIndex&&e.sourceIndex)return a.sourceIndex-e.sourceIndex;var l,g,d=[],o=[];l=a.parentNode;g=e.parentNode;var b=l;if(l===g)return lb(a,e);if(!l)return-1;if(!g)return 1;for(;b;)d.unshift(b),b=b.parentNode;for(b=g;b;)o.unshift(b),b=b.parentNode;l=d.length;g=o.length;for(b=0;b<l&&b<g;b++)if(d[b]!==o[b])return lb(d[b],o[b]);return b===
l?lb(a,o[b],-1):lb(d[b],e,1)},lb=function(a,e,l){if(a===e)return l;for(a=a.nextSibling;a;){if(a===e)return-1;a=a.nextSibling}return 1});var vb=z.createElement("div"),Wb="script"+(new Date).getTime(),wb=z.documentElement;vb.innerHTML="<a name='"+Wb+"'/>";wb.insertBefore(vb,wb.firstChild);z.getElementById(Wb)&&(S.find.ID=function(a,e,l){if("undefined"!=typeof e.getElementById&&!l)return(e=e.getElementById(a[1]))?e.id===a[1]||"undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id").nodeValue===
a[1]?[e]:c:[]},S.filter.ID=function(a,e){var l="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&l&&l.nodeValue===e});wb.removeChild(vb);var wb=vb=null,Aa=z.createElement("div");Aa.appendChild(z.createComment(""));0<Aa.getElementsByTagName("*").length&&(S.find.TAG=function(a,e){var l=e.getElementsByTagName(a[1]);if("*"===a[1]){for(var g=[],d=0;l[d];d++)1===l[d].nodeType&&g.push(l[d]);l=g}return l});Aa.innerHTML="<a href='#'></a>";Aa.firstChild&&"undefined"!=typeof Aa.firstChild.getAttribute&&
"#"!==Aa.firstChild.getAttribute("href")&&(S.attrHandle.href=function(a){return a.getAttribute("href",2)});Aa=null;if(z.querySelectorAll){var Ib=N,xb=z.createElement("div");xb.innerHTML="<p class='TEST'></p>";if(!xb.querySelectorAll||0!==xb.querySelectorAll(".TEST").length){var N=function(a,e,l,g){e=e||z;if(!g&&!N.isXML(e)){var d=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(a);if(d&&(1===e.nodeType||9===e.nodeType)){if(d[1])return da(e.getElementsByTagName(a),l);if(d[2]&&S.find.CLASS&&e.getElementsByClassName)return da(e.getElementsByClassName(d[2]),
l)}if(9===e.nodeType){if("body"===a&&e.body)return da([e.body],l);if(d&&d[3]){var o=e.getElementById(d[3]);if(!o||!o.parentNode)return da([],l);if(o.id===d[3])return da([o],l)}try{return da(e.querySelectorAll(a),l)}catch(b){}}else if(1===e.nodeType&&"object"!==e.nodeName.toLowerCase()){var d=e,f=(o=e.getAttribute("id"))||"__sizzle__",j=e.parentNode,p=/^\s*[+~]/.test(a);o?f=f.replace(/'/g,"\\$&"):e.setAttribute("id",f);p&&j&&(e=e.parentNode);try{if(!p||j)return da(e.querySelectorAll("[id='"+f+"'] "+
a),l)}catch(F){}finally{o||d.removeAttribute("id")}}}return Ib(a,e,l,g)},Jb;for(Jb in Ib)N[Jb]=Ib[Jb];xb=null}}var yb=z.documentElement,zb=yb.matchesSelector||yb.mozMatchesSelector||yb.webkitMatchesSelector||yb.msMatchesSelector;if(zb){var qc=!zb.call(z.createElement("div"),"div"),Xb=!1;try{zb.call(z.documentElement,"[test!='']:sizzle")}catch(Xc){Xb=!0}N.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!N.isXML(a))try{if(Xb||!S.match.PSEUDO.test(e)&&!/!=/.test(e)){var l=
zb.call(a,e);if(l||!qc||a.document&&11!==a.document.nodeType)return l}}catch(g){}return 0<N(e,null,null,[a]).length}}var Ua=z.createElement("div");Ua.innerHTML="<div class='test e'></div><div class='test'></div>";Ua.getElementsByClassName&&0!==Ua.getElementsByClassName("e").length&&(Ua.lastChild.className="e",1!==Ua.getElementsByClassName("e").length&&(S.order.splice(1,0,"CLASS"),S.find.CLASS=function(a,e,l){if("undefined"!=typeof e.getElementsByClassName&&!l)return e.getElementsByClassName(a[1])},
Ua=null));z.documentElement.contains?N.contains=function(a,e){return a!==e&&(a.contains?a.contains(e):true)}:z.documentElement.compareDocumentPosition?N.contains=function(a,e){return!!(a.compareDocumentPosition(e)&16)}:N.contains=function(){return false};N.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var Vb=function(a,e,l){for(var g,d=[],o="",e=e.nodeType?[e]:e;g=S.match.PSEUDO.exec(a);){o=o+g[0];a=a.replace(S.match.PSEUDO,"")}a=S.relative[a]?a+"*":
a;g=0;for(var b=e.length;g<b;g++)N(a,e[g],d,l);return N.filter(o,d)};N.attr=f.attr;N.selectors.attrMap={};f.find=N;f.expr=N.selectors;f.expr[":"]=f.expr.filters;f.unique=N.uniqueSort;f.text=N.getText;f.isXMLDoc=N.isXML;f.contains=N.contains;var rc=/Until$/,sc=/^(?:parents|prevUntil|prevAll)/,tc=/,/,nc=/^.[^:#\[\.,]*$/,uc=Array.prototype.slice,Yb=f.expr.match.globalPOS,vc={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var e=this,l,g;if(typeof a!="string")return f(a).filter(function(){l=
0;for(g=e.length;l<g;l++)if(f.contains(e[l],this))return true});var d=this.pushStack("","find",a),o,b,j;l=0;for(g=this.length;l<g;l++){o=d.length;f.find(a,this[l],d);if(l>0)for(b=o;b<d.length;b++)for(j=0;j<o;j++)if(d[j]===d[b]){d.splice(b--,1);break}}return d},has:function(a){var e=f(a);return this.filter(function(){for(var a=0,h=e.length;a<h;a++)if(f.contains(this,e[a]))return true})},not:function(a){return this.pushStack(J(this,a,false),"not",a)},filter:function(a){return this.pushStack(J(this,
a,true),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Yb.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,e){var l=[],g,d,o=this[0];if(f.isArray(a)){for(d=1;o&&o.ownerDocument&&o!==e;){for(g=0;g<a.length;g++)f(o).is(a[g])&&l.push({selector:a[g],elem:o,level:d});o=o.parentNode;d++}return l}var b=Yb.test(a)||typeof a!="string"?f(a,e||this.context):0;g=0;for(d=this.length;g<d;g++)for(o=this[g];o;){if(b?b.index(o)>-1:f.find.matchesSelector(o,
a)){l.push(o);break}o=o.parentNode;if(!o||!o.ownerDocument||o===e||o.nodeType===11)break}l=l.length>1?f.unique(l):l;return this.pushStack(l,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof a=="string"?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this)},add:function(a,e){var l=typeof a=="string"?f(a,e):f.makeArray(a&&a.nodeType?[a]:a),g=f.merge(this.get(),l);return this.pushStack(!l[0]||!l[0].parentNode||l[0].parentNode.nodeType===11||!g[0]||
!g[0].parentNode||g[0].parentNode.nodeType===11?g:f.unique(g))},andSelf:function(){return this.add(this.prevObject)}});f.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,e,l){return f.dir(a,"parentNode",l)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},
nextUntil:function(a,e,l){return f.dir(a,"nextSibling",l)},prevUntil:function(a,e,l){return f.dir(a,"previousSibling",l)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,e){f.fn[a]=function(l,g){var d=f.map(this,e,l);rc.test(a)||(g=l);g&&typeof g=="string"&&(d=f.filter(g,d));d=this.length>
1&&!vc[a]?f.unique(d):d;(this.length>1||tc.test(g))&&sc.test(a)&&(d=d.reverse());return this.pushStack(d,a,uc.call(arguments).join(","))}});f.extend({filter:function(a,e,l){l&&(a=":not("+a+")");return e.length===1?f.find.matchesSelector(e[0],a)?[e[0]]:[]:f.find.matches(a,e)},dir:function(a,e,l){for(var g=[],a=a[e];a&&a.nodeType!==9&&(l===c||a.nodeType!==1||!f(a).is(l));){a.nodeType===1&&g.push(a);a=a[e]}return g},nth:function(a,e,l){for(var e=e||1,g=0;a;a=a[l])if(a.nodeType===1&&++g===e)break;return a},
sibling:function(a,e){for(var l=[];a;a=a.nextSibling)a.nodeType===1&&a!==e&&l.push(a);return l}});var Rb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",wc=/ jQuery\d+="(?:\d+|null)"/g,Kb=/^\s+/,Zb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,$b=/<([\w:]+)/,xc=/<tbody/i,yc=/<|&#?\w+;/,zc=/<(?:script|style)/i,Ac=/<(?:script|object|embed|option|style)/i,ac=RegExp("<(?:"+
Rb+")[\\s/>]","i"),bc=/checked\s*(?:[^=]|=\s*.checked.)/i,cc=/\/(java|ecma)script/i,Bc=/^\s*<!(?:\[CDATA\[|\-\-)/,ba={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Lb=E(z);ba.optgroup=ba.option;ba.tbody=ba.tfoot=ba.colgroup=
ba.caption=ba.thead;ba.th=ba.td;f.support.htmlSerialize||(ba._default=[1,"div<div>","</div>"]);f.fn.extend({text:function(a){return f.access(this,function(a){return a===c?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(e){f(this).wrapAll(a.call(this,e))});if(this[0]){var e=f(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&e.insertBefore(this[0]);e.map(function(){for(var a=
this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(e){f(this).wrapInner(a.call(this,e))}):this.each(function(){var e=f(this),l=e.contents();l.length?l.wrapAll(a):e.append(a)})},wrap:function(a){var e=f.isFunction(a);return this.each(function(l){f(this).wrapAll(e?a.call(this,l):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},
append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,e){for(var l=0,g;(g=this[l])!=null;l++)if(!a||f.filter(a,[g]).length){!e&&g.nodeType===1&&(f.cleanData(g.getElementsByTagName("*")),f.cleanData([g]));g.parentNode&&g.parentNode.removeChild(g)}return this},empty:function(){for(var a=0,e;(e=this[a])!=null;a++)for(e.nodeType===
1&&f.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(a,e){a=a==null?false:a;e=e==null?a:e;return this.map(function(){return f.clone(this,a,e)})},html:function(a){return f.access(this,function(a){var e=this[0]||{},h=0,l=this.length;if(a===c)return e.nodeType===1?e.innerHTML.replace(wc,""):null;if(typeof a=="string"&&!zc.test(a)&&(f.support.leadingWhitespace||!Kb.test(a))&&!ba[($b.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Zb,"<$1></$2>");
try{for(;h<l;h++){e=this[h]||{};e.nodeType===1&&(f.cleanData(e.getElementsByTagName("*")),e.innerHTML=a)}e=0}catch(g){}}e&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(e){var l=f(this),g=l.html();l.replaceWith(a.call(this,e,g))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var e=this.nextSibling,l=this.parentNode;f(this).remove();e?f(e).before(a):f(l).append(a)})}return this.length?
this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,e,l){var g,d,o,b=a[0],j=[];if(!f.support.checkClone&&arguments.length===3&&typeof b=="string"&&bc.test(b))return this.each(function(){f(this).domManip(a,e,l,true)});if(f.isFunction(b))return this.each(function(g){var d=f(this);a[0]=b.call(this,g,e?d.html():c);d.domManip(a,e,l)});if(this[0]){o=b&&b.parentNode;f.support.parentNode&&o&&o.nodeType===11&&o.childNodes.length===
this.length?g={fragment:o}:g=f.buildFragment(a,this,j);o=g.fragment;o.childNodes.length===1?d=o=o.firstChild:d=o.firstChild;if(d){e=e&&f.nodeName(d,"tr");d=0;for(var p=this.length,F=p-1;d<p;d++)l.call(e?f.nodeName(this[d],"table")?this[d].getElementsByTagName("tbody")[0]||this[d].appendChild(this[d].ownerDocument.createElement("tbody")):this[d]:this[d],g.cacheable||p>1&&d<F?f.clone(o,true,true):o)}j.length&&f.each(j,function(a,e){e.src?f.ajax({type:"GET",global:false,url:e.src,async:false,dataType:"script"}):
f.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Bc,"/*$0*/"));e.parentNode&&e.parentNode.removeChild(e)})}return this}});f.buildFragment=function(a,e,l){var g,d,o,b,j=a[0];e&&e[0]&&(b=e[0].ownerDocument||e[0]);b.createDocumentFragment||(b=z);a.length===1&&typeof j=="string"&&j.length<512&&b===z&&j.charAt(0)==="<"&&!Ac.test(j)&&(f.support.checkClone||!bc.test(j))&&(f.support.html5Clone||!ac.test(j))&&(d=true,o=f.fragments[j],o&&o!==1&&(g=o));g||(g=b.createDocumentFragment(),f.clean(a,
b,g,l));d&&(f.fragments[j]=o?g:1);return{fragment:g,cacheable:d}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,e){f.fn[a]=function(l){var g=[],l=f(l),d=this.length===1&&this[0].parentNode;if(d&&d.nodeType===11&&d.childNodes.length===1&&l.length===1){l[e](this[0]);return this}for(var d=0,o=l.length;d<o;d++){var b=(d>0?this.clone(true):this).get();f(l[d])[e](b);g=g.concat(b)}return this.pushStack(g,a,l.selector)}});
f.extend({clone:function(a,e,l){var g,d,o;if(f.support.html5Clone||f.isXMLDoc(a)||!ac.test("<"+a.nodeName+">"))g=a.cloneNode(true);else{g=z.createElement("div");Lb.appendChild(g);g.innerHTML=a.outerHTML;g=g.firstChild}var b=g;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){r(a,b);g=R(a);d=R(b);for(o=0;g[o];++o)d[o]&&r(g[o],d[o])}if(e){I(a,b);if(l){g=R(a);d=R(b);for(o=0;g[o];++o)I(g[o],d[o])}}return b},clean:function(a,e,l,g){var d,o=[],e=
e||z;typeof e.createElement=="undefined"&&(e=e.ownerDocument||e[0]&&e[0].ownerDocument||z);for(var b=0,j;(j=a[b])!=null;b++){typeof j=="number"&&(j=j+"");if(j){if(typeof j=="string")if(yc.test(j)){j=j.replace(Zb,"<$1></$2>");d=($b.exec(j)||["",""])[1].toLowerCase();var p=ba[d]||ba._default,F=p[0],c=e.createElement("div"),k=Lb.childNodes,v;e===z?Lb.appendChild(c):E(e).appendChild(c);for(c.innerHTML=p[1]+j+p[2];F--;)c=c.lastChild;if(!f.support.tbody){F=xc.test(j);p=d==="table"&&!F?c.firstChild&&c.firstChild.childNodes:
p[1]==="<table>"&&!F?c.childNodes:[];for(d=p.length-1;d>=0;--d)f.nodeName(p[d],"tbody")&&!p[d].childNodes.length&&p[d].parentNode.removeChild(p[d])}!f.support.leadingWhitespace&&Kb.test(j)&&c.insertBefore(e.createTextNode(Kb.exec(j)[0]),c.firstChild);j=c.childNodes;c&&(c.parentNode.removeChild(c),k.length>0&&(v=k[k.length-1],v&&v.parentNode&&v.parentNode.removeChild(v)))}else j=e.createTextNode(j);var P;if(!f.support.appendChecked)if(j[0]&&typeof(P=j.length)=="number")for(d=0;d<P;d++)w(j[d]);else w(j);
j.nodeType?o.push(j):o=f.merge(o,j)}}if(l){a=function(a){return!a.type||cc.test(a.type)};for(b=0;o[b];b++){e=o[b];if(g&&f.nodeName(e,"script")&&(!e.type||cc.test(e.type)))g.push(e.parentNode?e.parentNode.removeChild(e):e);else{if(e.nodeType===1){j=f.grep(e.getElementsByTagName("script"),a);o.splice.apply(o,[b+1,0].concat(j))}l.appendChild(e)}}}return o},cleanData:function(a){for(var e,l,g=f.cache,d=f.event.special,o=f.support.deleteExpando,b=0,j;(j=a[b])!=null;b++)if(!j.nodeName||!f.noData[j.nodeName.toLowerCase()])if(l=
j[f.expando]){if((e=g[l])&&e.events){for(var p in e.events)d[p]?f.event.remove(j,p):f.removeEvent(j,p,e.handle);e.handle&&(e.handle.elem=null)}o?delete j[f.expando]:j.removeAttribute&&j.removeAttribute(f.expando);delete g[l]}}});var Mb=/alpha\([^)]*\)/i,Cc=/opacity=([^)]*)/,Dc=/([A-Z]|^ms)/g,Ec=/^[\-+]?(?:\d*\.)?\d+$/i,Eb=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Fc=/^([\-+])=([\-+.\de]+)/,Gc=/^margin/,Hc={position:"absolute",visibility:"hidden",display:"block"},sa=["Top","Right","Bottom","Left"],Ea,dc,
ec;f.fn.css=function(a,e){return f.access(this,function(a,e,h){return h!==c?f.style(a,e,h):f.css(a,e)},a,e,arguments.length>1)};f.extend({cssHooks:{opacity:{get:function(a,e){if(e){var l=Ea(a,"opacity");return l===""?"1":l}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,e,l,g){if(a&&a.nodeType!==3&&a.nodeType!==8&&a.style){var d,o=f.camelCase(e),
b=a.style,j=f.cssHooks[o],e=f.cssProps[o]||o;if(l===c)return j&&"get"in j&&(d=j.get(a,false,g))!==c?d:b[e];g=typeof l;g==="string"&&(d=Fc.exec(l))&&(l=+(d[1]+1)*+d[2]+parseFloat(f.css(a,e)),g="number");if(!(l==null||g==="number"&&isNaN(l))){g==="number"&&!f.cssNumber[o]&&(l=l+"px");if(!j||!("set"in j)||(l=j.set(a,l))!==c)try{b[e]=l}catch(p){}}}},css:function(a,e,l){var g,d,e=f.camelCase(e);d=f.cssHooks[e];e=f.cssProps[e]||e;e==="cssFloat"&&(e="float");if(d&&"get"in d&&(g=d.get(a,true,l))!==c)return g;
if(Ea)return Ea(a,e)},swap:function(a,e,l){var g={},d;for(d in e){g[d]=a.style[d];a.style[d]=e[d]}l=l.call(a);for(d in e)a.style[d]=g[d];return l}});f.curCSS=f.css;z.defaultView&&z.defaultView.getComputedStyle&&(dc=function(a,e){var l,g,d,o,b=a.style,e=e.replace(Dc,"-$1").toLowerCase();(g=a.ownerDocument.defaultView)&&(d=g.getComputedStyle(a,null))&&(l=d.getPropertyValue(e),l===""&&!f.contains(a.ownerDocument.documentElement,a)&&(l=f.style(a,e)));!f.support.pixelMargin&&d&&Gc.test(e)&&Eb.test(l)&&
(o=b.width,b.width=l,l=d.width,b.width=o);return l});z.documentElement.currentStyle&&(ec=function(a,e){var l,g,d,o=a.currentStyle&&a.currentStyle[e],b=a.style;o==null&&b&&(d=b[e])&&(o=d);Eb.test(o)&&(l=b.left,g=a.runtimeStyle&&a.runtimeStyle.left,g&&(a.runtimeStyle.left=a.currentStyle.left),b.left=e==="fontSize"?"1em":o,o=b.pixelLeft+"px",b.left=l,g&&(a.runtimeStyle.left=g));return o===""?"auto":o});Ea=dc||ec;f.each(["height","width"],function(a,e){f.cssHooks[e]={get:function(a,l,h){if(l)return a.offsetWidth!==
0?u(a,e,h):f.swap(a,Hc,function(){return u(a,e,h)})},set:function(a,e){return Ec.test(e)?e+"px":e}}});f.support.opacity||(f.cssHooks.opacity={get:function(a,e){return Cc.test((e&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(a,e){var l=a.style,g=a.currentStyle,d=f.isNumeric(e)?"alpha(opacity="+e*100+")":"",o=g&&g.filter||l.filter||"";l.zoom=1;if(e>=1&&f.trim(o.replace(Mb,""))===""){l.removeAttribute("filter");if(g&&!g.filter)return}l.filter=
Mb.test(o)?o.replace(Mb,d):o+" "+d}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,e){return f.swap(a,{display:"inline-block"},function(){return e?Ea(a,"margin-right"):a.style.marginRight})}})});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var e=a.offsetHeight;return a.offsetWidth===0&&e===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});
f.each({margin:"",padding:"",border:"Width"},function(a,e){f.cssHooks[a+e]={expand:function(l){for(var g=typeof l=="string"?l.split(" "):[l],d={},l=0;l<4;l++)d[a+sa[l]+e]=g[l]||g[l-2]||g[0];return d}}});var Ic=/%20/g,mc=/\[\]$/,fc=/\r?\n/g,Jc=/#.*$/,Kc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Lc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Mc=/^(?:GET|HEAD)$/,Nc=/^\/\//,gc=/\?/,Oc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pc=
/^(?:select|textarea)/i,Qb=/\s+/,Qc=/([?&])_=[^&]*/,hc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,ic=f.fn.load,Db={},jc={},Ba,Ca,kc=["*/"]+["*"];try{Ba=V.href}catch(Yc){Ba=z.createElement("a"),Ba.href="",Ba=Ba.href}Ca=hc.exec(Ba.toLowerCase())||[];f.fn.extend({load:function(a,e,l){if(typeof a!="string"&&ic)return ic.apply(this,arguments);if(!this.length)return this;var g=a.indexOf(" ");if(g>=0)var d=a.slice(g,a.length),a=a.slice(0,g);g="GET";e&&(f.isFunction(e)?(l=e,e=c):typeof e=="object"&&
(e=f.param(e,f.ajaxSettings.traditional),g="POST"));var o=this;f.ajax({url:a,type:g,dataType:"html",data:e,complete:function(a,e,h){h=a.responseText;a.isResolved()&&(a.done(function(a){h=a}),o.html(d?f("<div>").append(h.replace(Oc,"")).find(d):h));l&&o.each(l,[h,e,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&
(this.checked||Pc.test(this.nodeName)||Lc.test(this.type))}).map(function(a,e){var l=f(this).val();return l==null?null:f.isArray(l)?f.map(l,function(a){return{name:e.name,value:a.replace(fc,"\r\n")}}):{name:e.name,value:l.replace(fc,"\r\n")}}).get()}});f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,e){f.fn[e]=function(a){return this.on(e,a)}});f.each(["get","post"],function(a,e){f[e]=function(a,l,h,g){f.isFunction(l)&&(g=g||h,h=l,l=c);return f.ajax({type:e,
url:a,data:l,success:h,dataType:g})}});f.extend({getScript:function(a,e){return f.get(a,c,e,"script")},getJSON:function(a,e,l){return f.get(a,e,l,"json")},ajaxSetup:function(a,e){e?t(a,f.ajaxSettings):(e=a,a=f.ajaxSettings);t(a,e);return a},ajaxSettings:{url:Ba,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ca[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",
text:"text/plain",json:"application/json, text/javascript","*":kc},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":m.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:s(Db),ajaxTransport:s(jc),ajax:function(a,e){function l(a,e,h,k){if(D!==2){D=2;r&&clearTimeout(r);B=c;P=k||"";M.readyState=a>0?4:0;var v,A,W,k=e;if(h){var q=g,x=M,ca=q.contents,Z=q.dataTypes,ja=q.responseFields,
C,E,$,ka;for(E in ja)E in h&&(x[ja[E]]=h[E]);for(;Z[0]==="*";){Z.shift();C===c&&(C=q.mimeType||x.getResponseHeader("content-type"))}if(C)for(E in ca)if(ca[E]&&ca[E].test(C)){Z.unshift(E);break}if(Z[0]in h)$=Z[0];else{for(E in h){if(!Z[0]||q.converters[E+" "+Z[0]]){$=E;break}ka||(ka=E)}$=$||ka}if($){$!==Z[0]&&Z.unshift($);h=h[$]}else h=void 0}else h=c;if(a>=200&&a<300||a===304){if(g.ifModified){if(C=M.getResponseHeader("Last-Modified"))f.lastModified[F]=C;if(C=M.getResponseHeader("Etag"))f.etag[F]=
C}if(a===304){k="notmodified";v=true}else try{C=g;C.dataFilter&&(h=C.dataFilter(h,C.dataType));var m=C.dataTypes;E={};var t,I,s=m.length,ha,u=m[0],G,H,J,w,y;for(t=1;t<s;t++){if(t===1)for(I in C.converters)typeof I=="string"&&(E[I.toLowerCase()]=C.converters[I]);G=u;u=m[t];if(u==="*")u=G;else if(G!=="*"&&G!==u){H=G+" "+u;J=E[H]||E["* "+u];if(!J){y=c;for(w in E){ha=w.split(" ");if(ha[0]===G||ha[0]==="*")if(y=E[ha[1]+" "+u]){w=E[w];w===true?J=y:y===true&&(J=w);break}}}!J&&!y&&f.error("No conversion from "+
H.replace(" "," to "));J!==true&&(h=J?J(h):y(w(h)))}}A=h;k="success";v=true}catch(z){k="parsererror";W=z}}else{W=k;if(!k||a){k="error";a<0&&(a=0)}}M.status=a;M.statusText=""+(e||k);v?b.resolveWith(d,[A,k,M]):b.rejectWith(d,[M,k,W]);M.statusCode(p);p=c;U&&o.trigger("ajax"+(v?"Success":"Error"),[M,g,v?A:W]);j.fireWith(d,[M,k]);U&&(o.trigger("ajaxComplete",[M,g]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(e=a,a=c);var e=e||{},g=f.ajaxSetup({},e),d=g.context||g,o=d!==g&&(d.nodeType||
d instanceof f)?f(d):f.event,b=f.Deferred(),j=f.Callbacks("once memory"),p=g.statusCode||{},F,k={},v={},P,A,B,r,W,D=0,U,q,M={readyState:0,setRequestHeader:function(a,e){if(!D){var l=a.toLowerCase(),a=v[l]=v[l]||a;k[a]=e}return this},getAllResponseHeaders:function(){return D===2?P:null},getResponseHeader:function(a){var e;if(D===2){if(!A)for(A={};e=Kc.exec(P);)A[e[1].toLowerCase()]=e[2];e=A[a.toLowerCase()]}return e===c?null:e},overrideMimeType:function(a){D||(g.mimeType=a);return this},abort:function(a){a=
a||"abort";B&&B.abort(a);l(0,a);return this}};b.promise(M);M.success=M.done;M.error=M.fail;M.complete=j.add;M.statusCode=function(a){if(a){var e;if(D<2)for(e in a)p[e]=[p[e],a[e]];else{e=a[M.status];M.then(e,e)}}return this};g.url=((a||g.url)+"").replace(Jc,"").replace(Nc,Ca[1]+"//");g.dataTypes=f.trim(g.dataType||"*").toLowerCase().split(Qb);g.crossDomain==null&&(W=hc.exec(g.url.toLowerCase()),g.crossDomain=!(!W||W[1]==Ca[1]&&W[2]==Ca[2]&&(W[3]||(W[1]==="http:"?80:443))==(Ca[3]||(Ca[1]==="http:"?
80:443))));g.data&&g.processData&&typeof g.data!="string"&&(g.data=f.param(g.data,g.traditional));y(Db,g,e,M);if(D===2)return false;U=g.global;g.type=g.type.toUpperCase();g.hasContent=!Mc.test(g.type);U&&f.active++===0&&f.event.trigger("ajaxStart");if(!g.hasContent){g.data&&(g.url=g.url+((gc.test(g.url)?"&":"?")+g.data),delete g.data);F=g.url;if(g.cache===false){W=f.now();var x=g.url.replace(Qc,"$1_="+W);g.url=x+(x===g.url?(gc.test(g.url)?"&":"?")+"_="+W:"")}}(g.data&&g.hasContent&&g.contentType!==
false||e.contentType)&&M.setRequestHeader("Content-Type",g.contentType);g.ifModified&&(F=F||g.url,f.lastModified[F]&&M.setRequestHeader("If-Modified-Since",f.lastModified[F]),f.etag[F]&&M.setRequestHeader("If-None-Match",f.etag[F]));M.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+(g.dataTypes[0]!=="*"?", "+kc+"; q=0.01":""):g.accepts["*"]);for(q in g.headers)M.setRequestHeader(q,g.headers[q]);if(g.beforeSend&&(g.beforeSend.call(d,M,g)===false||D===2)){M.abort();
return false}for(q in{success:1,error:1,complete:1})M[q](g[q]);if(B=y(jc,g,e,M)){M.readyState=1;U&&o.trigger("ajaxSend",[M,g]);g.async&&g.timeout>0&&(r=setTimeout(function(){M.abort("timeout")},g.timeout));try{D=1;B.send(k,l)}catch(ca){if(D<2)l(-1,ca);else throw ca;}}else l(-1,"No Transport");return M},param:function(a,e){var l=[],g=function(a,e){e=f.isFunction(e)?e():e;l[l.length]=encodeURIComponent(a)+"="+encodeURIComponent(e)};e===c&&(e=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,
function(){g(this.name,this.value)});else for(var d in a)q(d,a[d],e,g);return l.join("&").replace(Ic,"+")}});f.extend({active:0,lastModified:{},etag:{}});var Rc=f.now(),Ab=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+Rc++}});f.ajaxPrefilter("json jsonp",function(a,e,l){e=typeof a.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(a.contentType);if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&(Ab.test(a.url)||e&&Ab.test(a.data))){var g,d=
a.jsonpCallback=f.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,o=m[d],b=a.url,j=a.data,p="$1"+d+"$2";a.jsonp!==false&&(b=b.replace(Ab,p),a.url===b&&(e&&(j=j.replace(Ab,p)),a.data===j&&(b=b+((/\?/.test(b)?"&":"?")+a.jsonp+"="+d))));a.url=b;a.data=j;m[d]=function(a){g=[a]};l.always(function(){m[d]=o;g&&f.isFunction(o)&&m[d](g[0])});a.converters["script json"]=function(){g||f.error(d+" was not called");return g[0]};a.dataTypes[0]="json";return"script"}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}});f.ajaxPrefilter("script",function(a){a.cache===c&&(a.cache=false);a.crossDomain&&(a.type="GET",a.global=false)});f.ajaxTransport("script",function(a){if(a.crossDomain){var e,l=z.head||z.getElementsByTagName("head")[0]||z.documentElement;return{send:function(g,d){e=z.createElement("script");e.async="async";a.scriptCharset&&(e.charset=a.scriptCharset);e.src=a.url;e.onload=e.onreadystatechange=
function(a,h){if(h||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;l&&e.parentNode&&l.removeChild(e);e=c;h||d(200,"success")}};l.insertBefore(e,l.firstChild)},abort:function(){e&&e.onload(0,1)}}}});var Nb=m.ActiveXObject?function(){for(var a in Va)Va[a](0,1)}:!1,Sc=0,Va;f.ajaxSettings.xhr=m.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&k()))a:{try{a=new m.ActiveXObject("Microsoft.XMLHTTP");break a}catch(e){}a=void 0}return a}:k;var Ob=f.ajaxSettings.xhr();
f.extend(f.support,{ajax:!!Ob,cors:!!Ob&&"withCredentials"in Ob});f.support.ajax&&f.ajaxTransport(function(a){if(!a.crossDomain||f.support.cors){var e;return{send:function(l,g){var d=a.xhr(),o,b;a.username?d.open(a.type,a.url,a.async,a.username,a.password):d.open(a.type,a.url,a.async);if(a.xhrFields)for(b in a.xhrFields)d[b]=a.xhrFields[b];a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType);!a.crossDomain&&!l["X-Requested-With"]&&(l["X-Requested-With"]="XMLHttpRequest");try{for(b in l)d.setRequestHeader(b,
l[b])}catch(j){}d.send(a.hasContent&&a.data||null);e=function(l,b){var j,p,F,k,v;try{if(e&&(b||d.readyState===4)){e=c;o&&(d.onreadystatechange=f.noop,Nb&&delete Va[o]);if(b)d.readyState!==4&&d.abort();else{j=d.status;F=d.getAllResponseHeaders();k={};(v=d.responseXML)&&v.documentElement&&(k.xml=v);try{k.text=d.responseText}catch(P){}try{p=d.statusText}catch(A){p=""}!j&&a.isLocal&&!a.crossDomain?j=k.text?200:404:j===1223&&(j=204)}}}catch(B){b||g(-1,B)}k&&g(j,p,k,F)};!a.async||d.readyState===4?e():(o=
++Sc,Nb&&(Va||(Va={},f(m).unload(Nb)),Va[o]=e),d.onreadystatechange=e)},abort:function(){e&&e(0,1)}}}});var Cb={},ea,Da,Tc=/^(?:toggle|show|hide)$/,Uc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Bb,mb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],nb;f.fn.extend({show:function(e,l,g){var o;if(e||e===0)return this.animate(d("show",3),e,l,g);l=0;for(g=this.length;l<g;l++){e=this[l];e.style&&(o=e.style.display,
!f._data(e,"olddisplay")&&o==="none"&&(o=e.style.display=""),(o===""&&f.css(e,"display")==="none"||!f.contains(e.ownerDocument.documentElement,e))&&f._data(e,"olddisplay",a(e.nodeName)))}for(l=0;l<g;l++){e=this[l];if(e.style){o=e.style.display;if(o===""||o==="none")e.style.display=f._data(e,"olddisplay")||""}}return this},hide:function(a,e,l){if(a||a===0)return this.animate(d("hide",3),a,e,l);for(var g,e=0,l=this.length;e<l;e++){a=this[e];a.style&&(g=f.css(a,"display"),g!=="none"&&!f._data(a,"olddisplay")&&
f._data(a,"olddisplay",g))}for(e=0;e<l;e++)this[e].style&&(this[e].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,e,l){var g=typeof a=="boolean";f.isFunction(a)&&f.isFunction(e)?this._toggle.apply(this,arguments):a==null||g?this.each(function(){var e=g?a:f(this).is(":hidden");f(this)[e?"show":"hide"]()}):this.animate(d("toggle",3),a,e,l);return this},fadeTo:function(a,e,l,g){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},a,l,g)},animate:function(e,
l,g,d){function o(){b.queue===false&&f._mark(this);var l=f.extend({},b),g=this.nodeType===1,d=g&&f(this).is(":hidden"),j,p,F,k,c,v,P,A,B;l.animatedProperties={};for(F in e){j=f.camelCase(F);F!==j&&(e[j]=e[F],delete e[F]);if((p=f.cssHooks[j])&&"expand"in p){k=p.expand(e[j]);delete e[j];for(F in k)F in e||(e[F]=k[F])}}for(j in e){p=e[j];f.isArray(p)?(l.animatedProperties[j]=p[1],p=e[j]=p[0]):l.animatedProperties[j]=l.specialEasing&&l.specialEasing[j]||l.easing||"swing";if(p==="hide"&&d||p==="show"&&
!d)return l.complete.call(this);g&&(j==="height"||j==="width")&&(l.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||a(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}l.overflow!=null&&(this.style.overflow="hidden");for(F in e){g=new f.fx(this,l,F);p=e[F];Tc.test(p)?(B=f._data(this,"toggle"+F)||(p==="toggle"?d?"show":"hide":0),B?(f._data(this,"toggle"+
F,B==="show"?"hide":"show"),g[B]()):g[p]()):(c=Uc.exec(p),v=g.cur(),c?(P=parseFloat(c[2]),A=c[3]||(f.cssNumber[F]?"":"px"),A!=="px"&&(f.style(this,F,(P||1)+A),v=(P||1)/g.cur()*v,f.style(this,F,v+A)),c[1]&&(P=(c[1]==="-="?-1:1)*P+v),g.custom(v,P,A)):g.custom(v,p,""))}return true}var b=f.speed(l,g,d);if(f.isEmptyObject(e))return this.each(b.complete,[false]);e=f.extend({},e);return b.queue===false?this.each(o):this.queue(b.queue,o)},stop:function(a,e,l){typeof a!="string"&&(l=e,e=a,a=c);e&&a!==false&&
this.queue(a||"fx",[]);return this.each(function(){var e,g=false,d=f.timers,o=f._data(this);l||f._unmark(true,this);if(a==null)for(e in o){if(o[e]&&o[e].stop&&e.indexOf(".run")===e.length-4){var b=o[e];f.removeData(this,e,true);b.stop(l)}}else if(o[e=a+".run"]&&o[e].stop){o=o[e];f.removeData(this,e,true);o.stop(l)}for(e=d.length;e--;)d[e].elem===this&&(a==null||d[e].queue===a)&&(l?d[e](true):d[e].saveState(),g=true,d.splice(e,1));(!l||!g)&&f.dequeue(this,a)})}});f.each({slideDown:d("show",1),slideUp:d("hide",
1),slideToggle:d("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,e){f.fn[a]=function(a,l,g){return this.animate(e,a,l,g)}});f.extend({speed:function(a,e,l){var g=a&&typeof a=="object"?f.extend({},a):{complete:l||!l&&e||f.isFunction(a)&&a,duration:a,easing:l&&e||e&&!f.isFunction(e)&&e};g.duration=f.fx.off?0:typeof g.duration=="number"?g.duration:g.duration in f.fx.speeds?f.fx.speeds[g.duration]:f.fx.speeds._default;if(g.queue==null||g.queue===
true)g.queue="fx";g.old=g.complete;g.complete=function(a){f.isFunction(g.old)&&g.old.call(this);g.queue?f.dequeue(this,g.queue):a!==false&&f._unmark(this)};return g},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}},timers:[],fx:function(a,e,l){this.options=e;this.elem=a;this.prop=l;e.orig=e.orig||{}}});f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=
null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,e=f.css(this.elem,this.prop);return isNaN(a=parseFloat(e))?!e||e==="auto"?0:e:a},custom:function(a,e,l){function g(a){return d.step(a)}var d=this,o=f.fx;this.startTime=nb||x();this.end=e;this.now=this.start=a;this.pos=this.state=0;this.unit=l||this.unit||(f.cssNumber[this.prop]?"":"px");g.queue=this.options.queue;g.elem=this.elem;g.saveState=function(){f._data(d.elem,"fxshow"+d.prop)===c&&(d.options.hide?
f._data(d.elem,"fxshow"+d.prop,d.start):d.options.show&&f._data(d.elem,"fxshow"+d.prop,d.end))};g()&&f.timers.push(g)&&!Bb&&(Bb=setInterval(o.tick,o.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop);this.options.show=true;a!==c?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||
f.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var e,l,g=nb||x(),d=true,o=this.elem,b=this.options;if(a||g>=b.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();b.animatedProperties[this.prop]=true;for(e in b.animatedProperties)b.animatedProperties[e]!==true&&(d=false);if(d){b.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,e){o.style["overflow"+e]=b.overflow[a]});b.hide&&f(o).hide();if(b.hide||
b.show)for(e in b.animatedProperties){f.style(o,e,b.orig[e]);f.removeData(o,"fxshow"+e,true);f.removeData(o,"toggle"+e,true)}(a=b.complete)&&(b.complete=false,a.call(o))}return false}b.duration==Infinity?this.now=g:(l=g-this.startTime,this.state=l/b.duration,this.pos=f.easing[b.animatedProperties[this.prop]](this.state,l,0,1,b.duration),this.now=this.start+(this.end-this.start)*this.pos);this.update();return true}};f.extend(f.fx,{tick:function(){for(var a,e=f.timers,l=0;l<e.length;l++){a=e[l];!a()&&
e[l]===a&&e.splice(l--,1)}e.length||f.fx.stop()},interval:13,stop:function(){clearInterval(Bb);Bb=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});f.each(mb.concat.apply([],mb),function(a,e){e.indexOf("margin")&&(f.fx.step[e]=function(a){f.style(a.elem,e,Math.max(0,a.now)+a.unit)})});f.expr&&f.expr.filters&&(f.expr.filters.animated=
function(a){return f.grep(f.timers,function(e){return a===e.elem}).length});var Pb,Vc=/^t(?:able|d|h)$/i,lc=/^(?:body|html)$/i;"getBoundingClientRect"in z.documentElement?Pb=function(a,e,l,g){try{g=a.getBoundingClientRect()}catch(d){}if(!g||!f.contains(l,a))return g?{top:g.top,left:g.left}:{top:0,left:0};a=e.body;e=b(e);return{top:g.top+(e.pageYOffset||f.support.boxModel&&l.scrollTop||a.scrollTop)-(l.clientTop||a.clientTop||0),left:g.left+(e.pageXOffset||f.support.boxModel&&l.scrollLeft||a.scrollLeft)-
(l.clientLeft||a.clientLeft||0)}}:Pb=function(a,e,l){var g,d=a.offsetParent,o=e.body;g=(e=e.defaultView)?e.getComputedStyle(a,null):a.currentStyle;for(var b=a.offsetTop,j=a.offsetLeft;(a=a.parentNode)&&a!==o&&a!==l;){if(f.support.fixedPosition&&g.position==="fixed")break;g=e?e.getComputedStyle(a,null):a.currentStyle;b=b-a.scrollTop;j=j-a.scrollLeft;a===d&&(b=b+a.offsetTop,j=j+a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!Vc.test(a.nodeName))&&(b=b+(parseFloat(g.borderTopWidth)||
0),j=j+(parseFloat(g.borderLeftWidth)||0)),d=a.offsetParent);f.support.subtractsBorderForOverflowNotVisible&&g.overflow!=="visible"&&(b=b+(parseFloat(g.borderTopWidth)||0),j=j+(parseFloat(g.borderLeftWidth)||0))}if(g.position==="relative"||g.position==="static"){b=b+o.offsetTop;j=j+o.offsetLeft}f.support.fixedPosition&&g.position==="fixed"&&(b=b+Math.max(l.scrollTop,o.scrollTop),j=j+Math.max(l.scrollLeft,o.scrollLeft));return{top:b,left:j}};f.fn.offset=function(a){if(arguments.length)return a===c?
this:this.each(function(e){f.offset.setOffset(this,a,e)});var e=this[0],l=e&&e.ownerDocument;return!l?null:e===l.body?f.offset.bodyOffset(e):Pb(e,l,l.documentElement)};f.offset={bodyOffset:function(a){var e=a.offsetTop,l=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(e=e+(parseFloat(f.css(a,"marginTop"))||0),l=l+(parseFloat(f.css(a,"marginLeft"))||0));return{top:e,left:l}},setOffset:function(a,e,l){var g=f.css(a,"position");g==="static"&&(a.style.position="relative");var d=f(a),o=d.offset(),
b=f.css(a,"top"),j=f.css(a,"left"),p={},F={},k,c;(g==="absolute"||g==="fixed")&&f.inArray("auto",[b,j])>-1?(F=d.position(),k=F.top,c=F.left):(k=parseFloat(b)||0,c=parseFloat(j)||0);f.isFunction(e)&&(e=e.call(a,l,o));e.top!=null&&(p.top=e.top-o.top+k);e.left!=null&&(p.left=e.left-o.left+c);"using"in e?e.using.call(a,p):d.css(p)}};f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],e=this.offsetParent(),l=this.offset(),g=lc.test(e[0].nodeName)?{top:0,left:0}:e.offset();l.top=l.top-
(parseFloat(f.css(a,"marginTop"))||0);l.left=l.left-(parseFloat(f.css(a,"marginLeft"))||0);g.top=g.top+(parseFloat(f.css(e[0],"borderTopWidth"))||0);g.left=g.left+(parseFloat(f.css(e[0],"borderLeftWidth"))||0);return{top:l.top-g.top,left:l.left-g.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||z.body;a&&!lc.test(a.nodeName)&&f.css(a,"position")==="static";)a=a.offsetParent;return a})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,e){var l=
/Y/.test(e);f.fn[a]=function(g){return f.access(this,function(a,g,d){var h=b(a);if(d===c)return h?e in h?h[e]:f.support.boxModel&&h.document.documentElement[g]||h.document.body[g]:a[g];h?h.scrollTo(l?f(h).scrollLeft():d,l?d:f(h).scrollTop()):a[g]=d},a,g,arguments.length,null)}});f.each({Height:"height",Width:"width"},function(a,e){var l="client"+a,g="scroll"+a,d="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,e,"padding")):this[e]():null};f.fn["outer"+a]=function(a){var l=
this[0];return l?l.style?parseFloat(f.css(l,e,a?"margin":"border")):this[e]():null};f.fn[e]=function(a){return f.access(this,function(a,e,h){if(f.isWindow(a)){e=a.document;a=e.documentElement[l];return f.support.boxModel&&a||e.body&&e.body[l]||a}if(a.nodeType===9){e=a.documentElement;return e[l]>=e[g]?e[l]:Math.max(a.body[g],e[g],a.body[d],e[d])}if(h===c){a=f.css(a,e);e=parseFloat(a);return f.isNumeric(e)?e:a}f(a).css(e,h)},e,a,arguments.length,null)}});m.jQuery=m.$=f;"function"==typeof define&&define.amd&&
define.amd.jQuery&&define("jquery",[],function(){return f})})(window);(function(m){var c=function(){throw"UID cannot be instantiated";};c._nextID=0;c.get=function(){return c._nextID++};m.UID=c})(window);
(function(m){var c=function(){throw"Ticker cannot be instantiated.";};c.useRAF=null;c.animationTarget=null;c._listeners=null;c._pauseable=null;c._paused=!1;c._inited=!1;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTickers=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._rafActive=!1;c._timeoutID=null;c.addListener=function(b,a){c._inited||c.init();c.removeListener(b);c._pauseable[c._listeners.length]=null==a?!0:a;c._listeners.push(b)};c.init=function(){c._inited=!0;c._times=
[];c._tickTimes=[];c._pauseable=[];c._listeners=[];c._times.push(c._lastTime=c._startTime=c._getTime());c.setInterval(c._interval)};c.removeListener=function(b){null!=c._listeners&&(b=c._listeners.indexOf(b),-1!=b&&(c._listeners.splice(b,1),c._pauseable.splice(b,1)))};c.removeAllListeners=function(){c._listeners=[];c._pauseable=[]};c.setInterval=function(b){c._interval=b;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(b){c.setInterval(1E3/b)};c.getFPS=function(){return 1E3/
c._interval};c.getMeasuredFPS=function(b){if(2>c._times.length)return-1;null==b&&(b=c.getFPS()|0);b=Math.min(c._times.length-1,b);return 1E3/((c._times[0]-c._times[b])/b)};c.setPaused=function(b){c._paused=b};c.getPaused=function(){return c._paused};c.getTime=function(b){return c._getTime()-c._startTime-(b?c._pausedTime:0)};c.getTicks=function(b){return c._ticks-(b?c._pausedTickers:0)};c._handleAF=function(b){b-c._lastTime>=c._interval-1&&c._tick();c._rafActive=!1;c._setupTick()};c._handleTimeout=
function(){c._tick();c.timeoutID=null;c._setupTick()};c._setupTick=function(){if(!(c._rafActive||null!=c.timeoutID)){if(c.useRAF){var b=m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||m.oRequestAnimationFrame||m.msRequestAnimationFrame;if(b){b(c._handleAF,c.animationTarget);c._rafActive=!0;return}}c.timeoutID=setTimeout(c._handleTimeout,c._interval)}};c._tick=function(){c._ticks++;var b=c._getTime(),a=b-c._lastTime,d=c._paused;d&&(c._pausedTickers++,c._pausedTime+=
a);c._lastTime=b;for(var j=c._pauseable,x=c._listeners.slice(),k=x?x.length:0,q=0;q<k;q++){var t=j[q],m=x[q];null==m||d&&t||null==m.tick||m.tick(a,d)}for(c._tickTimes.unshift(c._getTime()-b);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(b);100<c._times.length;)c._times.pop()};c._getTime=function(){return(new Date).getTime()};m.Ticker=c})(window);
(function(m){var c=function(a,d,b,c,k){this.initialize(a,d,b,c,k)},b=c.prototype;b.stageX=0;b.stageY=0;b.type=null;b.nativeEvent=null;b.onMouseMove=null;b.onMouseUp=null;b.target=null;b.initialize=function(a,d,b,c,k){this.type=a;this.stageX=d;this.stageY=b;this.target=c;this.nativeEvent=k};b.clone=function(){return new c(this.type,this.stageX,this.stageY,this.target,this.nativeEvent)};b.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};m.MouseEvent=
c})(window);
(function(m){var c=function(a,d,b,c,k,q){this.initialize(a,d,b,c,k,q)},b=c.prototype;c.identity=null;c.DEG_TO_RAD=Math.PI/180;b.a=1;b.b=0;b.c=0;b.d=1;b.tx=0;b.ty=0;b.alpha=1;b.shadow=null;b.compositeOperation=null;b.initialize=function(a,d,b,c,k,q){null!=a&&(this.a=a);this.b=d||0;this.c=b||0;null!=c&&(this.d=c);this.tx=k||0;this.ty=q||0};b.prepend=function(a,d,b,c,k,q){var m=this.tx;if(1!=a||0!=d||0!=b||1!=c){var y=this.a,s=this.c;this.a=y*a+this.b*b;this.b=y*d+this.b*c;this.c=s*a+this.d*b;this.d=
s*d+this.d*c}this.tx=m*a+this.ty*b+k;this.ty=m*d+this.ty*c+q};b.append=function(a,d,b,c,k,q){var m=this.a,y=this.b,s=this.c,u=this.d;this.a=a*m+d*s;this.b=a*y+d*u;this.c=b*m+c*s;this.d=b*y+c*u;this.tx=k*m+q*s+this.tx;this.ty=k*y+q*u+this.ty};b.prependMatrix=function(a){this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty);this.prependProperties(a.alpha,a.shadow,a.compositeOperation)};b.appendMatrix=function(a){this.append(a.a,a.b,a.c,a.d,a.tx,a.ty);this.appendProperties(a.alpha,a.shadow,a.compositeOperation)};
b.prependTransform=function(a,d,b,x,k,q,m,y,s){if(k%360)var u=k*c.DEG_TO_RAD,k=Math.cos(u),u=Math.sin(u);else k=1,u=0;if(y||s)this.tx-=y,this.ty-=s;q||m?(q*=c.DEG_TO_RAD,m*=c.DEG_TO_RAD,this.prepend(k*b,u*b,-u*x,k*x,0,0),this.prepend(Math.cos(m),Math.sin(m),-Math.sin(q),Math.cos(q),a,d)):this.prepend(k*b,u*b,-u*x,k*x,a,d)};b.appendTransform=function(a,d,b,x,k,q,m,y,s){if(k%360)var u=k*c.DEG_TO_RAD,k=Math.cos(u),u=Math.sin(u);else k=1,u=0;q||m?(q*=c.DEG_TO_RAD,m*=c.DEG_TO_RAD,this.append(Math.cos(m),
Math.sin(m),-Math.sin(q),Math.cos(q),a,d),this.append(k*b,u*b,-u*x,k*x,0,0)):this.append(k*b,u*b,-u*x,k*x,a,d);if(y||s)this.tx-=y*this.a+s*this.c,this.ty-=y*this.b+s*this.d};b.rotate=function(a){var d=Math.cos(a),a=Math.sin(a),b=this.a,c=this.c,k=this.tx;this.a=b*d-this.b*a;this.b=b*a+this.b*d;this.c=c*d-this.d*a;this.d=c*a+this.d*d;this.tx=k*d-this.ty*a;this.ty=k*a+this.ty*d};b.skew=function(a,d){a*=c.DEG_TO_RAD;d*=c.DEG_TO_RAD;this.append(Math.cos(d),Math.sin(d),-Math.sin(a),Math.cos(a),0,0)};b.scale=
function(a,d){this.a*=a;this.d*=d;this.tx*=a;this.ty*=d};b.translate=function(a,d){this.tx+=a;this.ty+=d};b.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;this.shadow=this.compositeOperation=null};b.invert=function(){var a=this.a,d=this.b,b=this.c,c=this.d,k=this.tx,q=a*c-d*b;this.a=c/q;this.b=-d/q;this.c=-b/q;this.d=a/q;this.tx=(b*this.ty-c*k)/q;this.ty=-(a*this.ty-d*k)/q};b.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};
b.decompose=function(a){null==a&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var d=Math.atan2(-this.c,this.d),b=Math.atan2(this.b,this.a);d==b?(a.rotation=b/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=d/c.DEG_TO_RAD,a.skewY=b/c.DEG_TO_RAD);return a};b.reinitialize=function(a,d,b,c,k,q,m,y,s){this.initialize(a,d,b,c,k,q);this.alpha=m||1;this.shadow=y;this.compositeOperation=
s;return this};b.appendProperties=function(a,d,b){this.alpha*=a;this.shadow=d||this.shadow;this.compositeOperation=b||this.compositeOperation};b.prependProperties=function(a,d,b){this.alpha*=a;this.shadow=this.shadow||d;this.compositeOperation=this.compositeOperation||b};b.clone=function(){var a=new c(this.a,this.b,this.c,this.d,this.tx,this.ty);a.shadow=this.shadow;a.alpha=this.alpha;a.compositeOperation=this.compositeOperation;return a};b.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+
" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};c.identity=new c(1,0,0,1,0,0);m.Matrix2D=c})(window);(function(m){var c=function(a,d){this.initialize(a,d)},b=c.prototype;b.x=0;b.y=0;b.initialize=function(a,d){this.x=null==a?0:a;this.y=null==d?0:d};b.clone=function(){return new c(this.x,this.y)};b.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};m.Point=c})(window);
(function(m){var c=function(a,d,b,c){this.initialize(a,d,b,c)},b=c.prototype;b.x=0;b.y=0;b.width=0;b.height=0;b.initialize=function(a,d,b,c){this.x=null==a?0:a;this.y=null==d?0:d;this.width=null==b?0:b;this.height=null==c?0:c};b.clone=function(){return new c(this.x,this.y,this.width,this.height)};b.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};m.Rectangle=c})(window);
(function(m){var c=function(a,d,b,c){this.initialize(a,d,b,c)},b=c.prototype;c.identity=null;b.color=null;b.offsetX=0;b.offsetY=0;b.blur=0;b.initialize=function(a,d,b,c){this.color=a;this.offsetX=d;this.offsetY=b;this.blur=c};b.toString=function(){return"[Shadow]"};b.clone=function(){return new c(this.color,this.offsetX,this.offsetY,this.blur)};c.identity=new c("transparent",0,0,0);m.Shadow=c})(window);
(function(m){var c=function(a){this.initialize(a)},b=c.prototype;b.complete=!0;b._animations=null;b._frames=null;b._images=null;b._data=null;b._loadCount=0;b._frameHeight=0;b._frameWidth=0;b._numFrames=0;b._regX=0;b._regY=0;b.initialize=function(a){var d,b,c;if(null!=a){if(a.images&&0<(b=a.images.length)){c=this._images=[];for(d=0;d<b;d++){var k=a.images[d];if(!(k instanceof Image)){var q=k,k=new Image;k.src=q}c.push(k);!k.getContext&&!k.complete&&(this._loadCount++,this.complete=!1,function(a){k.onload=
function(){a._handleImageLoad()}}(this))}}if(null!=a.frames)if(a.frames instanceof Array){this._frames=[];c=a.frames;d=0;for(b=c.length;d<b;d++)q=c[d],this._frames.push({image:this._images[q[4]?q[4]:0],rect:new Rectangle(q[0],q[1],q[2],q[3]),regX:q[5]||0,regY:q[6]||0})}else b=a.frames,this._frameWidth=b.width,this._frameHeight=b.height,this._regX=b.regX||0,this._regY=b.regY||0,this._numFrames=b.count,0==this._loadCount&&this._calculateFrames();if(null!=(b=a.animations)){this._animations=[];this._data=
{};for(var m in b){a={name:m};q=b[m];if(isNaN(q))if(q instanceof Array){a.frequency=q[3];a.next=q[2];c=a.frames=[];for(d=q[0];d<=q[1];d++)c.push(d)}else a.frequency=q.frequency,a.next=q.next,c=a.frames=q.frames.slice(0);else c=a.frames=[q];a.next=2>c.length||!1==a.next?null:!0==a.next?m:a.next;a.frequency||(a.frequency=1);this._animations.push(m);this._data[m]=a}}}};b.getNumFrames=function(a){return null==a?this._frames?this._frames.length:this._numFrames:(a=this._data[a],null==a?0:a.frames.length)};
b.getAnimations=function(){return this._animations.slice(0)};b.getAnimation=function(a){return this._data[a]};b.getFrame=function(a){return this.complete&&this._frames&&(frame=this._frames[a])?frame:null};b.toString=function(){return"[SpriteSheet]"};b.clone=function(){var a=new c;a.complete=this.complete;a._animations=this._animations;a._frames=this._frames;a._images=this._images;a._data=this._data;a._frameHeight=this._frameHeight;a._frameWidth=this._frameWidth;a._numFrames=this._numFrames;a._loadCount=
this._loadCount;return a};b._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0)};b._calculateFrames=function(){if(!(this._frames||0==this._frameWidth)){this._frames=[];for(var a=0,d=this._frameWidth,b=this._frameHeight,c=0,k=this._images;c<k.length;c++){for(var q=k[c],m=(q.width+1)/d|0,y=(q.height+1)/b|0,y=0<this._numFrames?Math.min(this._numFrames-a,m*y):m*y,s=0;s<y;s++)this._frames.push({image:q,rect:new Rectangle(s%m*d,(s/m|0)*b,d,b),regX:this._regX,regY:this._regY});
a+=y}this._numFrames=a}};m.SpriteSheet=c})(window);
(function(m){function c(a,b){this.f=a;this.params=b}c.prototype.exec=function(a){this.f.apply(a,this.params)};var b=function(){this.initialize()},a=b.prototype;b.getRGB=function(a,b,c,k){null!=a&&null==c&&(k=b,c=a&255,b=a>>8&255,a=a>>16&255);return null==k?"rgb("+a+","+b+","+c+")":"rgba("+a+","+b+","+c+","+k+")"};b.getHSL=function(a,b,c,k){return null==k?"hsl("+a%360+","+b+"%,"+c+"%)":"hsla("+a%360+","+b+"%,"+c+"%,"+k+")"};b.STROKE_CAPS_MAP=["butt","round","square"];b.STROKE_JOINTS_MAP=["miter","round",
"bevel"];b._ctx=document.createElement("canvas").getContext("2d");b.beginCmd=new c(b._ctx.beginPath,[]);b.fillCmd=new c(b._ctx.fill,[]);b.strokeCmd=new c(b._ctx.stroke,[]);a._strokeInstructions=null;a._strokeStyleInstructions=null;a._fillInstructions=null;a._instructions=null;a._oldInstructions=null;a._activeInstructions=null;a._active=!1;a._dirty=!1;a.initialize=function(){this.clear();this._ctx=b._ctx};a.draw=function(a){this._dirty&&this._updateInstructions();for(var b=this._instructions,c=0,k=
b.length;c<k;c++)b[c].exec(a)};a.moveTo=function(a,b){this._activeInstructions.push(new c(this._ctx.moveTo,[a,b]));return this};a.lineTo=function(a,b){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.lineTo,[a,b]));return this};a.arcTo=function(a,b,x,k,q){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.arcTo,[a,b,x,k,q]));return this};a.arc=function(a,b,x,k,q,m){this._dirty=this._active=!0;null==m&&(m=!1);this._activeInstructions.push(new c(this._ctx.arc,
[a,b,x,k,q,m]));return this};a.quadraticCurveTo=function(a,b,x,k){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.quadraticCurveTo,[a,b,x,k]));return this};a.bezierCurveTo=function(a,b,x,k,q,m){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.bezierCurveTo,[a,b,x,k,q,m]));return this};a.rect=function(a,b,x,k){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.rect,[a,b,x,k]));return this};a.closePath=function(){this._active&&
(this._dirty=!0,this._activeInstructions.push(new c(this._ctx.closePath,[])));return this};a.clear=function(){this._instructions=[];this._oldInstructions=[];this._activeInstructions=[];this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=null;this._active=this._dirty=!1;return this};a.beginFill=function(a){this._active&&this._newPath();this._fillInstructions=a?[new c(this._setProp,["fillStyle",a])]:null;return this};a.beginLinearGradientFill=function(a,b,x,k,q,m){this._active&&
this._newPath();x=this._ctx.createLinearGradient(x,k,q,m);k=0;for(q=a.length;k<q;k++)x.addColorStop(b[k],a[k]);this._fillInstructions=[new c(this._setProp,["fillStyle",x])];return this};a.beginRadialGradientFill=function(a,b,m,k,q,t,y,s){this._active&&this._newPath();m=this._ctx.createRadialGradient(m,k,q,t,y,s);k=0;for(q=a.length;k<q;k++)m.addColorStop(b[k],a[k]);this._fillInstructions=[new c(this._setProp,["fillStyle",m])];return this};a.beginBitmapFill=function(a,b){this._active&&this._newPath();
var m=this._ctx.createPattern(a,b||"");this._fillInstructions=[new c(this._setProp,["fillStyle",m])];return this};a.endFill=function(){this.beginFill(null);return this};a.setStrokeStyle=function(a,j,m,k){this._active&&this._newPath();this._strokeStyleInstructions=[new c(this._setProp,["lineWidth",null==a?"1":a]),new c(this._setProp,["lineCap",null==j?"butt":isNaN(j)?j:b.STROKE_CAPS_MAP[j]]),new c(this._setProp,["lineJoin",null==m?"miter":isNaN(m)?m:b.STROKE_JOINTS_MAP[m]]),new c(this._setProp,["miterLimit",
null==k?"10":k])];return this};a.beginStroke=function(a){this._active&&this._newPath();this._strokeInstructions=a?[new c(this._setProp,["strokeStyle",a])]:null;return this};a.beginLinearGradientStroke=function(a,b,m,k,q,t){this._active&&this._newPath();m=this._ctx.createLinearGradient(m,k,q,t);k=0;for(q=a.length;k<q;k++)m.addColorStop(b[k],a[k]);this._strokeInstructions=[new c(this._setProp,["strokeStyle",m])];return this};a.beginRadialGradientStroke=function(a,b,m,k,q,t,y,s){this._active&&this._newPath();
m=this._ctx.createRadialGradient(m,k,q,t,y,s);k=0;for(q=a.length;k<q;k++)m.addColorStop(b[k],a[k]);this._strokeInstructions=[new c(this._setProp,["strokeStyle",m])];return this};a.beginBitmapStroke=function(a,b){this._active&&this._newPath();var m=this._ctx.createPattern(a,b||"");this._strokeInstructions=[new c(this._setProp,["strokeStyle",m])];return this};a.endStroke=function(){this.beginStroke(null);return this};a.curveTo=a.quadraticCurveTo;a.drawRect=a.rect;a.drawRoundRect=function(a,b,c,k,q){this.drawRoundRectComplex(a,
b,c,k,q,q,q,q);return this};a.drawRoundRectComplex=function(a,b,m,k,q,t,y,s){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.moveTo,[a+q,b]),new c(this._ctx.lineTo,[a+m-t,b]),new c(this._ctx.arc,[a+m-t,b+t,t,-Math.PI/2,0,!1]),new c(this._ctx.lineTo,[a+m,b+k-y]),new c(this._ctx.arc,[a+m-y,b+k-y,y,0,Math.PI/2,!1]),new c(this._ctx.lineTo,[a+s,b+k]),new c(this._ctx.arc,[a+s,b+k-s,s,Math.PI/2,Math.PI,!1]),new c(this._ctx.lineTo,[a,b+q]),new c(this._ctx.arc,[a+q,b+q,q,Math.PI,
3*Math.PI/2,!1]));return this};a.drawCircle=function(a,b,c){this.arc(a,b,c,0,2*Math.PI);return this};a.drawEllipse=function(a,b,m,k){this._dirty=this._active=!0;var q=0.5522848*(m/2),t=0.5522848*(k/2),y=a+m,s=b+k,m=a+m/2,k=b+k/2;this._activeInstructions.push(new c(this._ctx.moveTo,[a,k]),new c(this._ctx.bezierCurveTo,[a,k-t,m-q,b,m,b]),new c(this._ctx.bezierCurveTo,[m+q,b,y,k-t,y,k]),new c(this._ctx.bezierCurveTo,[y,k+t,m+q,s,m,s]),new c(this._ctx.bezierCurveTo,[m-q,s,a,k+t,a,k]));return this};a.drawPolyStar=
function(a,b,m,k,q,t){this._dirty=this._active=!0;null==q&&(q=0);q=1-q;null==t?t=0:t/=180/Math.PI;var y=Math.PI/k;this._activeInstructions.push(new c(this._ctx.moveTo,[a+Math.cos(t)*m,b+Math.sin(t)*m]));for(var s=0;s<k;s++)t+=y,1!=q&&this._activeInstructions.push(new c(this._ctx.lineTo,[a+Math.cos(t)*m*q,b+Math.sin(t)*m*q])),t+=y,this._activeInstructions.push(new c(this._ctx.lineTo,[a+Math.cos(t)*m,b+Math.sin(t)*m]));return this};a.clone=function(){var a=new b;a._instructions=this._instructions.slice();
a._activeInstructions=this._activeInstructions.slice();a._oldInstructions=this._oldInstructions.slice();this._fillInstructions&&(a._fillInstructions=this._fillInstructions.slice());this._strokeInstructions&&(a._strokeInstructions=this._strokeInstructions.slice());this._strokeStyleInstructions&&(a._strokeStyleInstructions=this._strokeStyleInstructions.slice());a._active=this._active;a._dirty=this._dirty;return a};a.toString=function(){return"[Graphics]"};a.mt=a.moveTo;a.lt=a.lineTo;a.at=a.arcTo;a.bt=
a.bezierCurveTo;a.qt=a.quadraticCurveTo;a.a=a.arc;a.r=a.rect;a.cp=a.closePath;a.c=a.clear;a.f=a.beginFill;a.lf=a.beginLinearGradientFill;a.rf=a.beginRadialGradientFill;a.bf=a.beginBitmapFill;a.ef=a.endFill;a.ss=a.setStrokeStyle;a.s=a.beginStroke;a.ls=a.beginLinearGradientStroke;a.rs=a.beginRadialGradientStroke;a.bs=a.beginBitmapStroke;a.es=a.endStroke;a.dr=a.drawRect;a.rr=a.drawRoundRect;a.rc=a.drawRoundRectComplex;a.dc=a.drawCircle;a.de=a.drawEllipse;a.dp=a.drawPolyStar;a._updateInstructions=function(){this._instructions=
this._oldInstructions.slice();this._instructions.push(b.beginCmd);this._fillInstructions&&this._instructions.push.apply(this._instructions,this._fillInstructions);this._strokeInstructions&&(this._instructions.push.apply(this._instructions,this._strokeInstructions),this._strokeStyleInstructions&&this._instructions.push.apply(this._instructions,this._strokeStyleInstructions));this._instructions.push.apply(this._instructions,this._activeInstructions);this._fillInstructions&&this._instructions.push(b.fillCmd);
this._strokeInstructions&&this._instructions.push(b.strokeCmd)};a._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=[];this._active=this._dirty=!1};a._setProp=function(a,b){this[a]=b};m.Graphics=b})(window);
(function(m){var c=function(){this.initialize()},b=c.prototype;c.suppressCrossDomainErrors=!1;c._hitTestCanvas=document.createElement("canvas");c._hitTestCanvas.width=c._hitTestCanvas.height=1;c._hitTestContext=c._hitTestCanvas.getContext("2d");c._nextCacheID=1;b.alpha=1;b.cacheCanvas=null;b.id=-1;b.mouseEnabled=!0;b.name=null;b.parent=null;b.regX=0;b.regY=0;b.rotation=0;b.scaleX=1;b.scaleY=1;b.skewX=0;b.skewY=0;b.shadow=null;b.visible=!0;b.x=0;b.y=0;b.compositeOperation=null;b.snapToPixel=!1;b.onPress=
null;b.onClick=null;b.onDoubleClick=null;b.onMouseOver=null;b.onMouseOut=null;b.tick=null;b.filters=null;b.cacheID=0;b._cacheOffsetX=0;b._cacheOffsetY=0;b._cacheDataURLID=0;b._cacheDataURL=null;b._matrix=null;b.initialize=function(){this.id=UID.get();this._matrix=new Matrix2D};b.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY};b.draw=function(a,b){if(b||!this.cacheCanvas)return!1;a.drawImage(this.cacheCanvas,this._cacheOffsetX,this._cacheOffsetY);return!0};b.cache=
function(a,b,j,m){null==this.cacheCanvas&&(this.cacheCanvas=document.createElement("canvas"));var k=this.cacheCanvas.getContext("2d");this.cacheCanvas.width=j;this.cacheCanvas.height=m;k.clearRect(0,0,j+1,m+1);k.setTransform(1,0,0,1,-a,-b);this.draw(k,!0,this._matrix.reinitialize(1,0,0,1,-a,-b));this._cacheOffsetX=a;this._cacheOffsetY=b;this._applyFilters();this.cacheID=c._nextCacheID++};b.updateCache=function(a){if(null==this.cacheCanvas)throw"cache() must be called before updateCache()";var b=this.cacheCanvas.getContext("2d");
b.setTransform(1,0,0,1,-this._cacheOffsetX,-this._cacheOffsetY);a?b.globalCompositeOperation=a:b.clearRect(0,0,this.cacheCanvas.width+1,this.cacheCanvas.height+1);this.draw(b,!0);a&&(b.globalCompositeOperation="source-over");this._applyFilters();this.cacheID=c._nextCacheID++};b.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0};b.getCacheDataURL=function(){if(!this.cacheCanvas)return null;this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=
this.cacheCanvas.toDataURL());return this._cacheDataURL};b.getStage=function(){for(var a=this;a.parent;)a=a.parent;return a instanceof Stage?a:null};b.localToGlobal=function(a,b){var c=this.getConcatenatedMatrix(this._matrix);if(null==c)return null;c.append(1,0,0,1,a,b);return new Point(c.tx,c.ty)};b.globalToLocal=function(a,b){var c=this.getConcatenatedMatrix(this._matrix);if(null==c)return null;c.invert();c.append(1,0,0,1,a,b);return new Point(c.tx,c.ty)};b.localToLocal=function(a,b,c){a=this.localToGlobal(a,
b);return c.globalToLocal(a.x,a.y)};b.setTransform=function(a,b,c,m,k,q,t,y,s){this.x=a||0;this.y=b||0;this.scaleX=null==c?1:c;this.scaleY=null==m?1:m;this.rotation=k||0;this.skewX=q||0;this.skewY=t||0;this.regX=y||0;this.regY=s||0};b.getConcatenatedMatrix=function(a){a?a.identity():a=new Matrix2D;for(var b=this;null!=b;)a.prependTransform(b.x,b.y,b.scaleX,b.scaleY,b.rotation,b.skewX,b.skewY,b.regX,b.regY),a.prependProperties(b.alpha,b.shadow,b.compositeOperation),b=b.parent;return a};b.hitTest=function(a,
b){var j=c._hitTestContext,m=c._hitTestCanvas;j.setTransform(1,0,0,1,-a,-b);this.draw(j);j=this._testHit(j);m.width=0;m.width=1;return j};b.clone=function(){var a=new c;this.cloneProps(a);return a};b.toString=function(){return"[DisplayObject (name="+this.name+")]"};b.cloneProps=function(a){a.alpha=this.alpha;a.name=this.name;a.regX=this.regX;a.regY=this.regY;a.rotation=this.rotation;a.scaleX=this.scaleX;a.scaleY=this.scaleY;a.shadow=this.shadow;a.skewX=this.skewX;a.skewY=this.skewY;a.visible=this.visible;
a.x=this.x;a.y=this.y;a.mouseEnabled=this.mouseEnabled;a.compositeOperation=this.compositeOperation;this.cacheCanvas&&(a.cacheCanvas=this.cacheCanvas.cloneNode(!0),a.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,0,this.cacheCanvas.width,this.cacheCanvas.height),0,0))};b.applyShadow=function(a,b){b=b||Shadow.identity;a.shadowColor=b.color;a.shadowOffsetX=b.offsetX;a.shadowOffsetY=b.offsetY;a.shadowBlur=b.blur};b._tick=function(){this.tick&&this.tick()};
b._testHit=function(a){try{var b=1<a.getImageData(0,0,1,1).data[3]}catch(j){if(!c.suppressCrossDomainErrors)throw"An error has occured. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return b};b._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,b=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,m=this.cacheCanvas.height,k=0;k<a;k++)this.filters[k].applyFilter(b,
0,0,c,m)};m.DisplayObject=c})(window);
(function(m){var c=function(){this.initialize()},b=c.prototype=new DisplayObject;b.children=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(){this.DisplayObject_initialize();this.children=[]};b.isVisible=function(){return this.visible&&0<this.alpha&&this.children.length&&0!=this.scaleX&&0!=this.scaleY};b.DisplayObject_draw=b.draw;b.draw=function(a,b,j){var m=Stage._snapToPixelEnabled;if(this.DisplayObject_draw(a,b))return!0;for(var j=j||this._matrix.reinitialize(1,0,0,1,0,0,this.alpha,
this.shadow,this.compositeOperation),b=this.children.length,k=this.children.slice(0),q=0;q<b;q++){var t=k[q];if(t.isVisible()){var y=!1,s=t._matrix.reinitialize(j.a,j.b,j.c,j.d,j.tx,j.ty,j.alpha,j.shadow,j.compositeOperation);s.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY);s.appendProperties(t.alpha,t.shadow,t.compositeOperation);t instanceof c&&null==t.cacheCanvas||(m&&t.snapToPixel&&1==s.a&&0==s.b&&0==s.c&&1==s.d?a.setTransform(s.a,s.b,s.c,s.d,s.tx+0.5|0,s.ty+
0.5|0):a.setTransform(s.a,s.b,s.c,s.d,s.tx,s.ty),a.globalAlpha=s.alpha,a.globalCompositeOperation=s.compositeOperation||"source-over",(y=s.shadow)&&this.applyShadow(a,y));t.draw(a,!1,s);y&&this.applyShadow(a)}}return!0};b.addChild=function(a){if(null==a)return a;var b=arguments.length;if(1<b){for(var c=0;c<b;c++)this.addChild(arguments[c]);return arguments[b-1]}a.parent&&a.parent.removeChild(a);a.parent=this;this.children.push(a);return a};b.addChildAt=function(a,b){var c=arguments.length;if(2<c){for(var b=
arguments[m-1],m=0;m<c-1;m++)this.addChildAt(arguments[m],b+m);return arguments[c-2]}a.parent&&a.parent.removeChild(a);a.parent=this;this.children.splice(b,0,a);return a};b.removeChild=function(a){var b=arguments.length;if(1<b){for(var c=!0,m=0;m<b;m++)c=c&&this.removeChild(arguments[m]);return c}return this.removeChildAt(this.children.indexOf(a))};b.removeChildAt=function(a){var b=arguments.length;if(1<b){for(var c=[],m=0;m<b;m++)c[m]=arguments[m];c.sort(function(a,b){return b-a});for(var k=!0,m=
0;m<b;m++)k=k&&this.removeChildAt(c[m]);return k}if(0>a||a>this.children.length-1)return!1;b=this.children[a];null!=b&&(b.parent=null);this.children.splice(a,1);return!0};b.removeAllChildren=function(){for(var a=this.children;a.length;)a.pop().parent=null};b.getChildAt=function(a){return this.children[a]};b.sortChildren=function(a){this.children.sort(a)};b.getChildIndex=function(a){return this.children.indexOf(a)};b.getNumChildren=function(){return this.children.length};b.swapChildrenAt=function(a,
b){var c=this.children,m=c[a],k=c[b];m&&k&&(c[a]=k,c[b]=m)};b.swapChildren=function(a,b){for(var c=this.children,m,k,q=0,t=c.length;q<t;q++)if(c[q]==a&&(m=q),c[q]==b&&(k=q),null!=m&&null!=k)return;q!=t&&(c[m]=b,c[k]=a)};b.setChildIndex=function(a,b){for(var c=this.children,m=0,k=c.length;m<k&&c[m]!=a;m++);m==k||0>b||b>k||m==b||(c.splice(b,1),b<m&&m--,c.splice(a,m,0))};b.contains=function(a){for(;a;){if(a==this)return!0;a=a.parent}return!1};b.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,
b)};b.getObjectsUnderPoint=function(a,b){var c=[],m=this.localToGlobal(a,b);this._getObjectsUnderPoint(m.x,m.y,c);return c};b.getObjectUnderPoint=function(a,b){var c=this.localToGlobal(a,b);return this._getObjectsUnderPoint(c.x,c.y)};b.clone=function(a){var b=new c;this.cloneProps(b);if(a)for(var j=b.children=[],m=0,k=this.children.length;m<k;m++){var q=this.children[m].clone(a);q.parent=b;j.push(q)}return b};b.toString=function(){return"[Container (name="+this.name+")]"};b._tick=function(a){for(var b=
this.children.length-1;0<=b;b--){var c=this.children[b];c._tick&&c._tick(a)}this.tick&&this.tick()};b._getObjectsUnderPoint=function(a,b,j,m){var k=DisplayObject._hitTestContext,q=DisplayObject._hitTestCanvas,t=this._matrix,y=m&1&&(this.onPress||this.onClick||this.onDoubleClick)||m&2&&(this.onMouseOver||this.onMouseOut);if(this.cacheCanvas)if(this.getConcatenatedMatrix(t),k.setTransform(t.a,t.b,t.c,t.d,t.tx-a,t.ty-b),k.globalAlpha=t.alpha,this.draw(k),this._testHit(k)){if(q.width=0,q.width=1,y)return this}else return null;
for(var s=this.children.length-1;0<=s;s--){var u=this.children[s];if(u.isVisible()&&u.mouseEnabled)if(u instanceof c)if(y){if(u._getObjectsUnderPoint(a,b))return this}else{if(u=u._getObjectsUnderPoint(a,b,j,m),!j&&u)return u}else if(!m||y||m&1&&(u.onPress||u.onClick||u.onDoubleClick)||m&2&&(u.onMouseOver||u.onMouseOut))if(u.getConcatenatedMatrix(t),k.setTransform(t.a,t.b,t.c,t.d,t.tx-a,t.ty-b),k.globalAlpha=t.alpha,u.draw(k),this._testHit(k)){if(q.width=0,q.width=1,y)return this;if(j)j.push(u);else return u}}return null};
m.Container=c})(window);
(function(m){var c=function(a){this.initialize(a)},b=c.prototype=new Container;c._snapToPixelEnabled=!1;b.autoClear=!0;b.canvas=null;b.mouseX=null;b.mouseY=null;b.onMouseMove=null;b.onMouseUp=null;b.onMouseDown=null;b.snapToPixelEnabled=!1;b.mouseInBounds=!1;b.tickOnUpdate=!0;b._activeMouseEvent=null;b._activeMouseTarget=null;b._mouseOverIntervalID=null;b._mouseOverX=0;b._mouseOverY=0;b._mouseOverTarget=null;b.Container_initialize=b.initialize;b.initialize=function(a){this.Container_initialize();this.canvas=
a instanceof HTMLCanvasElement?a:document.getElementById(a);this._enableMouseEvents(!0)};b.update=function(){if(this.canvas){this.autoClear&&this.clear();c._snapToPixelEnabled=this.snapToPixelEnabled;if(this.tickOnUpdate){if(this.tick==this.update){var a=1;this.tick=null}this._tick(!0);a&&(this.tick=this.update)}this.draw(this.canvas.getContext("2d"),!1,this.getConcatenatedMatrix(this._matrix))}};b.tick=b.update;b.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,
0,0,1,0,0);a.clearRect(0,0,this.canvas.width,this.canvas.height)}};b.toDataURL=function(a,b){b||(b="image/png");var c=this.canvas.getContext("2d"),m=this.canvas.width,k=this.canvas.height,q;if(a){q=c.getImageData(0,0,m,k);var t=c.globalCompositeOperation;c.globalCompositeOperation="destination-over";c.fillStyle=a;c.fillRect(0,0,m,k)}var y=this.canvas.toDataURL(b);a&&(c.clearRect(0,0,m,k),c.putImageData(q,0,0),c.globalCompositeOperation=t);return y};b.enableMouseOver=function(a){this._mouseOverIntervalID&&
(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null);if(null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1E3/Math.min(50,a));this._mouseOverX=NaN;this._mouseOverTarget=null};b.clone=function(){var a=new c(null);this.cloneProps(a);return a};b.toString=function(){return"[Stage (name="+this.name+")]"};b._enableMouseEvents=function(){var a=this,b=m.addEventListener?m:document;b.addEventListener("mouseup",function(b){a._handleMouseUp(b)},
!1);b.addEventListener("mousemove",function(b){a._handleMouseMove(b)},!1);b.addEventListener("dblclick",function(b){a._handleDoubleClick(b)},!1);this.canvas&&this.canvas.addEventListener("mousedown",function(b){a._handleMouseDown(b)},!1)};b._handleMouseMove=function(a){if(this.canvas){a||(a=m.event);var b=this.mouseInBounds;this._updateMousePosition(a.pageX,a.pageY);if(b||this.mouseInBounds){a=new MouseEvent("onMouseMove",this.mouseX,this.mouseY,this,a);if(this.onMouseMove)this.onMouseMove(a);if(this._activeMouseEvent&&
this._activeMouseEvent.onMouseMove)this._activeMouseEvent.onMouseMove(a)}}else this.mouseX=this.mouseY=null};b._updateMousePosition=function(a,b){var c=this.canvas;do a-=c.offsetLeft,b-=c.offsetTop;while(c=c.offsetParent);if(this.mouseInBounds=0<=a&&0<=b&&a<this.canvas.width&&b<this.canvas.height)this.mouseX=a,this.mouseY=b};b._handleMouseUp=function(a){var b=new MouseEvent("onMouseUp",this.mouseX,this.mouseY,this,a);if(this.onMouseUp)this.onMouseUp(b);if(this._activeMouseEvent&&this._activeMouseEvent.onMouseUp)this._activeMouseEvent.onMouseUp(b);
if(this._activeMouseTarget&&this._activeMouseTarget.onClick&&this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0,this._mouseOverIntervalID?3:1)==this._activeMouseTarget)this._activeMouseTarget.onClick(new MouseEvent("onClick",this.mouseX,this.mouseY,this._activeMouseTarget,a));this._activeMouseEvent=this._activeMouseTarget=null};b._handleMouseDown=function(a){if(this.onMouseDown)this.onMouseDown(new MouseEvent("onMouseDown",this.mouseX,this.mouseY,this,a));var b=this._getObjectsUnderPoint(this.mouseX,
this.mouseY,null,this._mouseOverIntervalID?3:1);if(b){if(b.onPress instanceof Function&&(a=new MouseEvent("onPress",this.mouseX,this.mouseY,b,a),b.onPress(a),a.onMouseMove||a.onMouseUp))this._activeMouseEvent=a;this._activeMouseTarget=b}};b._testMouseOver=function(){if(!(this.mouseX==this._mouseOverX&&this.mouseY==this._mouseOverY&&this.mouseInBounds)){var a=null;this.mouseInBounds&&(a=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);
if(this._mouseOverTarget!=a){if(this._mouseOverTarget&&this._mouseOverTarget.onMouseOut)this._mouseOverTarget.onMouseOut(new MouseEvent("onMouseOut",this.mouseX,this.mouseY,this._mouseOverTarget));if(a&&a.onMouseOver)a.onMouseOver(new MouseEvent("onMouseOver",this.mouseX,this.mouseY,a));this._mouseOverTarget=a}}};b._handleDoubleClick=function(a){if(this.onDoubleClick)this.onDoubleClick(new MouseEvent("onDoubleClick",this.mouseX,this.mouseY,this,a));var b=this._getObjectsUnderPoint(this.mouseX,this.mouseY,
null,this._mouseOverIntervalID?3:1);if(b&&b.onDoubleClick instanceof Function)b.onDoubleClick(new MouseEvent("onPress",this.mouseX,this.mouseY,b,a))};m.Stage=c})(window);
(function(m){var c=function(a){this.initialize(a)},b=c.prototype=new DisplayObject;b.image=null;b.snapToPixel=!0;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();"string"==typeof a?(this.image=new Image,this.image.src=a):this.image=a};b.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState)};b.DisplayObject_draw=b.draw;b.draw=function(a,
b){if(this.DisplayObject_draw(a,b))return!0;a.drawImage(this.image,0,0);return!0};b.clone=function(){var a=new c(this.image);this.cloneProps(a);return a};b.toString=function(){return"[Bitmap (name="+this.name+")]"};m.Bitmap=c})(window);
(function(m){var c=function(a){this.initialize(a)},b=c.prototype=new DisplayObject;b.onAnimationEnd=null;b.currentFrame=-1;b.currentAnimation=null;b.paused=!0;b.spriteSheet=null;b.snapToPixel=!0;b.offset=0;b.currentAnimationFrame=0;b._advanceCount=0;b._animation=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();this.spriteSheet=a};b.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&this.spriteSheet.complete&&
0<=this.currentFrame};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(this.currentFrame);if(null!=c){var m=c.rect;a.drawImage(c.image,m.x,m.y,m.width,m.height,-c.regX,-c.regY,m.width,m.height);return!0}};b.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};b.gotoAndStop=function(a){this.paused=!0;this._goto(a)};b.advance=function(){this._animation?this.currentAnimationFrame++:this.currentFrame++;this._normalizeFrame()};
b.clone=function(){var a=new c(this.spriteSheet);this.cloneProps(a);return a};b.toString=function(){return"[BitmapAnimation (name="+this.name+")]"};b._tick=function(a){var b=this._animation?this._animation.frequency:1;a&&!this.paused&&0==(++this._advanceCount+this.offset)%b&&this.advance()};b._normalizeFrame=function(){var a=this._animation;if(a)if(this.currentAnimationFrame>=a.frames.length){if(a.next?this._goto(a.next):(this.paused=!0,this.currentAnimationFrame=a.frames.length-1,this.currentFrame=
a.frames[this.currentAnimationFrame]),this.onAnimationEnd)this.onAnimationEnd(this,a.name)}else this.currentFrame=a.frames[this.currentAnimationFrame];else if(this.currentFrame>=this.spriteSheet.getNumFrames()&&(this.currentFrame=0,this.onAnimationEnd))this.onAnimationEnd(this,null)};b.DisplayObject_cloneProps=b.cloneProps;b.cloneProps=function(a){this.DisplayObject_cloneProps(a);a.onAnimationEnd=this.onAnimationEnd;a.currentFrame=this.currentFrame;a.currentAnimation=this.currentAnimation;a.paused=
this.paused;a.offset=this.offset;a._animation=this._animation;a.currentAnimationFrame=this.currentAnimationFrame};b._goto=function(a){if(isNaN(a)){var b=this.spriteSheet.getAnimation(a);b&&(this.currentAnimationFrame=0,this._animation=b,this.currentAnimation=a,this._normalizeFrame())}else this.currentAnimation=this._animation=null,this.currentFrame=a};m.BitmapAnimation=c})(window);
(function(m){var c=function(a){this.initialize(a)},b=c.prototype=new DisplayObject;b.graphics=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();this.graphics=a?a:new Graphics};b.isVisible=function(){return this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&this.graphics};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this.graphics.draw(a);return!0};b.clone=function(a){a=new c(a&&this.graphics?this.graphics.clone():
this.graphics);this.cloneProps(a);return a};b.toString=function(){return"[Shape (name="+this.name+")]"};m.Shape=c})(window);
(function(m){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype=new DisplayObject;c._workingContext=document.createElement("canvas").getContext("2d");b.text="";b.font=null;b.color=null;b.textAlign=null;b.textBaseline=null;b.maxWidth=null;b.outline=!1;b.lineHeight=null;b.lineWidth=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a,b,c){this.DisplayObject_initialize();this.text=a;this.font=b;this.color=c?c:"#000"};b.isVisible=function(){return Boolean(this.visible&&0<this.alpha&&
0!=this.scaleX&&0!=this.scaleY&&null!=this.text&&""!=this.text)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this.outline?a.strokeStyle=this.color:a.fillStyle=this.color;a.font=this.font;a.textAlign=this.textAlign?this.textAlign:"start";a.textBaseline=this.textBaseline?this.textBaseline:"alphabetic";for(var c=String(this.text).split(/(?:\r\n|\r|\n)/),m=null==this.lineHeight?this.getMeasuredLineHeight():this.lineHeight,k=0,q=0,t=c.length;q<t;q++){var y=
a.measureText(c[q]).width;if(null==this.lineWidth||y<this.lineWidth)this._drawTextLine(a,c[q],k);else{for(var y=c[q].split(/(\s)/),s=y[0],u=1,w=y.length;u<w;u+=2)a.measureText(s+y[u]+y[u+1]).width>this.lineWidth?(this._drawTextLine(a,s,k),k+=m,s=y[u+1]):s+=y[u]+y[u+1];this._drawTextLine(a,s,k)}k+=m}return!0};b.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width};b.getMeasuredLineHeight=function(){return 1.2*this._getWorkingContext().measureText("M").width};b.clone=
function(){var a=new c(this.text,this.font,this.color);this.cloneProps(a);return a};b.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};b.DisplayObject_cloneProps=b.cloneProps;b.cloneProps=function(a){this.DisplayObject_cloneProps(a);a.textAlign=this.textAlign;a.textBaseline=this.textBaseline;a.maxWidth=this.maxWidth;a.outline=this.outline;a.lineHeight=this.lineHeight;a.lineWidth=this.lineWidth};b._getWorkingContext=function(){var a=c._workingContext;
a.font=this.font;a.textAlign=this.textAlign?this.textAlign:"start";a.textBaseline=this.textBaseline?this.textBaseline:"alphabetic";return a};b._drawTextLine=function(a,b,c){this.outline?a.strokeText(b,0,c,this.maxWidth):a.fillText(b,0,c,this.maxWidth||65535)};m.Text=c})(window);
(function(m){var c=function(){throw"SpriteSheetUtils cannot be instantiated";};c._workingCanvas=document.createElement("canvas");c._workingContext=c._workingCanvas.getContext("2d");c.addFlippedFrames=function(b,a,d,j){if(a||d||j){var m=0;a&&c._flip(b,++m,!0,!1);d&&c._flip(b,++m,!1,!0);j&&c._flip(b,++m,!0,!0)}};c.extractFrame=function(b,a){isNaN(a)&&(a=b.getAnimation(a).frames[0]);var d=b.getFrame(a);if(!d)return null;var j=d.rect,m=c._workingCanvas;m.width=j.width;m.height=j.height;c._workingContext.drawImage(d.image,
j.x,j.y,j.width,j.height,0,0,j.width,j.height);d=new Image;d.src=m.toDataURL("image/png");return d};c._flip=function(b,a,d,j){for(var m=b._images,k=c._workingCanvas,q=c._workingContext,t=m.length/a,y=0;y<t;y++){var s=m[y];s.__tmp=y;k.width=s.width;k.height=s.height;q.setTransform(d?-1:1,0,0,j?-1:1,d?s.width:0,j?s.height:0);q.drawImage(s,0,0);var u=new Image;u.src=k.toDataURL("image/png");u.width=s.width;u.height=s.height;m.push(u)}q=b._frames;k=q.length/a;for(y=0;y<k;y++){var s=q[y],w=s.rect.clone(),
u=m[s.image.__tmp+t*a],Q={image:u,rect:w,regX:s.regX,regY:s.regY};d&&(w.x=u.width-w.x-w.width,Q.regX=w.width-s.regX);j&&(w.y=u.height-w.y-w.height,Q.regY=w.height-s.regY);q.push(Q)}d="_"+(d?"h":"")+(j?"v":"");j=b._animations;b=b._data;m=j.length/a;for(y=0;y<m;y++){q=j[y];s=b[q];t={name:q+d,frequency:s.frequency,next:s.next,frames:[]};s.next&&(t.next+=d);q=s.frames;s=0;for(u=q.length;s<u;s++)t.frames.push(q[s]+k*a);b[t.name]=t;j.push(t.name)}};m.SpriteSheetUtils=c})(window);
(function(m){var c=function(a){this.initialize(a)},b=c.prototype=new DisplayObject;b.htmlElement=null;b._style=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){"string"==typeof a&&(a=document.getElementById(a));this.DisplayObject_initialize();this.mouseEnabled=!1;if(this.htmlElement=a)this._style=a.style,this._style.position="absolute",this._style.transformOrigin=this._style.webkitTransformOrigin=this._style.msTransformOrigin=this._style.MozTransformOrigin="0% 0%"};b.isVisible=
function(){return null!=this.htmlElement};b.draw=function(){if(null!=this.htmlElement){var a=this._matrix,b=this.htmlElement;b.style.opacity=""+a.alpha;b.style.visibility=this.visible?"visible":"hidden";b.style.transform=b.style.webkitTransform=b.style.oTransform=b.style.msTransform=["matrix("+a.a,a.b,a.c,a.d,a.tx,a.ty+")"].join();b.style.MozTransform=["matrix("+a.a,a.b,a.c,a.d,a.tx+"px",a.ty+"px)"].join();return!0}};b.cache=function(){};b.uncache=function(){};b.updateCache=function(){};b.hitTest=
function(){};b.localToGlobal=function(){};b.globalToLocal=function(){};b.localToLocal=function(){};b.clone=function(){var a=new c;this.cloneProps(a);return a};b.toString=function(){return"[DOMElement (name="+this.name+")]"};b._tick=function(){null!=this.htmlElement&&(this.htmlElement.style.visibility="hidden")};m.DOMElement=c})(window);
(function(m){var c=function(){this.initialize()},b=c.prototype;b.initialize=function(){};b.getBounds=function(){return new Rectangle(0,0,0,0)};b.applyFilter=function(){};b.toString=function(){return"[Filter]"};b.clone=function(){return new c};m.Filter=c})(window);
(function(m){var c=function(){throw"Touch cannot be instantiated";};c.isSupported=function(){return"ontouchstart"in m};c.enable=function(b){null!=b&&c.isSupported()&&(b._primaryTouchId=-1,b._handleTouchMoveListener=null,b.canvas.addEventListener("touchstart",function(a){c._handleTouchStart(b,a)},!1),document.addEventListener("touchend",function(a){c._handleTouchEnd(b,a)},!1))};c._handleTouchStart=function(b,a){a.preventDefault();if(-1==b._primaryTouchId){b._handleTouchMoveListener=b._handleTouchMoveListener||
function(a){c._handleTouchMove(b,a)};document.addEventListener("touchmove",b._handleTouchMoveListener,!1);var d=a.changedTouches[0];b._primaryTouchId=d.identifier;b._updateMousePosition(d.pageX,d.pageY);b._handleMouseDown(d)}};c._handleTouchMove=function(b,a){var d=c._findPrimaryTouch(b,a.changedTouches);d&&b._handleMouseMove(d)};c._handleTouchEnd=function(b,a){var d=c._findPrimaryTouch(b,a.changedTouches);d&&(b._primaryTouchId=-1,b._handleMouseUp(d),document.removeEventListener("touchmove",b._handleTouchMoveListener),
b._handleTouchMoveListener=null)};c._findPrimaryTouch=function(b,a){for(var d=a.length,c=0;c<d;c++){var m=a[c];if(m.identifier==b._primaryTouchId)return m}return null};m.Touch=c})(window);var myChrome={};
(function(m,c){function b(){}!(Object.prototype.defineProperty instanceof Function)&&(Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function)&&(Object.defineProperty=function(a,b,c){c.get instanceof Function&&a.__defineGetter__(b,c.get);c.set instanceof Function&&a.__defineSetter__(b,c.set)});m.inherit=function(a,d){b.prototype=d.prototype;a.prototype=new b;a.prototype.constructor=a};m.generateCallback=function(a,b){return function(){b.apply(a,
arguments)}};m.NVector=function(a){a===c&&(a=0);for(var b=Array(a||0),j=0;j<a;++j)b[j]=0;return b};m.is=function(a,b){return a===null?false:b instanceof Function&&a instanceof b||a.constructor.__implements!=c&&a.constructor.__implements[b]?true:false};m.parseUInt=function(a){return Math.abs(parseInt(a))}})(myChrome);var Vector=Array,Vector_a2j_Number=myChrome.NVector;"undefined"===typeof myChrome&&(myChrome={});"undefined"===typeof myChrome.Collision&&(myChrome.Collision={});
"undefined"===typeof myChrome.Collision.Shapes&&(myChrome.Collision.Shapes={});"undefined"===typeof myChrome.Common&&(myChrome.Common={});"undefined"===typeof myChrome.Common.Math&&(myChrome.Common.Math={});"undefined"===typeof myChrome.Dynamics&&(myChrome.Dynamics={});"undefined"===typeof myChrome.Dynamics.Contacts&&(myChrome.Dynamics.Contacts={});"undefined"===typeof myChrome.Dynamics.Controllers&&(myChrome.Dynamics.Controllers={});
"undefined"===typeof myChrome.Dynamics.Joints&&(myChrome.Dynamics.Joints={});
(function(){function m(){m.b2AABB.apply(this,arguments)}function c(){c.b2Bound.apply(this,arguments)}function b(){b.b2BoundValues.apply(this,arguments);this.constructor===b&&this.b2BoundValues.apply(this,arguments)}function a(){a.b2Collision.apply(this,arguments)}function d(){d.b2ContactID.apply(this,arguments);this.constructor===d&&this.b2ContactID.apply(this,arguments)}function j(){j.b2ContactPoint.apply(this,arguments)}function x(){x.b2Distance.apply(this,arguments)}function k(){k.b2DistanceInput.apply(this,
arguments)}function q(){q.b2DistanceOutput.apply(this,arguments)}function t(){t.b2DistanceProxy.apply(this,arguments)}function y(){y.b2DynamicTree.apply(this,arguments);this.constructor===y&&this.b2DynamicTree.apply(this,arguments)}function s(){s.b2DynamicTreeBroadPhase.apply(this,arguments)}function u(){u.b2DynamicTreeNode.apply(this,arguments)}function w(){w.b2DynamicTreePair.apply(this,arguments)}function Q(){Q.b2Manifold.apply(this,arguments);this.constructor===Q&&this.b2Manifold.apply(this,arguments)}
function R(){R.b2ManifoldPoint.apply(this,arguments);this.constructor===R&&this.b2ManifoldPoint.apply(this,arguments)}function r(){r.b2Point.apply(this,arguments)}function I(){I.b2RayCastInput.apply(this,arguments);this.constructor===I&&this.b2RayCastInput.apply(this,arguments)}function E(){E.b2RayCastOutput.apply(this,arguments)}function J(){J.b2Segment.apply(this,arguments)}function K(){K.b2SeparationFunction.apply(this,arguments)}function H(){H.b2Simplex.apply(this,arguments);this.constructor===
H&&this.b2Simplex.apply(this,arguments)}function G(){G.b2SimplexCache.apply(this,arguments)}function T(){T.b2SimplexVertex.apply(this,arguments)}function L(){L.b2TimeOfImpact.apply(this,arguments)}function z(){z.b2TOIInput.apply(this,arguments)}function V(){V.b2WorldManifold.apply(this,arguments);this.constructor===V&&this.b2WorldManifold.apply(this,arguments)}function f(){f.ClipVertex.apply(this,arguments)}function o(){o.Features.apply(this,arguments)}function p(){p.b2CircleShape.apply(this,arguments);
this.constructor===p&&this.b2CircleShape.apply(this,arguments)}function B(){B.b2EdgeChainDef.apply(this,arguments);this.constructor===B&&this.b2EdgeChainDef.apply(this,arguments)}function v(){v.b2EdgeShape.apply(this,arguments);this.constructor===v&&this.b2EdgeShape.apply(this,arguments)}function D(){D.b2MassData.apply(this,arguments)}function M(){M.b2PolygonShape.apply(this,arguments);this.constructor===M&&this.b2PolygonShape.apply(this,arguments)}function U(){U.b2Shape.apply(this,arguments);this.constructor===
U&&this.b2Shape.apply(this,arguments)}function e(){e.b2Color.apply(this,arguments);this.constructor===e&&this.b2Color.apply(this,arguments)}function g(){g.b2Settings.apply(this,arguments)}function A(){A.b2Mat22.apply(this,arguments);this.constructor===A&&this.b2Mat22.apply(this,arguments)}function l(){l.b2Mat33.apply(this,arguments);this.constructor===l&&this.b2Mat33.apply(this,arguments)}function F(){F.b2Math.apply(this,arguments)}function P(){P.b2Sweep.apply(this,arguments)}function W(){W.b2Transform.apply(this,
arguments);this.constructor===W&&this.b2Transform.apply(this,arguments)}function ca(){ca.b2Vec2.apply(this,arguments);this.constructor===ca&&this.b2Vec2.apply(this,arguments)}function Z(){Z.b2Vec3.apply(this,arguments);this.constructor===Z&&this.b2Vec3.apply(this,arguments)}function $(){$.b2Body.apply(this,arguments);this.constructor===$&&this.b2Body.apply(this,arguments)}function ja(){ja.b2BodyDef.apply(this,arguments);this.constructor===ja&&this.b2BodyDef.apply(this,arguments)}function ka(){ka.b2ContactFilter.apply(this,
arguments)}function ha(){ha.b2ContactImpulse.apply(this,arguments)}function qb(){qb.b2ContactListener.apply(this,arguments)}function Wa(){Wa.b2ContactManager.apply(this,arguments);this.constructor===Wa&&this.b2ContactManager.apply(this,arguments)}function la(){la.b2DebugDraw.apply(this,arguments);this.constructor===la&&this.b2DebugDraw.apply(this,arguments)}function ta(){ta.b2DestructionListener.apply(this,arguments)}function ia(){ia.b2FilterData.apply(this,arguments)}function Xa(){Xa.b2Fixture.apply(this,
arguments);this.constructor===Xa&&this.b2Fixture.apply(this,arguments)}function ua(){ua.b2FixtureDef.apply(this,arguments);this.constructor===ua&&this.b2FixtureDef.apply(this,arguments)}function va(){va.b2Island.apply(this,arguments);this.constructor===va&&this.b2Island.apply(this,arguments)}function ma(){ma.b2TimeStep.apply(this,arguments)}function Fa(){Fa.b2World.apply(this,arguments);this.constructor===Fa&&this.b2World.apply(this,arguments)}function Ya(){Ya.b2CircleContact.apply(this,arguments)}
function Ga(){Ga.b2Contact.apply(this,arguments);this.constructor===Ga&&this.b2Contact.apply(this,arguments)}function Ha(){Ha.b2ContactConstraint.apply(this,arguments);this.constructor===Ha&&this.b2ContactConstraint.apply(this,arguments)}function Ia(){Ia.b2ContactConstraintPoint.apply(this,arguments)}function rb(){rb.b2ContactEdge.apply(this,arguments)}function wa(){wa.b2ContactFactory.apply(this,arguments);this.constructor===wa&&this.b2ContactFactory.apply(this,arguments)}function X(){X.b2ContactRegister.apply(this,
arguments)}function Ja(){Ja.b2ContactResult.apply(this,arguments)}function fa(){fa.b2ContactSolver.apply(this,arguments);this.constructor===fa&&this.b2ContactSolver.apply(this,arguments)}function xa(){xa.b2EdgeAndCircleContact.apply(this,arguments)}function na(){na.b2NullContact.apply(this,arguments);this.constructor===na&&this.b2NullContact.apply(this,arguments)}function Y(){Y.b2PolyAndCircleContact.apply(this,arguments)}function ga(){ga.b2PolyAndEdgeContact.apply(this,arguments)}function oa(){oa.b2PolygonContact.apply(this,
arguments)}function pa(){pa.b2PositionSolverManifold.apply(this,arguments);this.constructor===pa&&this.b2PositionSolverManifold.apply(this,arguments)}function Ka(){Ka.b2BuoyancyController.apply(this,arguments)}function qa(){qa.b2ConstantAccelController.apply(this,arguments)}function O(){O.b2ConstantForceController.apply(this,arguments)}function Fb(){Fb.b2Controller.apply(this,arguments)}function pb(){pb.b2ControllerEdge.apply(this,arguments)}function ob(){ob.b2GravityController.apply(this,arguments)}
function Za(){Za.b2TensorDampingController.apply(this,arguments)}function ra(){ra.b2DistanceJoint.apply(this,arguments);this.constructor===ra&&this.b2DistanceJoint.apply(this,arguments)}function $a(){$a.b2DistanceJointDef.apply(this,arguments);this.constructor===$a&&this.b2DistanceJointDef.apply(this,arguments)}function ab(){ab.b2FrictionJoint.apply(this,arguments);this.constructor===ab&&this.b2FrictionJoint.apply(this,arguments)}function bb(){bb.b2FrictionJointDef.apply(this,arguments);this.constructor===
bb&&this.b2FrictionJointDef.apply(this,arguments)}function cb(){cb.b2GearJoint.apply(this,arguments);this.constructor===cb&&this.b2GearJoint.apply(this,arguments)}function La(){La.b2GearJointDef.apply(this,arguments);this.constructor===La&&this.b2GearJointDef.apply(this,arguments)}function db(){db.b2Jacobian.apply(this,arguments)}function aa(){aa.b2Joint.apply(this,arguments);this.constructor===aa&&this.b2Joint.apply(this,arguments)}function Ma(){Ma.b2JointDef.apply(this,arguments);this.constructor===
Ma&&this.b2JointDef.apply(this,arguments)}function eb(){eb.b2JointEdge.apply(this,arguments)}function ya(){ya.b2LineJoint.apply(this,arguments);this.constructor===ya&&this.b2LineJoint.apply(this,arguments)}function Na(){Na.b2LineJointDef.apply(this,arguments);this.constructor===Na&&this.b2LineJointDef.apply(this,arguments)}function fb(){fb.b2MouseJoint.apply(this,arguments);this.constructor===fb&&this.b2MouseJoint.apply(this,arguments)}function gb(){gb.b2MouseJointDef.apply(this,arguments);this.constructor===
gb&&this.b2MouseJointDef.apply(this,arguments)}function hb(){hb.b2PrismaticJoint.apply(this,arguments);this.constructor===hb&&this.b2PrismaticJoint.apply(this,arguments)}function Oa(){Oa.b2PrismaticJointDef.apply(this,arguments);this.constructor===Oa&&this.b2PrismaticJointDef.apply(this,arguments)}function ib(){ib.b2PulleyJoint.apply(this,arguments);this.constructor===ib&&this.b2PulleyJoint.apply(this,arguments)}function jb(){jb.b2PulleyJointDef.apply(this,arguments);this.constructor===jb&&this.b2PulleyJointDef.apply(this,
arguments)}function Pa(){Pa.b2RevoluteJoint.apply(this,arguments);this.constructor===Pa&&this.b2RevoluteJoint.apply(this,arguments)}function Ra(){Ra.b2RevoluteJointDef.apply(this,arguments);this.constructor===Ra&&this.b2RevoluteJointDef.apply(this,arguments)}function Sa(){Sa.b2WeldJoint.apply(this,arguments);this.constructor===Sa&&this.b2WeldJoint.apply(this,arguments)}function za(){za.b2WeldJointDef.apply(this,arguments);this.constructor===za&&this.b2WeldJointDef.apply(this,arguments)}myChrome.Collision.IBroadPhase=
"myChrome.Collision.IBroadPhase";myChrome.Collision.b2AABB=m;myChrome.Collision.b2Bound=c;myChrome.Collision.b2BoundValues=b;myChrome.Collision.b2Collision=a;myChrome.Collision.b2ContactID=d;myChrome.Collision.b2ContactPoint=j;myChrome.Collision.b2Distance=x;myChrome.Collision.b2DistanceInput=k;myChrome.Collision.b2DistanceOutput=q;myChrome.Collision.b2DistanceProxy=t;myChrome.Collision.b2DynamicTree=y;myChrome.Collision.b2DynamicTreeBroadPhase=s;myChrome.Collision.b2DynamicTreeNode=u;myChrome.Collision.b2DynamicTreePair=
w;myChrome.Collision.b2Manifold=Q;myChrome.Collision.b2ManifoldPoint=R;myChrome.Collision.b2Point=r;myChrome.Collision.b2RayCastInput=I;myChrome.Collision.b2RayCastOutput=E;myChrome.Collision.b2Segment=J;myChrome.Collision.b2SeparationFunction=K;myChrome.Collision.b2Simplex=H;myChrome.Collision.b2SimplexCache=G;myChrome.Collision.b2SimplexVertex=T;myChrome.Collision.b2TimeOfImpact=L;myChrome.Collision.b2TOIInput=z;myChrome.Collision.b2WorldManifold=V;myChrome.Collision.ClipVertex=f;myChrome.Collision.Features=
o;myChrome.Collision.Shapes.b2CircleShape=p;myChrome.Collision.Shapes.b2EdgeChainDef=B;myChrome.Collision.Shapes.b2EdgeShape=v;myChrome.Collision.Shapes.b2MassData=D;myChrome.Collision.Shapes.b2PolygonShape=M;myChrome.Collision.Shapes.b2Shape=U;myChrome.Common.b2internal="myChrome.Common.b2internal";myChrome.Common.b2Color=e;myChrome.Common.b2Settings=g;myChrome.Common.Math.b2Mat22=A;myChrome.Common.Math.b2Mat33=l;myChrome.Common.Math.b2Math=F;myChrome.Common.Math.b2Sweep=P;myChrome.Common.Math.b2Transform=
W;myChrome.Common.Math.b2Vec2=ca;myChrome.Common.Math.b2Vec3=Z;myChrome.Dynamics.b2Body=$;myChrome.Dynamics.b2BodyDef=ja;myChrome.Dynamics.b2ContactFilter=ka;myChrome.Dynamics.b2ContactImpulse=ha;myChrome.Dynamics.b2ContactListener=qb;myChrome.Dynamics.b2ContactManager=Wa;myChrome.Dynamics.b2DebugDraw=la;myChrome.Dynamics.b2DestructionListener=ta;myChrome.Dynamics.b2FilterData=ia;myChrome.Dynamics.b2Fixture=Xa;myChrome.Dynamics.b2FixtureDef=ua;myChrome.Dynamics.b2Island=va;myChrome.Dynamics.b2TimeStep=
ma;myChrome.Dynamics.b2World=Fa;myChrome.Dynamics.Contacts.b2CircleContact=Ya;myChrome.Dynamics.Contacts.b2Contact=Ga;myChrome.Dynamics.Contacts.b2ContactConstraint=Ha;myChrome.Dynamics.Contacts.b2ContactConstraintPoint=Ia;myChrome.Dynamics.Contacts.b2ContactEdge=rb;myChrome.Dynamics.Contacts.b2ContactFactory=wa;myChrome.Dynamics.Contacts.b2ContactRegister=X;myChrome.Dynamics.Contacts.b2ContactResult=Ja;myChrome.Dynamics.Contacts.b2ContactSolver=fa;myChrome.Dynamics.Contacts.b2EdgeAndCircleContact=
xa;myChrome.Dynamics.Contacts.b2NullContact=na;myChrome.Dynamics.Contacts.b2PolyAndCircleContact=Y;myChrome.Dynamics.Contacts.b2PolyAndEdgeContact=ga;myChrome.Dynamics.Contacts.b2PolygonContact=oa;myChrome.Dynamics.Contacts.b2PositionSolverManifold=pa;myChrome.Dynamics.Controllers.b2BuoyancyController=Ka;myChrome.Dynamics.Controllers.b2ConstantAccelController=qa;myChrome.Dynamics.Controllers.b2ConstantForceController=O;myChrome.Dynamics.Controllers.b2Controller=Fb;myChrome.Dynamics.Controllers.b2ControllerEdge=
pb;myChrome.Dynamics.Controllers.b2GravityController=ob;myChrome.Dynamics.Controllers.b2TensorDampingController=Za;myChrome.Dynamics.Joints.b2DistanceJoint=ra;myChrome.Dynamics.Joints.b2DistanceJointDef=$a;myChrome.Dynamics.Joints.b2FrictionJoint=ab;myChrome.Dynamics.Joints.b2FrictionJointDef=bb;myChrome.Dynamics.Joints.b2GearJoint=cb;myChrome.Dynamics.Joints.b2GearJointDef=La;myChrome.Dynamics.Joints.b2Jacobian=db;myChrome.Dynamics.Joints.b2Joint=aa;myChrome.Dynamics.Joints.b2JointDef=Ma;myChrome.Dynamics.Joints.b2JointEdge=
eb;myChrome.Dynamics.Joints.b2LineJoint=ya;myChrome.Dynamics.Joints.b2LineJointDef=Na;myChrome.Dynamics.Joints.b2MouseJoint=fb;myChrome.Dynamics.Joints.b2MouseJointDef=gb;myChrome.Dynamics.Joints.b2PrismaticJoint=hb;myChrome.Dynamics.Joints.b2PrismaticJointDef=Oa;myChrome.Dynamics.Joints.b2PulleyJoint=ib;myChrome.Dynamics.Joints.b2PulleyJointDef=jb;myChrome.Dynamics.Joints.b2RevoluteJoint=Pa;myChrome.Dynamics.Joints.b2RevoluteJointDef=Ra;myChrome.Dynamics.Joints.b2WeldJoint=Sa;myChrome.Dynamics.Joints.b2WeldJointDef=
za})();myChrome.postDefs=[];
(function(){var m=myChrome.Collision.Shapes.b2CircleShape,c=myChrome.Collision.Shapes.b2PolygonShape,b=myChrome.Collision.Shapes.b2Shape,a=myChrome.Common.b2Settings,d=myChrome.Common.Math.b2Math,j=myChrome.Common.Math.b2Sweep,x=myChrome.Common.Math.b2Transform,k=myChrome.Common.Math.b2Vec2,q=myChrome.Collision.b2AABB,t=myChrome.Collision.b2Bound,y=myChrome.Collision.b2BoundValues,s=myChrome.Collision.b2Collision,u=myChrome.Collision.b2ContactID,w=myChrome.Collision.b2ContactPoint,Q=myChrome.Collision.b2Distance,
R=myChrome.Collision.b2DistanceInput,r=myChrome.Collision.b2DistanceOutput,I=myChrome.Collision.b2DistanceProxy,E=myChrome.Collision.b2DynamicTree,J=myChrome.Collision.b2DynamicTreeBroadPhase,K=myChrome.Collision.b2DynamicTreeNode,H=myChrome.Collision.b2DynamicTreePair,G=myChrome.Collision.b2Manifold,T=myChrome.Collision.b2ManifoldPoint,L=myChrome.Collision.b2Point,z=myChrome.Collision.b2RayCastInput,V=myChrome.Collision.b2RayCastOutput,f=myChrome.Collision.b2Segment,o=myChrome.Collision.b2SeparationFunction,
p=myChrome.Collision.b2Simplex,B=myChrome.Collision.b2SimplexCache,v=myChrome.Collision.b2SimplexVertex,D=myChrome.Collision.b2TimeOfImpact,M=myChrome.Collision.b2TOIInput,U=myChrome.Collision.b2WorldManifold,e=myChrome.Collision.ClipVertex,g=myChrome.Collision.Features,A=myChrome.Collision.IBroadPhase;q.b2AABB=function(){this.lowerBound=new k;this.upperBound=new k};q.prototype.IsValid=function(){var a=this.upperBound.y-this.lowerBound.y;return this.upperBound.x-this.lowerBound.x>=0&&a>=0&&this.lowerBound.IsValid()&&
this.upperBound.IsValid()};q.prototype.GetCenter=function(){return new k((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};q.prototype.GetExtents=function(){return new k((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)};q.prototype.Contains=function(a){return this.lowerBound.x<=a.lowerBound.x&&this.lowerBound.y<=a.lowerBound.y&&a.upperBound.x<=this.upperBound.x&&a.upperBound.y<=this.upperBound.y};q.prototype.RayCast=function(a,e){var g=
-Number.MAX_VALUE,b=Number.MAX_VALUE,o=e.p1.x,d=e.p1.y,c=e.p2.x-e.p1.x,f=e.p2.y-e.p1.y,p=Math.abs(f),k=a.normal,j=0,v=0,A=0;if(Math.abs(c)<Number.MIN_VALUE){if(o<this.lowerBound.x||this.upperBound.x<o)return false}else{j=1/c;v=(this.lowerBound.x-o)*j;j=(this.upperBound.x-o)*j;A=-1;if(v>j){A=v;v=j;j=A;A=1}if(v>g){k.x=A;k.y=0;g=v}b=Math.min(b,j);if(g>b)return false}if(p<Number.MIN_VALUE){if(d<this.lowerBound.y||this.upperBound.y<d)return false}else{j=1/f;v=(this.lowerBound.y-d)*j;j=(this.upperBound.y-
d)*j;A=-1;if(v>j){A=v;v=j;j=A;A=1}if(v>g){k.y=A;k.x=0;g=v}b=Math.min(b,j);if(g>b)return false}a.fraction=g;return true};q.prototype.TestOverlap=function(a){var e=a.lowerBound.y-this.upperBound.y,g=this.lowerBound.y-a.upperBound.y;return a.lowerBound.x-this.upperBound.x>0||e>0||this.lowerBound.x-a.upperBound.x>0||g>0?false:true};q.Combine=function(a,e){var g=new q;g.Combine(a,e);return g};q.prototype.Combine=function(a,e){this.lowerBound.x=Math.min(a.lowerBound.x,e.lowerBound.x);this.lowerBound.y=
Math.min(a.lowerBound.y,e.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,e.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,e.upperBound.y)};t.b2Bound=function(){};t.prototype.IsLower=function(){return(this.value&1)==0};t.prototype.IsUpper=function(){return(this.value&1)==1};t.prototype.Swap=function(a){var e=this.value,g=this.proxy,b=this.stabbingCount;this.value=a.value;this.proxy=a.proxy;this.stabbingCount=a.stabbingCount;a.value=e;a.proxy=g;a.stabbingCount=b};y.b2BoundValues=function(){};
y.prototype.b2BoundValues=function(){this.lowerValues=new Vector_a2j_Number;this.lowerValues[0]=0;this.lowerValues[1]=0;this.upperValues=new Vector_a2j_Number;this.upperValues[0]=0;this.upperValues[1]=0};s.b2Collision=function(){};s.ClipSegmentToLine=function(a,e,g,b){b===void 0&&(b=0);var o,d=0;o=e[0];var c=o.v;o=e[1];var f=o.v,p=g.x*c.x+g.y*c.y-b;o=g.x*f.x+g.y*f.y-b;p<=0&&a[d++].Set(e[0]);o<=0&&a[d++].Set(e[1]);if(p*o<0){g=p/(p-o);o=a[d];o=o.v;o.x=c.x+g*(f.x-c.x);o.y=c.y+g*(f.y-c.y);o=a[d];o.id=
(p>0?e[0]:e[1]).id;++d}return d};s.EdgeSeparation=function(a,e,g,b,o){g===void 0&&(g=0);parseInt(a.m_vertexCount);var d=a.m_vertices,a=a.m_normals,c=parseInt(b.m_vertexCount),f=b.m_vertices,p,k;p=e.R;k=a[g];a=p.col1.x*k.x+p.col2.x*k.y;b=p.col1.y*k.x+p.col2.y*k.y;p=o.R;var j=p.col1.x*a+p.col1.y*b;p=p.col2.x*a+p.col2.y*b;for(var v=0,A=Number.MAX_VALUE,B=0;B<c;++B){k=f[B];k=k.x*j+k.y*p;if(k<A){A=k;v=B}}k=d[g];p=e.R;g=e.position.x+(p.col1.x*k.x+p.col2.x*k.y);e=e.position.y+(p.col1.y*k.x+p.col2.y*k.y);
k=f[v];p=o.R;d=o.position.x+(p.col1.x*k.x+p.col2.x*k.y);o=o.position.y+(p.col1.y*k.x+p.col2.y*k.y);return(d-g)*a+(o-e)*b};s.FindMaxSeparation=function(a,e,g,b,o){var d=parseInt(e.m_vertexCount),c=e.m_normals,f,p;p=o.R;f=b.m_centroid;var k=o.position.x+(p.col1.x*f.x+p.col2.x*f.y),j=o.position.y+(p.col1.y*f.x+p.col2.y*f.y);p=g.R;f=e.m_centroid;k=k-(g.position.x+(p.col1.x*f.x+p.col2.x*f.y));j=j-(g.position.y+(p.col1.y*f.x+p.col2.y*f.y));p=k*g.R.col1.x+j*g.R.col1.y;for(var j=k*g.R.col2.x+j*g.R.col2.y,
k=0,v=-Number.MAX_VALUE,A=0;A<d;++A){f=c[A];f=f.x*p+f.y*j;if(f>v){v=f;k=A}}c=s.EdgeSeparation(e,g,k,b,o);f=parseInt(k-1>=0?k-1:d-1);p=s.EdgeSeparation(e,g,f,b,o);var j=parseInt(k+1<d?k+1:0),v=s.EdgeSeparation(e,g,j,b,o),B=0,r=0;if(p>c&&p>v){r=-1;A=f;B=p}else if(v>c){r=1;A=j;B=v}else{a[0]=k;return c}for(;;){k=r==-1?A-1>=0?A-1:d-1:A+1<d?A+1:0;c=s.EdgeSeparation(e,g,k,b,o);if(c>B){A=k;B=c}else break}a[0]=A;return B};s.FindIncidentEdge=function(a,e,g,b,o,d){b===void 0&&(b=0);parseInt(e.m_vertexCount);
var c=e.m_normals,f=parseInt(o.m_vertexCount),e=o.m_vertices,o=o.m_normals,p;p=g.R;var g=c[b],c=p.col1.x*g.x+p.col2.x*g.y,k=p.col1.y*g.x+p.col2.y*g.y;p=d.R;g=p.col1.x*c+p.col1.y*k;k=p.col2.x*c+p.col2.y*k;c=g;p=0;for(var j=Number.MAX_VALUE,v=0;v<f;++v){g=o[v];g=c*g.x+k*g.y;if(g<j){j=g;p=v}}o=parseInt(p);c=parseInt(o+1<f?o+1:0);f=a[0];g=e[o];p=d.R;f.v.x=d.position.x+(p.col1.x*g.x+p.col2.x*g.y);f.v.y=d.position.y+(p.col1.y*g.x+p.col2.y*g.y);f.id.features.referenceEdge=b;f.id.features.incidentEdge=o;
f.id.features.incidentVertex=0;f=a[1];g=e[c];p=d.R;f.v.x=d.position.x+(p.col1.x*g.x+p.col2.x*g.y);f.v.y=d.position.y+(p.col1.y*g.x+p.col2.y*g.y);f.id.features.referenceEdge=b;f.id.features.incidentEdge=c;f.id.features.incidentVertex=1};s.MakeClipPointVector=function(){var a=new Vector(2);a[0]=new e;a[1]=new e;return a};s.CollidePolygons=function(e,g,b,o,d){var c;e.m_pointCount=0;var f=g.m_radius+o.m_radius;s.s_edgeAO[0]=0;var p=s.FindMaxSeparation(s.s_edgeAO,g,b,o,d);c=s.s_edgeAO[0];if(!(p>f)){var k;
s.s_edgeBO[0]=0;var j=s.FindMaxSeparation(s.s_edgeBO,o,d,g,b);k=s.s_edgeBO[0];if(!(j>f)){var v=0,A=0;if(j>0.98*p+0.001){p=o;o=g;g=d;v=k;e.m_type=G.e_faceB;A=1}else{p=g;g=b;b=d;v=c;e.m_type=G.e_faceA;A=0}c=s.s_incidentEdge;s.FindIncidentEdge(c,p,g,v,o,b);k=parseInt(p.m_vertexCount);var d=p.m_vertices,p=d[v],B;B=v+1<k?d[parseInt(v+1)]:d[0];v=s.s_localTangent;v.Set(B.x-p.x,B.y-p.y);v.Normalize();d=s.s_localNormal;d.x=v.y;d.y=-v.x;o=s.s_planePoint;o.Set(0.5*(p.x+B.x),0.5*(p.y+B.y));j=s.s_tangent;k=g.R;
j.x=k.col1.x*v.x+k.col2.x*v.y;j.y=k.col1.y*v.x+k.col2.y*v.y;var r=s.s_tangent2;r.x=-j.x;r.y=-j.y;v=s.s_normal;v.x=j.y;v.y=-j.x;var D=s.s_v11,m=s.s_v12;D.x=g.position.x+(k.col1.x*p.x+k.col2.x*p.y);D.y=g.position.y+(k.col1.y*p.x+k.col2.y*p.y);m.x=g.position.x+(k.col1.x*B.x+k.col2.x*B.y);m.y=g.position.y+(k.col1.y*B.x+k.col2.y*B.y);g=v.x*D.x+v.y*D.y;k=j.x*m.x+j.y*m.y+f;B=s.s_clipPoints1;p=s.s_clipPoints2;m=s.ClipSegmentToLine(B,c,r,-j.x*D.x-j.y*D.y+f);if(!(m<2)){m=s.ClipSegmentToLine(p,B,j,k);if(!(m<
2)){e.m_localPlaneNormal.SetV(d);e.m_localPoint.SetV(o);for(o=d=0;o<a.b2_maxManifoldPoints;++o){c=p[o];if(v.x*c.v.x+v.y*c.v.y-g<=f){j=e.m_points[d];k=b.R;r=c.v.x-b.position.x;D=c.v.y-b.position.y;j.m_localPoint.x=r*k.col1.x+D*k.col1.y;j.m_localPoint.y=r*k.col2.x+D*k.col2.y;j.m_id.Set(c.id);j.m_id.features.flip=A;++d}}e.m_pointCount=d}}}}};s.CollideCircles=function(a,e,g,b,o){a.m_pointCount=0;var d,c;d=g.R;c=e.m_p;var f=g.position.x+(d.col1.x*c.x+d.col2.x*c.y),g=g.position.y+(d.col1.y*c.x+d.col2.y*
c.y);d=o.R;c=b.m_p;f=o.position.x+(d.col1.x*c.x+d.col2.x*c.y)-f;o=o.position.y+(d.col1.y*c.x+d.col2.y*c.y)-g;d=e.m_radius+b.m_radius;if(!(f*f+o*o>d*d)){a.m_type=G.e_circles;a.m_localPoint.SetV(e.m_p);a.m_localPlaneNormal.SetZero();a.m_pointCount=1;a.m_points[0].m_localPoint.SetV(b.m_p);a.m_points[0].m_id.key=0}};s.CollidePolygonAndCircle=function(a,e,g,b,o){var d=a.m_pointCount=0,c=0,f,p;p=o.R;f=b.m_p;var k=o.position.y+(p.col1.y*f.x+p.col2.y*f.y),d=o.position.x+(p.col1.x*f.x+p.col2.x*f.y)-g.position.x,
c=k-g.position.y;p=g.R;g=d*p.col1.x+c*p.col1.y;p=d*p.col2.x+c*p.col2.y;for(var j=0,k=-Number.MAX_VALUE,o=e.m_radius+b.m_radius,v=parseInt(e.m_vertexCount),A=e.m_vertices,e=e.m_normals,B=0;B<v;++B){f=A[B];d=g-f.x;c=p-f.y;f=e[B];d=f.x*d+f.y*c;if(d>o)return;if(d>k){k=d;j=B}}d=parseInt(j);c=parseInt(d+1<v?d+1:0);f=A[d];A=A[c];if(k<Number.MIN_VALUE){a.m_pointCount=1;a.m_type=G.e_faceA;a.m_localPlaneNormal.SetV(e[j]);a.m_localPoint.x=0.5*(f.x+A.x);a.m_localPoint.y=0.5*(f.y+A.y)}else{k=(g-A.x)*(f.x-A.x)+
(p-A.y)*(f.y-A.y);if((g-f.x)*(A.x-f.x)+(p-f.y)*(A.y-f.y)<=0){if((g-f.x)*(g-f.x)+(p-f.y)*(p-f.y)>o*o)return;a.m_pointCount=1;a.m_type=G.e_faceA;a.m_localPlaneNormal.x=g-f.x;a.m_localPlaneNormal.y=p-f.y;a.m_localPlaneNormal.Normalize();a.m_localPoint.SetV(f)}else if(k<=0){if((g-A.x)*(g-A.x)+(p-A.y)*(p-A.y)>o*o)return;a.m_pointCount=1;a.m_type=G.e_faceA;a.m_localPlaneNormal.x=g-A.x;a.m_localPlaneNormal.y=p-A.y;a.m_localPlaneNormal.Normalize();a.m_localPoint.SetV(A)}else{j=0.5*(f.x+A.x);f=0.5*(f.y+A.y);
k=(g-j)*e[d].x+(p-f)*e[d].y;if(k>o)return;a.m_pointCount=1;a.m_type=G.e_faceA;a.m_localPlaneNormal.x=e[d].x;a.m_localPlaneNormal.y=e[d].y;a.m_localPlaneNormal.Normalize();a.m_localPoint.Set(j,f)}}a.m_points[0].m_localPoint.SetV(b.m_p);a.m_points[0].m_id.key=0};s.TestOverlap=function(a,e){var g=e.lowerBound,b=a.upperBound,o=g.x-b.x,d=g.y-b.y,g=a.lowerBound,b=e.upperBound,c=g.y-b.y;return o>0||d>0||g.x-b.x>0||c>0?false:true};myChrome.postDefs.push(function(){myChrome.Collision.b2Collision.s_incidentEdge=
s.MakeClipPointVector();myChrome.Collision.b2Collision.s_clipPoints1=s.MakeClipPointVector();myChrome.Collision.b2Collision.s_clipPoints2=s.MakeClipPointVector();myChrome.Collision.b2Collision.s_edgeAO=new Vector_a2j_Number(1);myChrome.Collision.b2Collision.s_edgeBO=new Vector_a2j_Number(1);myChrome.Collision.b2Collision.s_localTangent=new k;myChrome.Collision.b2Collision.s_localNormal=new k;myChrome.Collision.b2Collision.s_planePoint=new k;myChrome.Collision.b2Collision.s_normal=new k;myChrome.Collision.b2Collision.s_tangent=
new k;myChrome.Collision.b2Collision.s_tangent2=new k;myChrome.Collision.b2Collision.s_v11=new k;myChrome.Collision.b2Collision.s_v12=new k;myChrome.Collision.b2Collision.b2CollidePolyTempVec=new k;myChrome.Collision.b2Collision.b2_nullFeature=255});u.b2ContactID=function(){this.features=new g};u.prototype.b2ContactID=function(){this.features._m_id=this};u.prototype.Set=function(a){this.key=a._key};u.prototype.Copy=function(){var a=new u;a.key=this.key;return a};Object.defineProperty(u.prototype,
"key",{enumerable:false,configurable:true,get:function(){return this._key}});Object.defineProperty(u.prototype,"key",{enumerable:false,configurable:true,set:function(a){a===void 0&&(a=0);this._key=a;this.features._referenceEdge=this._key&255;this.features._incidentEdge=(this._key&65280)>>8&255;this.features._incidentVertex=(this._key&16711680)>>16&255;this.features._flip=(this._key&4278190080)>>24&255}});w.b2ContactPoint=function(){this.position=new k;this.velocity=new k;this.normal=new k;this.id=
new u};Q.b2Distance=function(){};Q.Distance=function(e,g,b){++Q.b2_gjkCalls;var o=b.proxyA,c=b.proxyB,f=b.transformA,p=b.transformB,j=Q.s_simplex;j.ReadCache(g,o,f,c,p);var v=j.m_vertices,A=Q.s_saveA,B=Q.s_saveB,r=0;j.GetClosestPoint().LengthSquared();for(var D=0,m,U=0;U<20;){r=j.m_count;for(D=0;D<r;D++){A[D]=v[D].indexA;B[D]=v[D].indexB}switch(j.m_count){case 1:break;case 2:j.Solve2();break;case 3:j.Solve3();break;default:a.b2Assert(false)}if(j.m_count==3)break;m=j.GetClosestPoint();m.LengthSquared();
D=j.GetSearchDirection();if(D.LengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;m=v[j.m_count];m.indexA=o.GetSupport(d.MulTMV(f.R,D.GetNegative()));m.wA=d.MulX(f,o.GetVertex(m.indexA));m.indexB=c.GetSupport(d.MulTMV(p.R,D));m.wB=d.MulX(p,c.GetVertex(m.indexB));m.w=d.SubtractVV(m.wB,m.wA);++U;++Q.b2_gjkIters;for(var q=false,D=0;D<r;D++)if(m.indexA==A[D]&&m.indexB==B[D]){q=true;break}if(q)break;++j.m_count}Q.b2_gjkMaxIters=d.Max(Q.b2_gjkMaxIters,U);j.GetWitnessPoints(e.pointA,e.pointB);e.distance=
d.SubtractVV(e.pointA,e.pointB).Length();e.iterations=U;j.WriteCache(g);if(b.useRadii){g=o.m_radius;c=c.m_radius;if(e.distance>g+c&&e.distance>Number.MIN_VALUE){e.distance=e.distance-(g+c);b=d.SubtractVV(e.pointB,e.pointA);b.Normalize();e.pointA.x=e.pointA.x+g*b.x;e.pointA.y=e.pointA.y+g*b.y;e.pointB.x=e.pointB.x-c*b.x;e.pointB.y=e.pointB.y-c*b.y}else{m=new k;m.x=0.5*(e.pointA.x+e.pointB.x);m.y=0.5*(e.pointA.y+e.pointB.y);e.pointA.x=e.pointB.x=m.x;e.pointA.y=e.pointB.y=m.y;e.distance=0}}};myChrome.postDefs.push(function(){myChrome.Collision.b2Distance.s_simplex=
new p;myChrome.Collision.b2Distance.s_saveA=new Vector_a2j_Number(3);myChrome.Collision.b2Distance.s_saveB=new Vector_a2j_Number(3)});R.b2DistanceInput=function(){};r.b2DistanceOutput=function(){this.pointA=new k;this.pointB=new k};I.b2DistanceProxy=function(){};I.prototype.Set=function(e){switch(e.GetType()){case b.e_circleShape:e=e instanceof m?e:null;this.m_vertices=new Vector(1,true);this.m_vertices[0]=e.m_p;this.m_count=1;this.m_radius=e.m_radius;break;case b.e_polygonShape:e=e instanceof c?
e:null;this.m_vertices=e.m_vertices;this.m_count=e.m_vertexCount;this.m_radius=e.m_radius;break;default:a.b2Assert(false)}};I.prototype.GetSupport=function(a){for(var e=0,g=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,b=1;b<this.m_count;++b){var o=this.m_vertices[b].x*a.x+this.m_vertices[b].y*a.y;if(o>g){e=b;g=o}}return e};I.prototype.GetSupportVertex=function(a){for(var e=0,g=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,b=1;b<this.m_count;++b){var o=this.m_vertices[b].x*a.x+this.m_vertices[b].y*
a.y;if(o>g){e=b;g=o}}return this.m_vertices[e]};I.prototype.GetVertexCount=function(){return this.m_count};I.prototype.GetVertex=function(e){e===void 0&&(e=0);a.b2Assert(0<=e&&e<this.m_count);return this.m_vertices[e]};E.b2DynamicTree=function(){};E.prototype.b2DynamicTree=function(){this.m_freeList=this.m_root=null;this.m_insertionCount=this.m_path=0};E.prototype.CreateProxy=function(e,g){var b=this.AllocateNode(),o=a.b2_aabbExtension,d=a.b2_aabbExtension;b.aabb.lowerBound.x=e.lowerBound.x-o;b.aabb.lowerBound.y=
e.lowerBound.y-d;b.aabb.upperBound.x=e.upperBound.x+o;b.aabb.upperBound.y=e.upperBound.y+d;b.userData=g;this.InsertLeaf(b);return b};E.prototype.DestroyProxy=function(a){this.RemoveLeaf(a);this.FreeNode(a)};E.prototype.MoveProxy=function(e,g,b){a.b2Assert(e.IsLeaf());if(e.aabb.Contains(g))return false;this.RemoveLeaf(e);var o=a.b2_aabbExtension+a.b2_aabbMultiplier*(b.x>0?b.x:-b.x),b=a.b2_aabbExtension+a.b2_aabbMultiplier*(b.y>0?b.y:-b.y);e.aabb.lowerBound.x=g.lowerBound.x-o;e.aabb.lowerBound.y=g.lowerBound.y-
b;e.aabb.upperBound.x=g.upperBound.x+o;e.aabb.upperBound.y=g.upperBound.y+b;this.InsertLeaf(e);return true};E.prototype.Rebalance=function(a){a===void 0&&(a=0);if(this.m_root!=null)for(var e=0;e<a;e++){for(var g=this.m_root,b=0;g.IsLeaf()==false;){g=this.m_path>>b&1?g.child2:g.child1;b=b+1&31}++this.m_path;this.RemoveLeaf(g);this.InsertLeaf(g)}};E.prototype.GetFatAABB=function(a){return a.aabb};E.prototype.GetUserData=function(a){return a.userData};E.prototype.Query=function(a,e){if(this.m_root!=
null){var g=new Vector,b=0;for(g[b++]=this.m_root;b>0;){var o=g[--b];if(o.aabb.TestOverlap(e))if(o.IsLeaf()){if(!a(o))break}else{g[b++]=o.child1;g[b++]=o.child2}}}};E.prototype.RayCast=function(a,e){if(this.m_root!=null){var g=e.p1,b=e.p2,o=d.SubtractVV(g,b);o.Normalize();var o=d.CrossFV(1,o),c=d.AbsV(o),f=e.maxFraction,p=new q,k=0,j=0,k=g.x+f*(b.x-g.x),j=g.y+f*(b.y-g.y);p.lowerBound.x=Math.min(g.x,k);p.lowerBound.y=Math.min(g.y,j);p.upperBound.x=Math.max(g.x,k);p.upperBound.y=Math.max(g.y,j);var v=
new Vector,A=0;for(v[A++]=this.m_root;A>0;){f=v[--A];if(f.aabb.TestOverlap(p)!=false){k=f.aabb.GetCenter();j=f.aabb.GetExtents();if(!(Math.abs(o.x*(g.x-k.x)+o.y*(g.y-k.y))-c.x*j.x-c.y*j.y>0))if(f.IsLeaf()){k=new z;k.p1=e.p1;k.p2=e.p2;k.maxFraction=e.maxFraction;f=a(k,f);if(f==0)break;if(f>0){k=g.x+f*(b.x-g.x);j=g.y+f*(b.y-g.y);p.lowerBound.x=Math.min(g.x,k);p.lowerBound.y=Math.min(g.y,j);p.upperBound.x=Math.max(g.x,k);p.upperBound.y=Math.max(g.y,j)}}else{v[A++]=f.child1;v[A++]=f.child2}}}}};E.prototype.AllocateNode=
function(){if(this.m_freeList){var a=this.m_freeList;this.m_freeList=a.parent;a.parent=null;a.child1=null;a.child2=null;return a}return new K};E.prototype.FreeNode=function(a){a.parent=this.m_freeList;this.m_freeList=a};E.prototype.InsertLeaf=function(a){++this.m_insertionCount;if(this.m_root==null){this.m_root=a;this.m_root.parent=null}else{var e=a.aabb.GetCenter(),g=this.m_root;if(g.IsLeaf()==false){do var b=g.child1,g=g.child2,g=Math.abs((b.aabb.lowerBound.x+b.aabb.upperBound.x)/2-e.x)+Math.abs((b.aabb.lowerBound.y+
b.aabb.upperBound.y)/2-e.y)<Math.abs((g.aabb.lowerBound.x+g.aabb.upperBound.x)/2-e.x)+Math.abs((g.aabb.lowerBound.y+g.aabb.upperBound.y)/2-e.y)?b:g;while(g.IsLeaf()==false)}e=g.parent;b=this.AllocateNode();b.parent=e;b.userData=null;b.aabb.Combine(a.aabb,g.aabb);if(e){g.parent.child1==g?e.child1=b:e.child2=b;b.child1=g;b.child2=a;g.parent=b;a.parent=b;do{if(e.aabb.Contains(b.aabb))break;e.aabb.Combine(e.child1.aabb,e.child2.aabb);b=e;e=e.parent}while(e)}else{b.child1=g;b.child2=a;g.parent=b;this.m_root=
a.parent=b}}};E.prototype.RemoveLeaf=function(a){if(a==this.m_root)this.m_root=null;else{var e=a.parent,g=e.parent,a=e.child1==a?e.child2:e.child1;if(g){g.child1==e?g.child1=a:g.child2=a;a.parent=g;for(this.FreeNode(e);g;){e=g.aabb;g.aabb=q.Combine(g.child1.aabb,g.child2.aabb);if(e.Contains(g.aabb))break;g=g.parent}}else{this.m_root=a;a.parent=null;this.FreeNode(e)}}};J.b2DynamicTreeBroadPhase=function(){this.m_tree=new E;this.m_moveBuffer=new Vector;this.m_pairBuffer=new Vector;this.m_pairCount=
0};J.prototype.CreateProxy=function(a,e){var g=this.m_tree.CreateProxy(a,e);++this.m_proxyCount;this.BufferMove(g);return g};J.prototype.DestroyProxy=function(a){this.UnBufferMove(a);--this.m_proxyCount;this.m_tree.DestroyProxy(a)};J.prototype.MoveProxy=function(a,e,g){this.m_tree.MoveProxy(a,e,g)&&this.BufferMove(a)};J.prototype.TestOverlap=function(a,e){var g=this.m_tree.GetFatAABB(a),b=this.m_tree.GetFatAABB(e);return g.TestOverlap(b)};J.prototype.GetUserData=function(a){return this.m_tree.GetUserData(a)};
J.prototype.GetFatAABB=function(a){return this.m_tree.GetFatAABB(a)};J.prototype.GetProxyCount=function(){return this.m_proxyCount};J.prototype.UpdatePairs=function(a){for(var e=this,g=e.m_pairCount=0,b,g=0;g<e.m_moveBuffer.length;++g){b=e.m_moveBuffer[g];var o=e.m_tree.GetFatAABB(b);e.m_tree.Query(function(a){if(a==b)return true;e.m_pairCount==e.m_pairBuffer.length&&(e.m_pairBuffer[e.m_pairCount]=new H);var g=e.m_pairBuffer[e.m_pairCount];g.proxyA=a<b?a:b;g.proxyB=a>=b?a:b;++e.m_pairCount;return true},
o)}for(g=e.m_moveBuffer.length=0;g<e.m_pairCount;){var o=e.m_pairBuffer[g],d=e.m_tree.GetUserData(o.proxyA),f=e.m_tree.GetUserData(o.proxyB);a(d,f);for(++g;g<e.m_pairCount;){d=e.m_pairBuffer[g];if(d.proxyA!=o.proxyA||d.proxyB!=o.proxyB)break;++g}}};J.prototype.Query=function(a,e){this.m_tree.Query(a,e)};J.prototype.RayCast=function(a,e){this.m_tree.RayCast(a,e)};J.prototype.Validate=function(){};J.prototype.Rebalance=function(a){a===void 0&&(a=0);this.m_tree.Rebalance(a)};J.prototype.BufferMove=function(a){this.m_moveBuffer[this.m_moveBuffer.length]=
a};J.prototype.UnBufferMove=function(a){this.m_moveBuffer.splice(parseInt(this.m_moveBuffer.indexOf(a)),1)};J.prototype.ComparePairs=function(){return 0};J.__implements={};J.__implements[A]=true;K.b2DynamicTreeNode=function(){this.aabb=new q};K.prototype.IsLeaf=function(){return this.child1==null};H.b2DynamicTreePair=function(){};G.b2Manifold=function(){this.m_pointCount=0};G.prototype.b2Manifold=function(){this.m_points=new Vector(a.b2_maxManifoldPoints);for(var e=0;e<a.b2_maxManifoldPoints;e++)this.m_points[e]=
new T;this.m_localPlaneNormal=new k;this.m_localPoint=new k};G.prototype.Reset=function(){for(var e=0;e<a.b2_maxManifoldPoints;e++)(this.m_points[e]instanceof T?this.m_points[e]:null).Reset();this.m_localPlaneNormal.SetZero();this.m_localPoint.SetZero();this.m_pointCount=this.m_type=0};G.prototype.Set=function(e){this.m_pointCount=e.m_pointCount;for(var g=0;g<a.b2_maxManifoldPoints;g++)(this.m_points[g]instanceof T?this.m_points[g]:null).Set(e.m_points[g]);this.m_localPlaneNormal.SetV(e.m_localPlaneNormal);
this.m_localPoint.SetV(e.m_localPoint);this.m_type=e.m_type};G.prototype.Copy=function(){var a=new G;a.Set(this);return a};myChrome.postDefs.push(function(){myChrome.Collision.b2Manifold.e_circles=1;myChrome.Collision.b2Manifold.e_faceA=2;myChrome.Collision.b2Manifold.e_faceB=4});T.b2ManifoldPoint=function(){this.m_localPoint=new k;this.m_id=new u};T.prototype.b2ManifoldPoint=function(){this.Reset()};T.prototype.Reset=function(){this.m_localPoint.SetZero();this.m_tangentImpulse=this.m_normalImpulse=
0;this.m_id.key=0};T.prototype.Set=function(a){this.m_localPoint.SetV(a.m_localPoint);this.m_normalImpulse=a.m_normalImpulse;this.m_tangentImpulse=a.m_tangentImpulse;this.m_id.Set(a.m_id)};L.b2Point=function(){this.p=new k};L.prototype.Support=function(){return this.p};L.prototype.GetFirstVertex=function(){return this.p};z.b2RayCastInput=function(){this.p1=new k;this.p2=new k};z.prototype.b2RayCastInput=function(a,e,g){a===void 0&&(a=null);e===void 0&&(e=null);g===void 0&&(g=1);a&&this.p1.SetV(a);
e&&this.p2.SetV(e);this.maxFraction=g};V.b2RayCastOutput=function(){this.normal=new k};f.b2Segment=function(){this.p1=new k;this.p2=new k};f.prototype.TestSegment=function(a,e,g,b){b===void 0&&(b=0);var o=g.p1,d=g.p2.x-o.x,f=g.p2.y-o.y,g=this.p2.y-this.p1.y,c=-(this.p2.x-this.p1.x),p=100*Number.MIN_VALUE,k=-(d*g+f*c);if(k>p){var j=o.x-this.p1.x,v=o.y-this.p1.y,o=j*g+v*c;if(0<=o&&o<=b*k){b=-d*v+f*j;if(-p*k<=b&&b<=k*(1+p)){o=o/k;b=Math.sqrt(g*g+c*c);a[0]=o;e.Set(g/b,c/b);return true}}}return false};
f.prototype.Extend=function(a){this.ExtendForward(a);this.ExtendBackward(a)};f.prototype.ExtendForward=function(a){var e=this.p2.x-this.p1.x,g=this.p2.y-this.p1.y,a=Math.min(e>0?(a.upperBound.x-this.p1.x)/e:e<0?(a.lowerBound.x-this.p1.x)/e:Number.POSITIVE_INFINITY,g>0?(a.upperBound.y-this.p1.y)/g:g<0?(a.lowerBound.y-this.p1.y)/g:Number.POSITIVE_INFINITY);this.p2.x=this.p1.x+e*a;this.p2.y=this.p1.y+g*a};f.prototype.ExtendBackward=function(a){var e=-this.p2.x+this.p1.x,g=-this.p2.y+this.p1.y,a=Math.min(e>
0?(a.upperBound.x-this.p2.x)/e:e<0?(a.lowerBound.x-this.p2.x)/e:Number.POSITIVE_INFINITY,g>0?(a.upperBound.y-this.p2.y)/g:g<0?(a.lowerBound.y-this.p2.y)/g:Number.POSITIVE_INFINITY);this.p1.x=this.p2.x+e*a;this.p1.y=this.p2.y+g*a};o.b2SeparationFunction=function(){this.m_localPoint=new k;this.m_axis=new k};o.prototype.Initialize=function(e,g,b,c,f){this.m_proxyA=g;this.m_proxyB=c;var p=parseInt(e.count);a.b2Assert(0<p&&p<3);var j,v,A,B,r=0,D=0;if(p==1){this.m_type=o.e_points;j=this.m_proxyA.GetVertex(e.indexA[0]);
v=this.m_proxyB.GetVertex(e.indexB[0]);p=j;e=b.R;g=b.position.x+(e.col1.x*p.x+e.col2.x*p.y);c=b.position.y+(e.col1.y*p.x+e.col2.y*p.y);p=v;e=f.R;A=f.position.x+(e.col1.x*p.x+e.col2.x*p.y);B=f.position.y+(e.col1.y*p.x+e.col2.y*p.y);this.m_axis.x=A-g;this.m_axis.y=B-c;this.m_axis.Normalize()}else{if(e.indexB[0]==e.indexB[1]){this.m_type=o.e_faceA;g=this.m_proxyA.GetVertex(e.indexA[0]);c=this.m_proxyA.GetVertex(e.indexA[1]);v=this.m_proxyB.GetVertex(e.indexB[0]);this.m_localPoint.x=0.5*(g.x+c.x);this.m_localPoint.y=
0.5*(g.y+c.y);this.m_axis=d.CrossVF(d.SubtractVV(c,g),1);this.m_axis.Normalize();p=this.m_axis;e=b.R;r=e.col1.x*p.x+e.col2.x*p.y;D=e.col1.y*p.x+e.col2.y*p.y;p=this.m_localPoint;e=b.R;g=b.position.x+(e.col1.x*p.x+e.col2.x*p.y);c=b.position.y+(e.col1.y*p.x+e.col2.y*p.y);p=v;e=f.R;A=f.position.x+(e.col1.x*p.x+e.col2.x*p.y);B=f.position.y+(e.col1.y*p.x+e.col2.y*p.y);r=(A-g)*r+(B-c)*D}else if(e.indexA[0]==e.indexA[0]){this.m_type=o.e_faceB;A=this.m_proxyB.GetVertex(e.indexB[0]);B=this.m_proxyB.GetVertex(e.indexB[1]);
j=this.m_proxyA.GetVertex(e.indexA[0]);this.m_localPoint.x=0.5*(A.x+B.x);this.m_localPoint.y=0.5*(A.y+B.y);this.m_axis=d.CrossVF(d.SubtractVV(B,A),1);this.m_axis.Normalize();p=this.m_axis;e=f.R;r=e.col1.x*p.x+e.col2.x*p.y;D=e.col1.y*p.x+e.col2.y*p.y;p=this.m_localPoint;e=f.R;A=f.position.x+(e.col1.x*p.x+e.col2.x*p.y);B=f.position.y+(e.col1.y*p.x+e.col2.y*p.y);p=j;e=b.R;g=b.position.x+(e.col1.x*p.x+e.col2.x*p.y);c=b.position.y+(e.col1.y*p.x+e.col2.y*p.y);r=(g-A)*r+(c-B)*D}else{g=this.m_proxyA.GetVertex(e.indexA[0]);
c=this.m_proxyA.GetVertex(e.indexA[1]);A=this.m_proxyB.GetVertex(e.indexB[0]);B=this.m_proxyB.GetVertex(e.indexB[1]);d.MulX(b,j);j=d.MulMV(b.R,d.SubtractVV(c,g));d.MulX(f,v);r=d.MulMV(f.R,d.SubtractVV(B,A));f=j.x*j.x+j.y*j.y;v=r.x*r.x+r.y*r.y;e=d.SubtractVV(r,j);b=j.x*e.x+j.y*e.y;e=r.x*e.x+r.y*e.y;j=j.x*r.x+j.y*r.y;D=f*v-j*j;r=0;D!=0&&(r=d.Clamp((j*e-b*v)/D,0,1));(j*r+e)/v<0&&(r=d.Clamp((j-b)/f,0,1));j=new k;j.x=g.x+r*(c.x-g.x);j.y=g.y+r*(c.y-g.y);v=new k;v.x=A.x+r*(B.x-A.x);v.y=A.y+r*(B.y-A.y);if(r==
0||r==1){this.m_type=o.e_faceB;this.m_axis=d.CrossVF(d.SubtractVV(B,A),1);this.m_axis.Normalize();this.m_localPoint=v}else{this.m_type=o.e_faceA;this.m_axis=d.CrossVF(d.SubtractVV(c,g),1);this.m_localPoint=j}}r<0&&this.m_axis.NegativeSelf()}};o.prototype.Evaluate=function(e,g){var b,p,c=0;switch(this.m_type){case o.e_points:b=d.MulTMV(e.R,this.m_axis);p=d.MulTMV(g.R,this.m_axis.GetNegative());b=this.m_proxyA.GetSupportVertex(b);p=this.m_proxyB.GetSupportVertex(p);b=d.MulX(e,b);p=d.MulX(g,p);return(p.x-
b.x)*this.m_axis.x+(p.y-b.y)*this.m_axis.y;case o.e_faceA:c=d.MulMV(e.R,this.m_axis);b=d.MulX(e,this.m_localPoint);p=d.MulTMV(g.R,c.GetNegative());p=this.m_proxyB.GetSupportVertex(p);p=d.MulX(g,p);return(p.x-b.x)*c.x+(p.y-b.y)*c.y;case o.e_faceB:c=d.MulMV(g.R,this.m_axis);p=d.MulX(g,this.m_localPoint);b=d.MulTMV(e.R,c.GetNegative());b=this.m_proxyA.GetSupportVertex(b);b=d.MulX(e,b);return(b.x-p.x)*c.x+(b.y-p.y)*c.y;default:a.b2Assert(false);return 0}};myChrome.postDefs.push(function(){myChrome.Collision.b2SeparationFunction.e_points=
1;myChrome.Collision.b2SeparationFunction.e_faceA=2;myChrome.Collision.b2SeparationFunction.e_faceB=4});p.b2Simplex=function(){this.m_v1=new v;this.m_v2=new v;this.m_v3=new v;this.m_vertices=new Vector(3)};p.prototype.b2Simplex=function(){this.m_vertices[0]=this.m_v1;this.m_vertices[1]=this.m_v2;this.m_vertices[2]=this.m_v3};p.prototype.ReadCache=function(e,g,b,o,p){a.b2Assert(0<=e.count&&e.count<=3);var c,f;this.m_count=e.count;for(var k=this.m_vertices,j=0;j<this.m_count;j++){var v=k[j];v.indexA=
e.indexA[j];v.indexB=e.indexB[j];c=g.GetVertex(v.indexA);f=o.GetVertex(v.indexB);v.wA=d.MulX(b,c);v.wB=d.MulX(p,f);v.w=d.SubtractVV(v.wB,v.wA);v.a=0}if(this.m_count>1){e=e.metric;c=this.GetMetric();if(c<0.5*e||2*e<c||c<Number.MIN_VALUE)this.m_count=0}if(this.m_count==0){v=k[0];v.indexA=0;v.indexB=0;c=g.GetVertex(0);f=o.GetVertex(0);v.wA=d.MulX(b,c);v.wB=d.MulX(p,f);v.w=d.SubtractVV(v.wB,v.wA);this.m_count=1}};p.prototype.WriteCache=function(a){a.metric=this.GetMetric();a.count=myChrome.parseUInt(this.m_count);
for(var e=this.m_vertices,g=0;g<this.m_count;g++){a.indexA[g]=myChrome.parseUInt(e[g].indexA);a.indexB[g]=myChrome.parseUInt(e[g].indexB)}};p.prototype.GetSearchDirection=function(){switch(this.m_count){case 1:return this.m_v1.w.GetNegative();case 2:var e=d.SubtractVV(this.m_v2.w,this.m_v1.w);return d.CrossVV(e,this.m_v1.w.GetNegative())>0?d.CrossFV(1,e):d.CrossVF(e,1);default:a.b2Assert(false);return new k}};p.prototype.GetClosestPoint=function(){switch(this.m_count){case 0:a.b2Assert(false);return new k;
case 1:return this.m_v1.w;case 2:return new k(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:a.b2Assert(false);return new k}};p.prototype.GetWitnessPoints=function(e,g){switch(this.m_count){case 0:a.b2Assert(false);break;case 1:e.SetV(this.m_v1.wA);g.SetV(this.m_v1.wB);break;case 2:e.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x;e.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y;g.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*
this.m_v2.wB.x;g.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:g.x=e.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x;g.y=e.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:a.b2Assert(false)}};p.prototype.GetMetric=function(){switch(this.m_count){case 0:a.b2Assert(false);return 0;case 1:return 0;case 2:return d.SubtractVV(this.m_v1.w,this.m_v2.w).Length();case 3:return d.CrossVV(d.SubtractVV(this.m_v2.w,
this.m_v1.w),d.SubtractVV(this.m_v3.w,this.m_v1.w));default:a.b2Assert(false);return 0}};p.prototype.Solve2=function(){var a=this.m_v1.w,e=this.m_v2.w,g=d.SubtractVV(e,a),a=-(a.x*g.x+a.y*g.y);if(a<=0)this.m_count=this.m_v1.a=1;else{e=e.x*g.x+e.y*g.y;if(e<=0){this.m_count=this.m_v2.a=1;this.m_v1.Set(this.m_v2)}else{g=1/(e+a);this.m_v1.a=e*g;this.m_v2.a=a*g;this.m_count=2}}};p.prototype.Solve3=function(){var a=this.m_v1.w,e=this.m_v2.w,g=this.m_v3.w,b=d.SubtractVV(e,a),o=d.Dot(a,b),p=d.Dot(e,b),o=-o,
c=d.SubtractVV(g,a),f=d.Dot(a,c),k=d.Dot(g,c),f=-f,j=d.SubtractVV(g,e),v=d.Dot(e,j),j=d.Dot(g,j),v=-v,c=d.CrossVV(b,c),b=c*d.CrossVV(e,g),g=c*d.CrossVV(g,a),a=c*d.CrossVV(a,e);if(o<=0&&f<=0)this.m_count=this.m_v1.a=1;else if(p>0&&o>0&&a<=0){k=1/(p+o);this.m_v1.a=p*k;this.m_v2.a=o*k;this.m_count=2}else if(k>0&&f>0&&g<=0){p=1/(k+f);this.m_v1.a=k*p;this.m_v3.a=f*p;this.m_count=2;this.m_v2.Set(this.m_v3)}else if(p<=0&&v<=0){this.m_count=this.m_v2.a=1;this.m_v1.Set(this.m_v2)}else if(k<=0&&j<=0){this.m_count=
this.m_v3.a=1;this.m_v1.Set(this.m_v3)}else if(j>0&&v>0&&b<=0){p=1/(j+v);this.m_v2.a=j*p;this.m_v3.a=v*p;this.m_count=2;this.m_v1.Set(this.m_v3)}else{p=1/(b+g+a);this.m_v1.a=b*p;this.m_v2.a=g*p;this.m_v3.a=a*p;this.m_count=3}};B.b2SimplexCache=function(){this.indexA=new Vector_a2j_Number(3);this.indexB=new Vector_a2j_Number(3)};v.b2SimplexVertex=function(){};v.prototype.Set=function(a){this.wA.SetV(a.wA);this.wB.SetV(a.wB);this.w.SetV(a.w);this.a=a.a;this.indexA=a.indexA;this.indexB=a.indexB};D.b2TimeOfImpact=
function(){};D.TimeOfImpact=function(e){++D.b2_toiCalls;var g=e.proxyA,b=e.proxyB,o=e.sweepA,p=e.sweepB;a.b2Assert(o.t0==p.t0);a.b2Assert(1-o.t0>Number.MIN_VALUE);var c=g.m_radius+b.m_radius,e=e.tolerance,f=0,k=0,j=0;D.s_cache.count=0;for(D.s_distanceInput.useRadii=false;;){o.GetTransform(D.s_xfA,f);p.GetTransform(D.s_xfB,f);D.s_distanceInput.proxyA=g;D.s_distanceInput.proxyB=b;D.s_distanceInput.transformA=D.s_xfA;D.s_distanceInput.transformB=D.s_xfB;Q.Distance(D.s_distanceOutput,D.s_cache,D.s_distanceInput);
if(D.s_distanceOutput.distance<=0){f=1;break}D.s_fcn.Initialize(D.s_cache,g,D.s_xfA,b,D.s_xfB);var v=D.s_fcn.Evaluate(D.s_xfA,D.s_xfB);if(v<=0){f=1;break}k==0&&(j=v>c?d.Max(c-e,0.75*c):d.Max(v-e,0.02*c));if(v-j<0.5*e){if(k==0){f=1;break}break}var A=f,B=f,r=1;o.GetTransform(D.s_xfA,r);p.GetTransform(D.s_xfB,r);var m=D.s_fcn.Evaluate(D.s_xfA,D.s_xfB);if(m>=j){f=1;break}for(var U=0;;){var q=0,q=U&1?B+(j-v)*(r-B)/(m-v):0.5*(B+r);o.GetTransform(D.s_xfA,q);p.GetTransform(D.s_xfB,q);var M=D.s_fcn.Evaluate(D.s_xfA,
D.s_xfB);if(d.Abs(M-j)<0.025*e){A=q;break}if(M>j){B=q;v=M}else{r=q;m=M}++U;++D.b2_toiRootIters;if(U==50)break}D.b2_toiMaxRootIters=d.Max(D.b2_toiMaxRootIters,U);if(A<(1+100*Number.MIN_VALUE)*f)break;f=A;k++;++D.b2_toiIters;if(k==1E3)break}D.b2_toiMaxIters=d.Max(D.b2_toiMaxIters,k);return f};myChrome.postDefs.push(function(){myChrome.Collision.b2TimeOfImpact.b2_toiCalls=0;myChrome.Collision.b2TimeOfImpact.b2_toiIters=0;myChrome.Collision.b2TimeOfImpact.b2_toiMaxIters=0;myChrome.Collision.b2TimeOfImpact.b2_toiRootIters=
0;myChrome.Collision.b2TimeOfImpact.b2_toiMaxRootIters=0;myChrome.Collision.b2TimeOfImpact.s_cache=new B;myChrome.Collision.b2TimeOfImpact.s_distanceInput=new R;myChrome.Collision.b2TimeOfImpact.s_xfA=new x;myChrome.Collision.b2TimeOfImpact.s_xfB=new x;myChrome.Collision.b2TimeOfImpact.s_fcn=new o;myChrome.Collision.b2TimeOfImpact.s_distanceOutput=new r});M.b2TOIInput=function(){this.proxyA=new I;this.proxyB=new I;this.sweepA=new j;this.sweepB=new j};U.b2WorldManifold=function(){this.m_normal=new k};
U.prototype.b2WorldManifold=function(){this.m_points=new Vector(a.b2_maxManifoldPoints);for(var e=0;e<a.b2_maxManifoldPoints;e++)this.m_points[e]=new k};U.prototype.Initialize=function(a,e,g,b,o){g===void 0&&(g=0);o===void 0&&(o=0);if(a.m_pointCount!=0){var d=0,p,c,f=0,k=0,j=0,v=0,A=0;switch(a.m_type){case G.e_circles:c=e.R;p=a.m_localPoint;d=e.position.x+c.col1.x*p.x+c.col2.x*p.y;e=e.position.y+c.col1.y*p.x+c.col2.y*p.y;c=b.R;p=a.m_points[0].m_localPoint;a=b.position.x+c.col1.x*p.x+c.col2.x*p.y;
b=b.position.y+c.col1.y*p.x+c.col2.y*p.y;p=a-d;c=b-e;f=p*p+c*c;if(f>Number.MIN_VALUE*Number.MIN_VALUE){f=Math.sqrt(f);this.m_normal.x=p/f;this.m_normal.y=c/f}else{this.m_normal.x=1;this.m_normal.y=0}p=e+g*this.m_normal.y;b=b-o*this.m_normal.y;this.m_points[0].x=0.5*(d+g*this.m_normal.x+(a-o*this.m_normal.x));this.m_points[0].y=0.5*(p+b);break;case G.e_faceA:c=e.R;p=a.m_localPlaneNormal;f=c.col1.x*p.x+c.col2.x*p.y;k=c.col1.y*p.x+c.col2.y*p.y;c=e.R;p=a.m_localPoint;j=e.position.x+c.col1.x*p.x+c.col2.x*
p.y;v=e.position.y+c.col1.y*p.x+c.col2.y*p.y;this.m_normal.x=f;this.m_normal.y=k;for(d=0;d<a.m_pointCount;d++){c=b.R;p=a.m_points[d].m_localPoint;A=b.position.x+c.col1.x*p.x+c.col2.x*p.y;p=b.position.y+c.col1.y*p.x+c.col2.y*p.y;this.m_points[d].x=A+0.5*(g-(A-j)*f-(p-v)*k-o)*f;this.m_points[d].y=p+0.5*(g-(A-j)*f-(p-v)*k-o)*k}break;case G.e_faceB:c=b.R;p=a.m_localPlaneNormal;f=c.col1.x*p.x+c.col2.x*p.y;k=c.col1.y*p.x+c.col2.y*p.y;c=b.R;p=a.m_localPoint;j=b.position.x+c.col1.x*p.x+c.col2.x*p.y;v=b.position.y+
c.col1.y*p.x+c.col2.y*p.y;this.m_normal.x=-f;this.m_normal.y=-k;for(d=0;d<a.m_pointCount;d++){c=e.R;p=a.m_points[d].m_localPoint;A=e.position.x+c.col1.x*p.x+c.col2.x*p.y;p=e.position.y+c.col1.y*p.x+c.col2.y*p.y;this.m_points[d].x=A+0.5*(o-(A-j)*f-(p-v)*k-g)*f;this.m_points[d].y=p+0.5*(o-(A-j)*f-(p-v)*k-g)*k}}}};e.ClipVertex=function(){this.v=new k;this.id=new u};e.prototype.Set=function(a){this.v.SetV(a.v);this.id.Set(a.id)};g.Features=function(){};Object.defineProperty(g.prototype,"referenceEdge",
{enumerable:false,configurable:true,get:function(){return this._referenceEdge}});Object.defineProperty(g.prototype,"referenceEdge",{enumerable:false,configurable:true,set:function(a){a===void 0&&(a=0);this._referenceEdge=a;this._m_id._key=this._m_id._key&4294967040|this._referenceEdge&255}});Object.defineProperty(g.prototype,"incidentEdge",{enumerable:false,configurable:true,get:function(){return this._incidentEdge}});Object.defineProperty(g.prototype,"incidentEdge",{enumerable:false,configurable:true,
set:function(a){a===void 0&&(a=0);this._incidentEdge=a;this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280}});Object.defineProperty(g.prototype,"incidentVertex",{enumerable:false,configurable:true,get:function(){return this._incidentVertex}});Object.defineProperty(g.prototype,"incidentVertex",{enumerable:false,configurable:true,set:function(a){a===void 0&&(a=0);this._incidentVertex=a;this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680}});Object.defineProperty(g.prototype,
"flip",{enumerable:false,configurable:true,get:function(){return this._flip}});Object.defineProperty(g.prototype,"flip",{enumerable:false,configurable:true,set:function(a){a===void 0&&(a=0);this._flip=a;this._m_id._key=this._m_id._key&16777215|this._flip<<24&4278190080}})})();
(function(){var m=myChrome.Common.b2Settings,c=myChrome.Collision.Shapes.b2CircleShape,b=myChrome.Collision.Shapes.b2EdgeChainDef,a=myChrome.Collision.Shapes.b2EdgeShape,d=myChrome.Collision.Shapes.b2MassData,j=myChrome.Collision.Shapes.b2PolygonShape,x=myChrome.Collision.Shapes.b2Shape,k=myChrome.Common.Math.b2Mat22,q=myChrome.Common.Math.b2Math,t=myChrome.Common.Math.b2Transform,y=myChrome.Common.Math.b2Vec2,s=myChrome.Collision.b2Distance,u=myChrome.Collision.b2DistanceInput,w=myChrome.Collision.b2DistanceOutput,
Q=myChrome.Collision.b2DistanceProxy,R=myChrome.Collision.b2SimplexCache;myChrome.inherit(c,myChrome.Collision.Shapes.b2Shape);c.prototype.__super=myChrome.Collision.Shapes.b2Shape.prototype;c.b2CircleShape=function(){myChrome.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments);this.m_p=new y};c.prototype.Copy=function(){var a=new c;a.Set(this);return a};c.prototype.Set=function(a){this.__super.Set.call(this,a);myChrome.is(a,c)&&this.m_p.SetV((a instanceof c?a:null).m_p)};c.prototype.TestPoint=
function(a,b){var d=a.R,c=a.position.x+(d.col1.x*this.m_p.x+d.col2.x*this.m_p.y),d=a.position.y+(d.col1.y*this.m_p.x+d.col2.y*this.m_p.y),c=b.x-c,d=b.y-d;return c*c+d*d<=this.m_radius*this.m_radius};c.prototype.RayCast=function(a,b,d){var c=d.R,k=b.p1.x-(d.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y)),d=b.p1.y-(d.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y)),c=b.p2.x-b.p1.x,j=b.p2.y-b.p1.y,m=k*c+d*j,q=c*c+j*j,s=m*m-q*(k*k+d*d-this.m_radius*this.m_radius);if(s<0||q<Number.MIN_VALUE)return false;
m=-(m+Math.sqrt(s));if(0<=m&&m<=b.maxFraction*q){m=m/q;a.fraction=m;a.normal.x=k+m*c;a.normal.y=d+m*j;a.normal.Normalize();return true}return false};c.prototype.ComputeAABB=function(a,b){var d=b.R,c=b.position.x+(d.col1.x*this.m_p.x+d.col2.x*this.m_p.y),d=b.position.y+(d.col1.y*this.m_p.x+d.col2.y*this.m_p.y);a.lowerBound.Set(c-this.m_radius,d-this.m_radius);a.upperBound.Set(c+this.m_radius,d+this.m_radius)};c.prototype.ComputeMass=function(a,b){b===void 0&&(b=0);a.mass=b*m.b2_pi*this.m_radius*this.m_radius;
a.center.SetV(this.m_p);a.I=a.mass*(0.5*this.m_radius*this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))};c.prototype.ComputeSubmergedArea=function(a,b,d,c){b===void 0&&(b=0);var d=q.MulX(d,this.m_p),k=-(q.Dot(a,d)-b);if(k<-this.m_radius+Number.MIN_VALUE)return 0;if(k>this.m_radius){c.SetV(d);return Math.PI*this.m_radius*this.m_radius}var b=this.m_radius*this.m_radius,j=k*k,k=b*(Math.asin(k/this.m_radius)+Math.PI/2)+k*Math.sqrt(b-j),b=-2/3*Math.pow(b-j,1.5)/k;c.x=d.x+a.x*b;c.y=d.y+a.y*b;
return k};c.prototype.GetLocalPosition=function(){return this.m_p};c.prototype.SetLocalPosition=function(a){this.m_p.SetV(a)};c.prototype.GetRadius=function(){return this.m_radius};c.prototype.SetRadius=function(a){a===void 0&&(a=0);this.m_radius=a};c.prototype.b2CircleShape=function(a){a===void 0&&(a=0);this.__super.b2Shape.call(this);this.m_type=x.e_circleShape;this.m_radius=a};b.b2EdgeChainDef=function(){};b.prototype.b2EdgeChainDef=function(){this.vertexCount=0;this.isALoop=true;this.vertices=
[]};myChrome.inherit(a,myChrome.Collision.Shapes.b2Shape);a.prototype.__super=myChrome.Collision.Shapes.b2Shape.prototype;a.b2EdgeShape=function(){myChrome.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments);this.s_supportVec=new y;this.m_v1=new y;this.m_v2=new y;this.m_coreV1=new y;this.m_coreV2=new y;this.m_normal=new y;this.m_direction=new y;this.m_cornerDir1=new y;this.m_cornerDir2=new y};a.prototype.TestPoint=function(){return false};a.prototype.RayCast=function(a,b,d){var c,k=b.p2.x-b.p1.x,
j=b.p2.y-b.p1.y;c=d.R;var m=d.position.x+(c.col1.x*this.m_v1.x+c.col2.x*this.m_v1.y),q=d.position.y+(c.col1.y*this.m_v1.x+c.col2.y*this.m_v1.y),s=d.position.y+(c.col1.y*this.m_v2.x+c.col2.y*this.m_v2.y)-q,d=-(d.position.x+(c.col1.x*this.m_v2.x+c.col2.x*this.m_v2.y)-m);c=100*Number.MIN_VALUE;var t=-(k*s+j*d);if(t>c){var m=b.p1.x-m,u=b.p1.y-q,q=m*s+u*d;if(0<=q&&q<=b.maxFraction*t){b=-k*u+j*m;if(-c*t<=b&&b<=t*(1+c)){a.fraction=q/t;b=Math.sqrt(s*s+d*d);a.normal.x=s/b;a.normal.y=d/b;return true}}}return false};
a.prototype.ComputeAABB=function(a,b){var d=b.R,c=b.position.x+(d.col1.x*this.m_v1.x+d.col2.x*this.m_v1.y),k=b.position.y+(d.col1.y*this.m_v1.x+d.col2.y*this.m_v1.y),j=b.position.x+(d.col1.x*this.m_v2.x+d.col2.x*this.m_v2.y),d=b.position.y+(d.col1.y*this.m_v2.x+d.col2.y*this.m_v2.y);if(c<j){a.lowerBound.x=c;a.upperBound.x=j}else{a.lowerBound.x=j;a.upperBound.x=c}if(k<d){a.lowerBound.y=k;a.upperBound.y=d}else{a.lowerBound.y=d;a.upperBound.y=k}};a.prototype.ComputeMass=function(a){a.mass=0;a.center.SetV(this.m_v1);
a.I=0};a.prototype.ComputeSubmergedArea=function(a,b,d,c){b===void 0&&(b=0);var k=new y(a.x*b,a.y*b),j=q.MulX(d,this.m_v1),d=q.MulX(d,this.m_v2),m=q.Dot(a,j)-b,a=q.Dot(a,d)-b;if(m>0){if(a>0)return 0;j.x=-a/(m-a)*j.x+m/(m-a)*d.x;j.y=-a/(m-a)*j.y+m/(m-a)*d.y}else if(a>0){d.x=-a/(m-a)*j.x+m/(m-a)*d.x;d.y=-a/(m-a)*j.y+m/(m-a)*d.y}c.x=(k.x+j.x+d.x)/3;c.y=(k.y+j.y+d.y)/3;return 0.5*((j.x-k.x)*(d.y-k.y)-(j.y-k.y)*(d.x-k.x))};a.prototype.GetLength=function(){return this.m_length};a.prototype.GetVertex1=function(){return this.m_v1};
a.prototype.GetVertex2=function(){return this.m_v2};a.prototype.GetCoreVertex1=function(){return this.m_coreV1};a.prototype.GetCoreVertex2=function(){return this.m_coreV2};a.prototype.GetNormalVector=function(){return this.m_normal};a.prototype.GetDirectionVector=function(){return this.m_direction};a.prototype.GetCorner1Vector=function(){return this.m_cornerDir1};a.prototype.GetCorner2Vector=function(){return this.m_cornerDir2};a.prototype.Corner1IsConvex=function(){return this.m_cornerConvex1};a.prototype.Corner2IsConvex=
function(){return this.m_cornerConvex2};a.prototype.GetFirstVertex=function(a){var b=a.R;return new y(a.position.x+(b.col1.x*this.m_coreV1.x+b.col2.x*this.m_coreV1.y),a.position.y+(b.col1.y*this.m_coreV1.x+b.col2.y*this.m_coreV1.y))};a.prototype.GetNextEdge=function(){return this.m_nextEdge};a.prototype.GetPrevEdge=function(){return this.m_prevEdge};a.prototype.Support=function(a,b,d){b===void 0&&(b=0);d===void 0&&(d=0);var c=a.R,k=a.position.x+(c.col1.x*this.m_coreV1.x+c.col2.x*this.m_coreV1.y),
j=a.position.y+(c.col1.y*this.m_coreV1.x+c.col2.y*this.m_coreV1.y),m=a.position.x+(c.col1.x*this.m_coreV2.x+c.col2.x*this.m_coreV2.y),a=a.position.y+(c.col1.y*this.m_coreV2.x+c.col2.y*this.m_coreV2.y);if(k*b+j*d>m*b+a*d){this.s_supportVec.x=k;this.s_supportVec.y=j}else{this.s_supportVec.x=m;this.s_supportVec.y=a}return this.s_supportVec};a.prototype.b2EdgeShape=function(a,b){this.__super.b2Shape.call(this);this.m_type=x.e_edgeShape;this.m_nextEdge=this.m_prevEdge=null;this.m_v1=a;this.m_v2=b;this.m_direction.Set(this.m_v2.x-
this.m_v1.x,this.m_v2.y-this.m_v1.y);this.m_length=this.m_direction.Normalize();this.m_normal.Set(this.m_direction.y,-this.m_direction.x);this.m_coreV1.Set(-m.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-m.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y);this.m_coreV2.Set(-m.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-m.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y);this.m_cornerDir1=this.m_normal;this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)};
a.prototype.SetPrevEdge=function(a,b,d,c){this.m_prevEdge=a;this.m_coreV1=b;this.m_cornerDir1=d;this.m_cornerConvex1=c};a.prototype.SetNextEdge=function(a,b,d,c){this.m_nextEdge=a;this.m_coreV2=b;this.m_cornerDir2=d;this.m_cornerConvex2=c};d.b2MassData=function(){this.mass=0;this.center=new y(0,0);this.I=0};myChrome.inherit(j,myChrome.Collision.Shapes.b2Shape);j.prototype.__super=myChrome.Collision.Shapes.b2Shape.prototype;j.b2PolygonShape=function(){myChrome.Collision.Shapes.b2Shape.b2Shape.apply(this,
arguments)};j.prototype.Copy=function(){var a=new j;a.Set(this);return a};j.prototype.Set=function(a){this.__super.Set.call(this,a);if(myChrome.is(a,j)){a=a instanceof j?a:null;this.m_centroid.SetV(a.m_centroid);this.m_vertexCount=a.m_vertexCount;this.Reserve(this.m_vertexCount);for(var b=0;b<this.m_vertexCount;b++){this.m_vertices[b].SetV(a.m_vertices[b]);this.m_normals[b].SetV(a.m_normals[b])}}};j.prototype.SetAsArray=function(a,b){b===void 0&&(b=0);for(var d=new Vector,c=0,k,c=0;c<a.length;++c){k=
a[c];d.push(k)}this.SetAsVector(d,b)};j.AsArray=function(a,b){b===void 0&&(b=0);var d=new j;d.SetAsArray(a,b);return d};j.prototype.SetAsVector=function(a,b){b===void 0&&(b=0);if(b==0)b=a.length;m.b2Assert(2<=b);this.m_vertexCount=b;this.Reserve(b);for(var d=0,d=0;d<this.m_vertexCount;d++)this.m_vertices[d].SetV(a[d]);for(d=0;d<this.m_vertexCount;++d){var c=parseInt(d),k=parseInt(d+1<this.m_vertexCount?d+1:0),c=q.SubtractVV(this.m_vertices[k],this.m_vertices[c]);m.b2Assert(c.LengthSquared()>Number.MIN_VALUE);
this.m_normals[d].SetV(q.CrossVF(c,1));this.m_normals[d].Normalize()}this.m_centroid=j.ComputeCentroid(this.m_vertices,this.m_vertexCount)};j.AsVector=function(a,b){b===void 0&&(b=0);var d=new j;d.SetAsVector(a,b);return d};j.prototype.SetAsBox=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);this.m_vertexCount=4;this.Reserve(4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);
this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid.SetZero()};j.AsBox=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);var d=new j;d.SetAsBox(a,b);return d};j.prototype.SetAsOrientedBox=function(a,b,d,c){a===void 0&&(a=0);b===void 0&&(b=0);d===void 0&&(d=null);c===void 0&&(c=0);this.m_vertexCount=4;this.Reserve(4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,
0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,0);this.m_centroid=d;a=new t;a.position=d;a.R.Set(c);for(d=0;d<this.m_vertexCount;++d){this.m_vertices[d]=q.MulX(a,this.m_vertices[d]);this.m_normals[d]=q.MulMV(a.R,this.m_normals[d])}};j.AsOrientedBox=function(a,b,d,c){a===void 0&&(a=0);b===void 0&&(b=0);d===void 0&&(d=null);c===void 0&&(c=0);var k=new j;k.SetAsOrientedBox(a,b,d,c);return k};j.prototype.SetAsEdge=function(a,b){this.m_vertexCount=2;this.Reserve(2);this.m_vertices[0].SetV(a);this.m_vertices[1].SetV(b);
this.m_centroid.x=0.5*(a.x+b.x);this.m_centroid.y=0.5*(a.y+b.y);this.m_normals[0]=q.CrossVF(q.SubtractVV(b,a),1);this.m_normals[0].Normalize();this.m_normals[1].x=-this.m_normals[0].x;this.m_normals[1].y=-this.m_normals[0].y};j.AsEdge=function(a,b){var d=new j;d.SetAsEdge(a,b);return d};j.prototype.TestPoint=function(a,b){var d;d=a.R;for(var c=b.x-a.position.x,k=b.y-a.position.y,j=c*d.col1.x+k*d.col1.y,m=c*d.col2.x+k*d.col2.y,q=0;q<this.m_vertexCount;++q){d=this.m_vertices[q];c=j-d.x;k=m-d.y;d=this.m_normals[q];
if(d.x*c+d.y*k>0)return false}return true};j.prototype.RayCast=function(a,b,d){var c=0,k=b.maxFraction,j=0,m=0,q,s,j=b.p1.x-d.position.x,m=b.p1.y-d.position.y;q=d.R;var t=j*q.col1.x+m*q.col1.y,u=j*q.col2.x+m*q.col2.y,j=b.p2.x-d.position.x,m=b.p2.y-d.position.y;q=d.R;b=j*q.col1.x+m*q.col1.y-t;q=j*q.col2.x+m*q.col2.y-u;for(var f=-1,o=0;o<this.m_vertexCount;++o){s=this.m_vertices[o];j=s.x-t;m=s.y-u;s=this.m_normals[o];j=s.x*j+s.y*m;m=s.x*b+s.y*q;if(m==0){if(j<0)return false}else if(m<0&&j<c*m){c=j/m;
f=o}else m>0&&j<k*m&&(k=j/m);if(k<c-Number.MIN_VALUE)return false}if(f>=0){a.fraction=c;q=d.R;s=this.m_normals[f];a.normal.x=q.col1.x*s.x+q.col2.x*s.y;a.normal.y=q.col1.y*s.x+q.col2.y*s.y;return true}return false};j.prototype.ComputeAABB=function(a,b){for(var d=b.R,c=this.m_vertices[0],k=b.position.x+(d.col1.x*c.x+d.col2.x*c.y),j=b.position.y+(d.col1.y*c.x+d.col2.y*c.y),m=k,q=j,s=1;s<this.m_vertexCount;++s)var c=this.m_vertices[s],t=b.position.x+(d.col1.x*c.x+d.col2.x*c.y),c=b.position.y+(d.col1.y*
c.x+d.col2.y*c.y),k=k<t?k:t,j=j<c?j:c,m=m>t?m:t,q=q>c?q:c;a.lowerBound.x=k-this.m_radius;a.lowerBound.y=j-this.m_radius;a.upperBound.x=m+this.m_radius;a.upperBound.y=q+this.m_radius};j.prototype.ComputeMass=function(a,b){b===void 0&&(b=0);if(this.m_vertexCount==2){a.center.x=0.5*(this.m_vertices[0].x+this.m_vertices[1].x);a.center.y=0.5*(this.m_vertices[0].y+this.m_vertices[1].y);a.mass=0;a.I=0}else{for(var d=0,c=0,k=0,j=0,m=1/3,q=0;q<this.m_vertexCount;++q)var s=this.m_vertices[q],t=q+1<this.m_vertexCount?
this.m_vertices[parseInt(q+1)]:this.m_vertices[0],u=s.x-0,f=s.y-0,o=t.x-0,p=t.y-0,B=u*p-f*o,v=0.5*B,k=k+v,d=d+v*m*(0+s.x+t.x),c=c+v*m*(0+s.y+t.y),s=u,j=j+B*(m*(0.25*(s*s+o*s+o*o)+(0*s+0*o))+0+(m*(0.25*(f*f+p*f+p*p)+(0*f+0*p))+0));a.mass=b*k;a.center.Set(d*(1/k),c*(1/k));a.I=b*j}};j.prototype.ComputeSubmergedArea=function(a,b,c,k){b===void 0&&(b=0);for(var j=q.MulTMV(c.R,a),m=b-q.Dot(a,c.position),s=new Vector_a2j_Number,t=0,u=-1,b=-1,w=false,a=a=0;a<this.m_vertexCount;++a){s[a]=q.Dot(j,this.m_vertices[a])-
m;var x=s[a]<-Number.MIN_VALUE;if(a>0)if(x){if(!w){u=a-1;t++}}else if(w){b=a-1;t++}w=x}switch(t){case 0:if(w){a=new d;this.ComputeMass(a,1);k.SetV(q.MulX(c,a.center));return a.mass}return 0;case 1:u==-1?u=this.m_vertexCount-1:b=this.m_vertexCount-1}a=parseInt((u+1)%this.m_vertexCount);j=parseInt((b+1)%this.m_vertexCount);m=(0-s[u])/(s[a]-s[u]);s=(0-s[b])/(s[j]-s[b]);u=new y(this.m_vertices[u].x*(1-m)+this.m_vertices[a].x*m,this.m_vertices[u].y*(1-m)+this.m_vertices[a].y*m);b=new y(this.m_vertices[b].x*
(1-s)+this.m_vertices[j].x*s,this.m_vertices[b].y*(1-s)+this.m_vertices[j].y*s);s=0;m=new y;for(t=this.m_vertices[a];a!=j;){a=(a+1)%this.m_vertexCount;w=a==j?b:this.m_vertices[a];x=0.5*((t.x-u.x)*(w.y-u.y)-(t.y-u.y)*(w.x-u.x));s=s+x;m.x=m.x+x*(u.x+t.x+w.x)/3;m.y=m.y+x*(u.y+t.y+w.y)/3;t=w}m.Multiply(1/s);k.SetV(q.MulX(c,m));return s};j.prototype.GetVertexCount=function(){return this.m_vertexCount};j.prototype.GetVertices=function(){return this.m_vertices};j.prototype.GetNormals=function(){return this.m_normals};
j.prototype.GetSupport=function(a){for(var b=0,d=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,c=1;c<this.m_vertexCount;++c){var k=this.m_vertices[c].x*a.x+this.m_vertices[c].y*a.y;if(k>d){b=c;d=k}}return b};j.prototype.GetSupportVertex=function(a){for(var b=0,d=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,c=1;c<this.m_vertexCount;++c){var k=this.m_vertices[c].x*a.x+this.m_vertices[c].y*a.y;if(k>d){b=c;d=k}}return this.m_vertices[b]};j.prototype.Validate=function(){return false};j.prototype.b2PolygonShape=
function(){this.__super.b2Shape.call(this);this.m_type=x.e_polygonShape;this.m_centroid=new y;this.m_vertices=new Vector;this.m_normals=new Vector};j.prototype.Reserve=function(a){a===void 0&&(a=0);for(var b=parseInt(this.m_vertices.length);b<a;b++){this.m_vertices[b]=new y;this.m_normals[b]=new y}};j.ComputeCentroid=function(a,b){b===void 0&&(b=0);for(var d=new y,c=0,k=1/3,j=0;j<b;++j){var m=a[j],q=j+1<b?a[parseInt(j+1)]:a[0],s=0.5*((m.x-0)*(q.y-0)-(m.y-0)*(q.x-0)),c=c+s;d.x=d.x+s*k*(0+m.x+q.x);
d.y=d.y+s*k*(0+m.y+q.y)}d.x=d.x*(1/c);d.y=d.y*(1/c);return d};j.ComputeOBB=function(a,b,d){d===void 0&&(d=0);for(var c=0,k=new Vector(d+1),c=0;c<d;++c)k[c]=b[c];k[d]=k[0];b=Number.MAX_VALUE;for(c=1;c<=d;++c){for(var j=k[parseInt(c-1)],m=k[c].x-j.x,q=k[c].y-j.y,s=Math.sqrt(m*m+q*q),m=m/s,q=q/s,t=-q,u=m,f=s=Number.MAX_VALUE,o=-Number.MAX_VALUE,p=-Number.MAX_VALUE,B=0;B<d;++B){var v=k[B].x-j.x,D=k[B].y-j.y,M=m*v+q*D,v=t*v+u*D;M<s&&(s=M);v<f&&(f=v);M>o&&(o=M);v>p&&(p=v)}B=(o-s)*(p-f);if(B<0.95*b){b=B;
a.R.col1.x=m;a.R.col1.y=q;a.R.col2.x=t;a.R.col2.y=u;m=0.5*(s+o);q=0.5*(f+p);t=a.R;a.center.x=j.x+(t.col1.x*m+t.col2.x*q);a.center.y=j.y+(t.col1.y*m+t.col2.y*q);a.extents.x=0.5*(o-s);a.extents.y=0.5*(p-f)}}};myChrome.postDefs.push(function(){myChrome.Collision.Shapes.b2PolygonShape.s_mat=new k});x.b2Shape=function(){};x.prototype.Copy=function(){return null};x.prototype.Set=function(a){this.m_radius=a.m_radius};x.prototype.GetType=function(){return this.m_type};x.prototype.TestPoint=function(){return false};
x.prototype.RayCast=function(){return false};x.prototype.ComputeAABB=function(){};x.prototype.ComputeMass=function(){};x.prototype.ComputeSubmergedArea=function(){return 0};x.TestOverlap=function(a,b,d,c){var k=new u;k.proxyA=new Q;k.proxyA.Set(a);k.proxyB=new Q;k.proxyB.Set(d);k.transformA=b;k.transformB=c;k.useRadii=true;a=new R;a.count=0;b=new w;s.Distance(b,a,k);return b.distance<10*Number.MIN_VALUE};x.prototype.b2Shape=function(){this.m_type=x.e_unknownShape;this.m_radius=m.b2_linearSlop};myChrome.postDefs.push(function(){myChrome.Collision.Shapes.b2Shape.e_unknownShape=
-1;myChrome.Collision.Shapes.b2Shape.e_circleShape=0;myChrome.Collision.Shapes.b2Shape.e_polygonShape=1;myChrome.Collision.Shapes.b2Shape.e_edgeShape=2;myChrome.Collision.Shapes.b2Shape.e_shapeTypeCount=3;myChrome.Collision.Shapes.b2Shape.e_hitCollide=1;myChrome.Collision.Shapes.b2Shape.e_missCollide=0;myChrome.Collision.Shapes.b2Shape.e_startsInsideCollide=-1})})();
(function(){var m=myChrome.Common.b2Color,c=myChrome.Common.b2Settings,b=myChrome.Common.Math.b2Math;m.b2Color=function(){this._b=this._g=this._r=0};m.prototype.b2Color=function(a,d,c){a===void 0&&(a=0);d===void 0&&(d=0);c===void 0&&(c=0);this._r=myChrome.parseUInt(255*b.Clamp(a,0,1));this._g=myChrome.parseUInt(255*b.Clamp(d,0,1));this._b=myChrome.parseUInt(255*b.Clamp(c,0,1))};m.prototype.Set=function(a,d,c){a===void 0&&(a=0);d===void 0&&(d=0);c===void 0&&(c=0);this._r=myChrome.parseUInt(255*b.Clamp(a,
0,1));this._g=myChrome.parseUInt(255*b.Clamp(d,0,1));this._b=myChrome.parseUInt(255*b.Clamp(c,0,1))};Object.defineProperty(m.prototype,"r",{enumerable:false,configurable:true,set:function(a){a===void 0&&(a=0);this._r=myChrome.parseUInt(255*b.Clamp(a,0,1))}});Object.defineProperty(m.prototype,"g",{enumerable:false,configurable:true,set:function(a){a===void 0&&(a=0);this._g=myChrome.parseUInt(255*b.Clamp(a,0,1))}});Object.defineProperty(m.prototype,"b",{enumerable:false,configurable:true,set:function(a){a===
void 0&&(a=0);this._b=myChrome.parseUInt(255*b.Clamp(a,0,1))}});Object.defineProperty(m.prototype,"color",{enumerable:false,configurable:true,get:function(){return this._r<<16|this._g<<8|this._b}});c.b2Settings=function(){};c.b2MixFriction=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);return Math.sqrt(a*b)};c.b2MixRestitution=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);return a>b?a:b};c.b2Assert=function(a){if(!a)throw"Assertion Failed";};myChrome.postDefs.push(function(){myChrome.Common.b2Settings.VERSION=
"2.1alpha";myChrome.Common.b2Settings.USHRT_MAX=65535;myChrome.Common.b2Settings.b2_pi=Math.PI;myChrome.Common.b2Settings.b2_maxManifoldPoints=2;myChrome.Common.b2Settings.b2_aabbExtension=0.1;myChrome.Common.b2Settings.b2_aabbMultiplier=2;myChrome.Common.b2Settings.b2_polygonRadius=2*c.b2_linearSlop;myChrome.Common.b2Settings.b2_linearSlop=0.005;myChrome.Common.b2Settings.b2_angularSlop=2/180*c.b2_pi;myChrome.Common.b2Settings.b2_toiSlop=8*c.b2_linearSlop;myChrome.Common.b2Settings.b2_maxTOIContactsPerIsland=
32;myChrome.Common.b2Settings.b2_maxTOIJointsPerIsland=32;myChrome.Common.b2Settings.b2_velocityThreshold=1;myChrome.Common.b2Settings.b2_maxLinearCorrection=0.2;myChrome.Common.b2Settings.b2_maxAngularCorrection=8/180*c.b2_pi;myChrome.Common.b2Settings.b2_maxTranslation=2;myChrome.Common.b2Settings.b2_maxTranslationSquared=c.b2_maxTranslation*c.b2_maxTranslation;myChrome.Common.b2Settings.b2_maxRotation=0.5*c.b2_pi;myChrome.Common.b2Settings.b2_maxRotationSquared=c.b2_maxRotation*c.b2_maxRotation;
myChrome.Common.b2Settings.b2_contactBaumgarte=0.2;myChrome.Common.b2Settings.b2_timeToSleep=0.5;myChrome.Common.b2Settings.b2_linearSleepTolerance=0.01;myChrome.Common.b2Settings.b2_angularSleepTolerance=2/180*c.b2_pi})})();
(function(){var m=myChrome.Common.Math.b2Mat22,c=myChrome.Common.Math.b2Mat33,b=myChrome.Common.Math.b2Math,a=myChrome.Common.Math.b2Sweep,d=myChrome.Common.Math.b2Transform,j=myChrome.Common.Math.b2Vec2,x=myChrome.Common.Math.b2Vec3;m.b2Mat22=function(){this.col1=new j;this.col2=new j};m.prototype.b2Mat22=function(){this.SetIdentity()};m.FromAngle=function(a){a===void 0&&(a=0);var b=new m;b.Set(a);return b};m.FromVV=function(a,b){var d=new m;d.SetVV(a,b);return d};m.prototype.Set=function(a){a===
void 0&&(a=0);var b=Math.cos(a),a=Math.sin(a);this.col1.x=b;this.col2.x=-a;this.col1.y=a;this.col2.y=b};m.prototype.SetVV=function(a,b){this.col1.SetV(a);this.col2.SetV(b)};m.prototype.Copy=function(){var a=new m;a.SetM(this);return a};m.prototype.SetM=function(a){this.col1.SetV(a.col1);this.col2.SetV(a.col2)};m.prototype.AddM=function(a){this.col1.x=this.col1.x+a.col1.x;this.col1.y=this.col1.y+a.col1.y;this.col2.x=this.col2.x+a.col2.x;this.col2.y=this.col2.y+a.col2.y};m.prototype.SetIdentity=function(){this.col1.x=
1;this.col2.x=0;this.col1.y=0;this.col2.y=1};m.prototype.SetZero=function(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0};m.prototype.GetAngle=function(){return Math.atan2(this.col1.y,this.col1.x)};m.prototype.GetInverse=function(a){var b=this.col1.x,d=this.col2.x,c=this.col1.y,j=this.col2.y,m=b*j-d*c;m!=0&&(m=1/m);a.col1.x=m*j;a.col2.x=-m*d;a.col1.y=-m*c;a.col2.y=m*b;return a};m.prototype.Solve=function(a,b,d){b===void 0&&(b=0);d===void 0&&(d=0);var c=this.col1.x,j=this.col2.x,m=this.col1.y,
w=this.col2.y,x=c*w-j*m;x!=0&&(x=1/x);a.x=x*(w*b-j*d);a.y=x*(c*d-m*b);return a};m.prototype.Abs=function(){this.col1.Abs();this.col2.Abs()};c.b2Mat33=function(){this.col1=new x;this.col2=new x;this.col3=new x};c.prototype.b2Mat33=function(a,b,d){a===void 0&&(a=null);b===void 0&&(b=null);d===void 0&&(d=null);if(!a&&!b&&!d){this.col1.SetZero();this.col2.SetZero();this.col3.SetZero()}else{this.col1.SetV(a);this.col2.SetV(b);this.col3.SetV(d)}};c.prototype.SetVVV=function(a,b,d){this.col1.SetV(a);this.col2.SetV(b);
this.col3.SetV(d)};c.prototype.Copy=function(){return new c(this.col1,this.col2,this.col3)};c.prototype.SetM=function(a){this.col1.SetV(a.col1);this.col2.SetV(a.col2);this.col3.SetV(a.col3)};c.prototype.AddM=function(a){this.col1.x=this.col1.x+a.col1.x;this.col1.y=this.col1.y+a.col1.y;this.col1.z=this.col1.z+a.col1.z;this.col2.x=this.col2.x+a.col2.x;this.col2.y=this.col2.y+a.col2.y;this.col2.z=this.col2.z+a.col2.z;this.col3.x=this.col3.x+a.col3.x;this.col3.y=this.col3.y+a.col3.y;this.col3.z=this.col3.z+
a.col3.z};c.prototype.SetIdentity=function(){this.col1.x=1;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=1;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=1};c.prototype.SetZero=function(){this.col1.x=0;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=0;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=0};c.prototype.Solve22=function(a,b,d){b===void 0&&(b=0);d===void 0&&(d=0);var c=this.col1.x,j=this.col2.x,m=this.col1.y,w=this.col2.y,x=c*w-j*m;x!=0&&(x=1/x);a.x=x*(w*b-j*d);
a.y=x*(c*d-m*b);return a};c.prototype.Solve33=function(a,b,d,c){b===void 0&&(b=0);d===void 0&&(d=0);c===void 0&&(c=0);var j=this.col1.x,m=this.col1.y,w=this.col1.z,x=this.col2.x,R=this.col2.y,r=this.col2.z,I=this.col3.x,E=this.col3.y,J=this.col3.z,K=j*(R*J-r*E)+m*(r*I-x*J)+w*(x*E-R*I);K!=0&&(K=1/K);a.x=K*(b*(R*J-r*E)+d*(r*I-x*J)+c*(x*E-R*I));a.y=K*(j*(d*J-c*E)+m*(c*I-b*J)+w*(b*E-d*I));a.z=K*(j*(R*c-r*d)+m*(r*b-x*c)+w*(x*d-R*b));return a};b.b2Math=function(){};b.IsValid=function(a){a===void 0&&(a=
0);return isFinite(a)};b.Dot=function(a,b){return a.x*b.x+a.y*b.y};b.CrossVV=function(a,b){return a.x*b.y-a.y*b.x};b.CrossVF=function(a,b){b===void 0&&(b=0);return new j(b*a.y,-b*a.x)};b.CrossFV=function(a,b){a===void 0&&(a=0);return new j(-a*b.y,a*b.x)};b.MulMV=function(a,b){return new j(a.col1.x*b.x+a.col2.x*b.y,a.col1.y*b.x+a.col2.y*b.y)};b.MulTMV=function(a,d){return new j(b.Dot(d,a.col1),b.Dot(d,a.col2))};b.MulX=function(a,d){var c=b.MulMV(a.R,d);c.x=c.x+a.position.x;c.y=c.y+a.position.y;return c};
b.MulXT=function(a,d){var c=b.SubtractVV(d,a.position),j=c.x*a.R.col1.x+c.y*a.R.col1.y;c.y=c.x*a.R.col2.x+c.y*a.R.col2.y;c.x=j;return c};b.AddVV=function(a,b){return new j(a.x+b.x,a.y+b.y)};b.SubtractVV=function(a,b){return new j(a.x-b.x,a.y-b.y)};b.Distance=function(a,b){var d=a.x-b.x,c=a.y-b.y;return Math.sqrt(d*d+c*c)};b.DistanceSquared=function(a,b){var d=a.x-b.x,c=a.y-b.y;return d*d+c*c};b.MulFV=function(a,b){a===void 0&&(a=0);return new j(a*b.x,a*b.y)};b.AddMM=function(a,d){return m.FromVV(b.AddVV(a.col1,
d.col1),b.AddVV(a.col2,d.col2))};b.MulMM=function(a,d){return m.FromVV(b.MulMV(a,d.col1),b.MulMV(a,d.col2))};b.MulTMM=function(a,d){var c=new j(b.Dot(a.col1,d.col1),b.Dot(a.col2,d.col1)),x=new j(b.Dot(a.col1,d.col2),b.Dot(a.col2,d.col2));return m.FromVV(c,x)};b.Abs=function(a){a===void 0&&(a=0);return a>0?a:-a};b.AbsV=function(a){return new j(b.Abs(a.x),b.Abs(a.y))};b.AbsM=function(a){return m.FromVV(b.AbsV(a.col1),b.AbsV(a.col2))};b.Min=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);return a<
b?a:b};b.MinV=function(a,d){return new j(b.Min(a.x,d.x),b.Min(a.y,d.y))};b.Max=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);return a>b?a:b};b.MaxV=function(a,d){return new j(b.Max(a.x,d.x),b.Max(a.y,d.y))};b.Clamp=function(a,b,d){a===void 0&&(a=0);b===void 0&&(b=0);d===void 0&&(d=0);return a<b?b:a>d?d:a};b.ClampV=function(a,d,c){return b.MaxV(d,b.MinV(a,c))};b.Swap=function(a,b){var d=a[0];a[0]=b[0];b[0]=d};b.Random=function(){return Math.random()*2-1};b.RandomRange=function(a,b){a===void 0&&
(a=0);b===void 0&&(b=0);var d=Math.random();return(b-a)*d+a};b.NextPowerOfTwo=function(a){a===void 0&&(a=0);a=a|a>>1&2147483647;a=a|a>>2&1073741823;a=a|a>>4&268435455;a=a|a>>8&16777215;return(a|a>>16&65535)+1};b.IsPowerOfTwo=function(a){a===void 0&&(a=0);return a>0&&(a&a-1)==0};myChrome.postDefs.push(function(){myChrome.Common.Math.b2Math.b2Vec2_zero=new j(0,0);myChrome.Common.Math.b2Math.b2Mat22_identity=m.FromVV(new j(1,0),new j(0,1));myChrome.Common.Math.b2Math.b2Transform_identity=new d(b.b2Vec2_zero,
b.b2Mat22_identity)});a.b2Sweep=function(){this.localCenter=new j;this.c0=new j;this.c=new j};a.prototype.Set=function(a){this.localCenter.SetV(a.localCenter);this.c0.SetV(a.c0);this.c.SetV(a.c);this.a0=a.a0;this.a=a.a;this.t0=a.t0};a.prototype.Copy=function(){var b=new a;b.localCenter.SetV(this.localCenter);b.c0.SetV(this.c0);b.c.SetV(this.c);b.a0=this.a0;b.a=this.a;b.t0=this.t0;return b};a.prototype.GetTransform=function(a,b){b===void 0&&(b=0);a.position.x=(1-b)*this.c0.x+b*this.c.x;a.position.y=
(1-b)*this.c0.y+b*this.c.y;a.R.Set((1-b)*this.a0+b*this.a);var d=a.R;a.position.x=a.position.x-(d.col1.x*this.localCenter.x+d.col2.x*this.localCenter.y);a.position.y=a.position.y-(d.col1.y*this.localCenter.x+d.col2.y*this.localCenter.y)};a.prototype.Advance=function(a){a===void 0&&(a=0);if(this.t0<a&&1-this.t0>Number.MIN_VALUE){var b=(a-this.t0)/(1-this.t0);this.c0.x=(1-b)*this.c0.x+b*this.c.x;this.c0.y=(1-b)*this.c0.y+b*this.c.y;this.a0=(1-b)*this.a0+b*this.a;this.t0=a}};d.b2Transform=function(){this.position=
new j;this.R=new m};d.prototype.b2Transform=function(a,b){a===void 0&&(a=null);b===void 0&&(b=null);if(a){this.position.SetV(a);this.R.SetM(b)}};d.prototype.Initialize=function(a,b){this.position.SetV(a);this.R.SetM(b)};d.prototype.SetIdentity=function(){this.position.SetZero();this.R.SetIdentity()};d.prototype.Set=function(a){this.position.SetV(a.position);this.R.SetM(a.R)};d.prototype.GetAngle=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)};j.b2Vec2=function(){};j.prototype.b2Vec2=function(a,
b){a===void 0&&(a=0);b===void 0&&(b=0);this.x=a;this.y=b};j.prototype.SetZero=function(){this.y=this.x=0};j.prototype.Set=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);this.x=a;this.y=b};j.prototype.SetV=function(a){this.x=a.x;this.y=a.y};j.prototype.GetNegative=function(){return new j(-this.x,-this.y)};j.prototype.NegativeSelf=function(){this.x=-this.x;this.y=-this.y};j.Make=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);return new j(a,b)};j.prototype.Copy=function(){return new j(this.x,this.y)};
j.prototype.Add=function(a){this.x=this.x+a.x;this.y=this.y+a.y};j.prototype.Subtract=function(a){this.x=this.x-a.x;this.y=this.y-a.y};j.prototype.Multiply=function(a){a===void 0&&(a=0);this.x=this.x*a;this.y=this.y*a};j.prototype.MulM=function(a){var b=this.x;this.x=a.col1.x*b+a.col2.x*this.y;this.y=a.col1.y*b+a.col2.y*this.y};j.prototype.MulTM=function(a){var d=b.Dot(this,a.col1);this.y=b.Dot(this,a.col2);this.x=d};j.prototype.CrossVF=function(a){a===void 0&&(a=0);var b=this.x;this.x=a*this.y;this.y=
-a*b};j.prototype.CrossFV=function(a){a===void 0&&(a=0);var b=this.x;this.x=-a*this.y;this.y=a*b};j.prototype.MinV=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};j.prototype.MaxV=function(a){this.x=this.x>a.x?this.x:a.x;this.y=this.y>a.y?this.y:a.y};j.prototype.Abs=function(){if(this.x<0)this.x=-this.x;if(this.y<0)this.y=-this.y};j.prototype.Length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};j.prototype.LengthSquared=function(){return this.x*this.x+this.y*this.y};
j.prototype.Normalize=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x=this.x*b;this.y=this.y*b;return a};j.prototype.IsValid=function(){return b.IsValid(this.x)&&b.IsValid(this.y)};x.b2Vec3=function(){};x.prototype.b2Vec3=function(a,b,d){a===void 0&&(a=0);b===void 0&&(b=0);d===void 0&&(d=0);this.x=a;this.y=b;this.z=d};x.prototype.SetZero=function(){this.x=this.y=this.z=0};x.prototype.Set=function(a,b,d){a===void 0&&(a=0);b===void 0&&(b=0);d===
void 0&&(d=0);this.x=a;this.y=b;this.z=d};x.prototype.SetV=function(a){this.x=a.x;this.y=a.y;this.z=a.z};x.prototype.GetNegative=function(){return new x(-this.x,-this.y,-this.z)};x.prototype.NegativeSelf=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};x.prototype.Copy=function(){return new x(this.x,this.y,this.z)};x.prototype.Add=function(a){this.x=this.x+a.x;this.y=this.y+a.y;this.z=this.z+a.z};x.prototype.Subtract=function(a){this.x=this.x-a.x;this.y=this.y-a.y;this.z=this.z-a.z};x.prototype.Multiply=
function(a){a===void 0&&(a=0);this.x=this.x*a;this.y=this.y*a;this.z=this.z*a}})();
(function(){var m=myChrome.Common.Math.b2Math,c=myChrome.Common.Math.b2Sweep,b=myChrome.Common.Math.b2Transform,a=myChrome.Common.Math.b2Vec2,d=myChrome.Common.b2Color,j=myChrome.Common.b2Settings,x=myChrome.Collision.b2AABB,k=myChrome.Collision.b2ContactPoint,q=myChrome.Collision.b2DynamicTreeBroadPhase,t=myChrome.Collision.b2RayCastInput,y=myChrome.Collision.b2RayCastOutput,s=myChrome.Collision.Shapes.b2CircleShape,u=myChrome.Collision.Shapes.b2EdgeShape,w=myChrome.Collision.Shapes.b2MassData,Q=
myChrome.Collision.Shapes.b2PolygonShape,R=myChrome.Collision.Shapes.b2Shape,r=myChrome.Dynamics.b2Body,I=myChrome.Dynamics.b2BodyDef,E=myChrome.Dynamics.b2ContactFilter,J=myChrome.Dynamics.b2ContactImpulse,K=myChrome.Dynamics.b2ContactListener,H=myChrome.Dynamics.b2ContactManager,G=myChrome.Dynamics.b2DebugDraw,T=myChrome.Dynamics.b2DestructionListener,L=myChrome.Dynamics.b2FilterData,z=myChrome.Dynamics.b2Fixture,V=myChrome.Dynamics.b2FixtureDef,f=myChrome.Dynamics.b2Island,o=myChrome.Dynamics.b2TimeStep,
p=myChrome.Dynamics.b2World,B=myChrome.Dynamics.Contacts.b2Contact,v=myChrome.Dynamics.Contacts.b2ContactFactory,D=myChrome.Dynamics.Contacts.b2ContactSolver,M=myChrome.Dynamics.Joints.b2Joint,U=myChrome.Dynamics.Joints.b2PulleyJoint;r.b2Body=function(){this.m_xf=new b;this.m_sweep=new c;this.m_linearVelocity=new a;this.m_force=new a};r.prototype.connectEdges=function(a,b,d){d===void 0&&(d=0);var o=Math.atan2(b.GetDirectionVector().y,b.GetDirectionVector().x),d=m.MulFV(Math.tan((o-d)*0.5),b.GetDirectionVector()),
d=m.SubtractVV(d,b.GetNormalVector()),d=m.MulFV(j.b2_toiSlop,d),d=m.AddVV(d,b.GetVertex1()),c=m.AddVV(a.GetDirectionVector(),b.GetDirectionVector());c.Normalize();var p=m.Dot(a.GetDirectionVector(),b.GetNormalVector())>0;a.SetNextEdge(b,d,c,p);b.SetPrevEdge(a,d,c,p);return o};r.prototype.CreateFixture=function(a){if(this.m_world.IsLocked()==true)return null;var b=new z;b.Create(this,this.m_xf,a);this.m_flags&r.e_activeFlag&&b.CreateProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf);b.m_next=
this.m_fixtureList;this.m_fixtureList=b;++this.m_fixtureCount;b.m_body=this;b.m_density>0&&this.ResetMassData();this.m_world.m_flags=this.m_world.m_flags|p.e_newFixture;return b};r.prototype.CreateFixture2=function(a,b){b===void 0&&(b=0);var d=new V;d.shape=a;d.density=b;return this.CreateFixture(d)};r.prototype.DestroyFixture=function(a){if(this.m_world.IsLocked()!=true){for(var b=this.m_fixtureList,d=null;b!=null;){if(b==a){d?d.m_next=a.m_next:this.m_fixtureList=a.m_next;break}d=b;b=b.m_next}for(b=
this.m_contactList;b;){var d=b.contact,b=b.next,o=d.GetFixtureA(),c=d.GetFixtureB();(a==o||a==c)&&this.m_world.m_contactManager.Destroy(d)}this.m_flags&r.e_activeFlag&&a.DestroyProxy(this.m_world.m_contactManager.m_broadPhase);a.Destroy();a.m_body=null;a.m_next=null;--this.m_fixtureCount;this.ResetMassData()}};r.prototype.SetPositionAndAngle=function(a,b){b===void 0&&(b=0);var d;if(this.m_world.IsLocked()!=true){this.m_xf.R.Set(b);this.m_xf.position.SetV(a);d=this.m_xf.R;var o=this.m_sweep.localCenter;
this.m_sweep.c.x=d.col1.x*o.x+d.col2.x*o.y;this.m_sweep.c.y=d.col1.y*o.x+d.col2.y*o.y;this.m_sweep.c.x=this.m_sweep.c.x+this.m_xf.position.x;this.m_sweep.c.y=this.m_sweep.c.y+this.m_xf.position.y;this.m_sweep.c0.SetV(this.m_sweep.c);this.m_sweep.a0=this.m_sweep.a=b;o=this.m_world.m_contactManager.m_broadPhase;for(d=this.m_fixtureList;d;d=d.m_next)d.Synchronize(o,this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}};r.prototype.SetTransform=function(a){this.SetPositionAndAngle(a.position,
a.GetAngle())};r.prototype.GetTransform=function(){return this.m_xf};r.prototype.GetPosition=function(){return this.m_xf.position};r.prototype.SetPosition=function(a){this.SetPositionAndAngle(a,this.GetAngle())};r.prototype.GetAngle=function(){return this.m_sweep.a};r.prototype.SetAngle=function(a){a===void 0&&(a=0);this.SetPositionAndAngle(this.GetPosition(),a)};r.prototype.GetWorldCenter=function(){return this.m_sweep.c};r.prototype.GetLocalCenter=function(){return this.m_sweep.localCenter};r.prototype.SetLinearVelocity=
function(a){this.m_type!=r.b2_staticBody&&this.m_linearVelocity.SetV(a)};r.prototype.GetLinearVelocity=function(){return this.m_linearVelocity};r.prototype.SetAngularVelocity=function(a){a===void 0&&(a=0);if(this.m_type!=r.b2_staticBody)this.m_angularVelocity=a};r.prototype.GetAngularVelocity=function(){return this.m_angularVelocity};r.prototype.GetDefinition=function(){var a=new I;a.type=this.GetType();a.allowSleep=(this.m_flags&r.e_allowSleepFlag)==r.e_allowSleepFlag;a.angle=this.GetAngle();a.angularDamping=
this.m_angularDamping;a.angularVelocity=this.m_angularVelocity;a.fixedRotation=(this.m_flags&r.e_fixedRotationFlag)==r.e_fixedRotationFlag;a.bullet=(this.m_flags&r.e_bulletFlag)==r.e_bulletFlag;a.awake=(this.m_flags&r.e_awakeFlag)==r.e_awakeFlag;a.linearDamping=this.m_linearDamping;a.linearVelocity.SetV(this.GetLinearVelocity());a.position=this.GetPosition();a.userData=this.GetUserData();return a};r.prototype.ApplyForce=function(a,b){if(this.m_type==r.b2_dynamicBody){this.IsAwake()==false&&this.SetAwake(true);
this.m_force.x=this.m_force.x+a.x;this.m_force.y=this.m_force.y+a.y;this.m_torque=this.m_torque+((b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x)}};r.prototype.ApplyTorque=function(a){a===void 0&&(a=0);if(this.m_type==r.b2_dynamicBody){this.IsAwake()==false&&this.SetAwake(true);this.m_torque=this.m_torque+a}};r.prototype.ApplyImpulse=function(a,b){if(this.m_type==r.b2_dynamicBody){this.IsAwake()==false&&this.SetAwake(true);this.m_linearVelocity.x=this.m_linearVelocity.x+this.m_invMass*a.x;this.m_linearVelocity.y=
this.m_linearVelocity.y+this.m_invMass*a.y;this.m_angularVelocity=this.m_angularVelocity+this.m_invI*((b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x)}};r.prototype.Split=function(a){for(var b=this.GetLinearVelocity().Copy(),d=this.GetAngularVelocity(),o=this.GetWorldCenter(),c=this.m_world.CreateBody(this.GetDefinition()),p,f=this.m_fixtureList;f;)if(a(f)){var j=f.m_next;p?p.m_next=j:this.m_fixtureList=j;this.m_fixtureCount--;f.m_next=c.m_fixtureList;c.m_fixtureList=f;c.m_fixtureCount++;f.m_body=
c;f=j}else{p=f;f=f.m_next}this.ResetMassData();c.ResetMassData();p=this.GetWorldCenter();a=c.GetWorldCenter();p=m.AddVV(b,m.CrossFV(d,m.SubtractVV(p,o)));b=m.AddVV(b,m.CrossFV(d,m.SubtractVV(a,o)));this.SetLinearVelocity(p);c.SetLinearVelocity(b);this.SetAngularVelocity(d);c.SetAngularVelocity(d);this.SynchronizeFixtures();c.SynchronizeFixtures();return c};r.prototype.Merge=function(a){var b;for(b=a.m_fixtureList;b;){var d=b.m_next;a.m_fixtureCount--;b.m_next=this.m_fixtureList;this.m_fixtureList=
b;this.m_fixtureCount++;b.m_body=c;b=d}o.m_fixtureCount=0;var o=this,c=a;o.GetWorldCenter();c.GetWorldCenter();o.GetLinearVelocity().Copy();c.GetLinearVelocity().Copy();o.GetAngularVelocity();c.GetAngularVelocity();o.ResetMassData();this.SynchronizeFixtures()};r.prototype.GetMass=function(){return this.m_mass};r.prototype.GetInertia=function(){return this.m_I};r.prototype.GetMassData=function(a){a.mass=this.m_mass;a.I=this.m_I;a.center.SetV(this.m_sweep.localCenter)};r.prototype.SetMassData=function(a){j.b2Assert(this.m_world.IsLocked()==
false);if(this.m_world.IsLocked()!=true&&this.m_type==r.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0;this.m_mass=a.mass;if(this.m_mass<=0)this.m_mass=1;this.m_invMass=1/this.m_mass;if(a.I>0&&(this.m_flags&r.e_fixedRotationFlag)==0){this.m_I=a.I-this.m_mass*(a.center.x*a.center.x+a.center.y*a.center.y);this.m_invI=1/this.m_I}var b=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(a.center);this.m_sweep.c0.SetV(m.MulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.SetV(this.m_sweep.c0);
this.m_linearVelocity.x=this.m_linearVelocity.x+this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y=this.m_linearVelocity.y+this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};r.prototype.ResetMassData=function(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;this.m_sweep.localCenter.SetZero();if(!(this.m_type==r.b2_staticBody||this.m_type==r.b2_kinematicBody)){for(var e=a.Make(0,0),b=this.m_fixtureList;b;b=b.m_next)if(b.m_density!=0){var d=b.GetMassData();this.m_mass=this.m_mass+
d.mass;e.x=e.x+d.center.x*d.mass;e.y=e.y+d.center.y*d.mass;this.m_I=this.m_I+d.I}if(this.m_mass>0){this.m_invMass=1/this.m_mass;e.x=e.x*this.m_invMass;e.y=e.y*this.m_invMass}else this.m_invMass=this.m_mass=1;if(this.m_I>0&&(this.m_flags&r.e_fixedRotationFlag)==0){this.m_I=this.m_I-this.m_mass*(e.x*e.x+e.y*e.y);this.m_I=this.m_I*this.m_inertiaScale;j.b2Assert(this.m_I>0);this.m_invI=1/this.m_I}else this.m_invI=this.m_I=0;b=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(e);this.m_sweep.c0.SetV(m.MulX(this.m_xf,
this.m_sweep.localCenter));this.m_sweep.c.SetV(this.m_sweep.c0);this.m_linearVelocity.x=this.m_linearVelocity.x+this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y=this.m_linearVelocity.y+this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};r.prototype.GetWorldPoint=function(e){var b=this.m_xf.R,e=new a(b.col1.x*e.x+b.col2.x*e.y,b.col1.y*e.x+b.col2.y*e.y);e.x=e.x+this.m_xf.position.x;e.y=e.y+this.m_xf.position.y;return e};r.prototype.GetWorldVector=function(a){return m.MulMV(this.m_xf.R,
a)};r.prototype.GetLocalPoint=function(a){return m.MulXT(this.m_xf,a)};r.prototype.GetLocalVector=function(a){return m.MulTMV(this.m_xf.R,a)};r.prototype.GetLinearVelocityFromWorldPoint=function(e){return new a(this.m_linearVelocity.x-this.m_angularVelocity*(e.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(e.x-this.m_sweep.c.x))};r.prototype.GetLinearVelocityFromLocalPoint=function(e){var b=this.m_xf.R,e=new a(b.col1.x*e.x+b.col2.x*e.y,b.col1.y*e.x+b.col2.y*e.y);e.x=e.x+this.m_xf.position.x;
e.y=e.y+this.m_xf.position.y;return new a(this.m_linearVelocity.x-this.m_angularVelocity*(e.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(e.x-this.m_sweep.c.x))};r.prototype.GetLinearDamping=function(){return this.m_linearDamping};r.prototype.SetLinearDamping=function(a){a===void 0&&(a=0);this.m_linearDamping=a};r.prototype.GetAngularDamping=function(){return this.m_angularDamping};r.prototype.SetAngularDamping=function(a){a===void 0&&(a=0);this.m_angularDamping=a};r.prototype.SetType=
function(a){a===void 0&&(a=0);if(this.m_type!=a){this.m_type=a;this.ResetMassData();if(this.m_type==r.b2_staticBody){this.m_linearVelocity.SetZero();this.m_angularVelocity=0}this.SetAwake(true);this.m_force.SetZero();this.m_torque=0;for(a=this.m_contactList;a;a=a.next)a.contact.FlagForFiltering()}};r.prototype.GetType=function(){return this.m_type};r.prototype.SetBullet=function(a){this.m_flags=a?this.m_flags|r.e_bulletFlag:this.m_flags&~r.e_bulletFlag};r.prototype.IsBullet=function(){return(this.m_flags&
r.e_bulletFlag)==r.e_bulletFlag};r.prototype.SetSleepingAllowed=function(a){if(a)this.m_flags=this.m_flags|r.e_allowSleepFlag;else{this.m_flags=this.m_flags&~r.e_allowSleepFlag;this.SetAwake(true)}};r.prototype.SetAwake=function(a){if(a){this.m_flags=this.m_flags|r.e_awakeFlag;this.m_sleepTime=0}else{this.m_flags=this.m_flags&~r.e_awakeFlag;this.m_sleepTime=0;this.m_linearVelocity.SetZero();this.m_angularVelocity=0;this.m_force.SetZero();this.m_torque=0}};r.prototype.IsAwake=function(){return(this.m_flags&
r.e_awakeFlag)==r.e_awakeFlag};r.prototype.SetFixedRotation=function(a){this.m_flags=a?this.m_flags|r.e_fixedRotationFlag:this.m_flags&~r.e_fixedRotationFlag;this.ResetMassData()};r.prototype.IsFixedRotation=function(){return(this.m_flags&r.e_fixedRotationFlag)==r.e_fixedRotationFlag};r.prototype.SetActive=function(a){if(a!=this.IsActive()){var b;if(a){this.m_flags=this.m_flags|r.e_activeFlag;a=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;b;b=b.m_next)b.CreateProxy(a,this.m_xf)}else{this.m_flags=
this.m_flags&~r.e_activeFlag;a=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;b;b=b.m_next)b.DestroyProxy(a);for(a=this.m_contactList;a;){b=a;a=a.next;this.m_world.m_contactManager.Destroy(b.contact)}this.m_contactList=null}}};r.prototype.IsActive=function(){return(this.m_flags&r.e_activeFlag)==r.e_activeFlag};r.prototype.IsSleepingAllowed=function(){return(this.m_flags&r.e_allowSleepFlag)==r.e_allowSleepFlag};r.prototype.GetFixtureList=function(){return this.m_fixtureList};r.prototype.GetJointList=
function(){return this.m_jointList};r.prototype.GetControllerList=function(){return this.m_controllerList};r.prototype.GetContactList=function(){return this.m_contactList};r.prototype.GetNext=function(){return this.m_next};r.prototype.GetUserData=function(){return this.m_userData};r.prototype.SetUserData=function(a){this.m_userData=a};r.prototype.GetWorld=function(){return this.m_world};r.prototype.b2Body=function(a,b){this.m_flags=0;if(a.bullet)this.m_flags=this.m_flags|r.e_bulletFlag;if(a.fixedRotation)this.m_flags=
this.m_flags|r.e_fixedRotationFlag;if(a.allowSleep)this.m_flags=this.m_flags|r.e_allowSleepFlag;if(a.awake)this.m_flags=this.m_flags|r.e_awakeFlag;if(a.active)this.m_flags=this.m_flags|r.e_activeFlag;this.m_world=b;this.m_xf.position.SetV(a.position);this.m_xf.R.Set(a.angle);this.m_sweep.localCenter.SetZero();this.m_sweep.t0=1;this.m_sweep.a0=this.m_sweep.a=a.angle;var d=this.m_xf.R,o=this.m_sweep.localCenter;this.m_sweep.c.x=d.col1.x*o.x+d.col2.x*o.y;this.m_sweep.c.y=d.col1.y*o.x+d.col2.y*o.y;this.m_sweep.c.x=
this.m_sweep.c.x+this.m_xf.position.x;this.m_sweep.c.y=this.m_sweep.c.y+this.m_xf.position.y;this.m_sweep.c0.SetV(this.m_sweep.c);this.m_contactList=this.m_controllerList=this.m_jointList=null;this.m_controllerCount=0;this.m_next=this.m_prev=null;this.m_linearVelocity.SetV(a.linearVelocity);this.m_angularVelocity=a.angularVelocity;this.m_linearDamping=a.linearDamping;this.m_angularDamping=a.angularDamping;this.m_force.Set(0,0);this.m_sleepTime=this.m_torque=0;this.m_type=a.type;this.m_invMass=this.m_type==
r.b2_dynamicBody?this.m_mass=1:this.m_mass=0;this.m_invI=this.m_I=0;this.m_inertiaScale=a.inertiaScale;this.m_userData=a.userData;this.m_fixtureList=null;this.m_fixtureCount=0};r.prototype.SynchronizeFixtures=function(){var a=r.s_xf1;a.R.Set(this.m_sweep.a0);var b=a.R,d=this.m_sweep.localCenter;a.position.x=this.m_sweep.c0.x-(b.col1.x*d.x+b.col2.x*d.y);a.position.y=this.m_sweep.c0.y-(b.col1.y*d.x+b.col2.y*d.y);d=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;b;b=b.m_next)b.Synchronize(d,
a,this.m_xf)};r.prototype.SynchronizeTransform=function(){this.m_xf.R.Set(this.m_sweep.a);var a=this.m_xf.R,b=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(a.col1.x*b.x+a.col2.x*b.y);this.m_xf.position.y=this.m_sweep.c.y-(a.col1.y*b.x+a.col2.y*b.y)};r.prototype.ShouldCollide=function(a){if(this.m_type!=r.b2_dynamicBody&&a.m_type!=r.b2_dynamicBody)return false;for(var b=this.m_jointList;b;b=b.next)if(b.other==a&&b.joint.m_collideConnected==false)return false;return true};r.prototype.Advance=
function(a){a===void 0&&(a=0);this.m_sweep.Advance(a);this.m_sweep.c.SetV(this.m_sweep.c0);this.m_sweep.a=this.m_sweep.a0;this.SynchronizeTransform()};myChrome.postDefs.push(function(){myChrome.Dynamics.b2Body.s_xf1=new b;myChrome.Dynamics.b2Body.e_islandFlag=1;myChrome.Dynamics.b2Body.e_awakeFlag=2;myChrome.Dynamics.b2Body.e_allowSleepFlag=4;myChrome.Dynamics.b2Body.e_bulletFlag=8;myChrome.Dynamics.b2Body.e_fixedRotationFlag=16;myChrome.Dynamics.b2Body.e_activeFlag=32;myChrome.Dynamics.b2Body.b2_staticBody=
0;myChrome.Dynamics.b2Body.b2_kinematicBody=1;myChrome.Dynamics.b2Body.b2_dynamicBody=2});I.b2BodyDef=function(){this.position=new a;this.linearVelocity=new a};I.prototype.b2BodyDef=function(){this.userData=null;this.position.Set(0,0);this.angle=0;this.linearVelocity.Set(0,0);this.angularDamping=this.linearDamping=this.angularVelocity=0;this.awake=this.allowSleep=true;this.bullet=this.fixedRotation=false;this.type=r.b2_staticBody;this.active=true;this.inertiaScale=1};E.b2ContactFilter=function(){};
E.prototype.ShouldCollide=function(a,b){var d=a.GetFilterData(),o=b.GetFilterData();return d.groupIndex==o.groupIndex&&d.groupIndex!=0?d.groupIndex>0:(d.maskBits&o.categoryBits)!=0&&(d.categoryBits&o.maskBits)!=0};E.prototype.RayCollide=function(a,b){return!a?true:this.ShouldCollide(a instanceof z?a:null,b)};myChrome.postDefs.push(function(){myChrome.Dynamics.b2ContactFilter.b2_defaultFilter=new E});J.b2ContactImpulse=function(){this.normalImpulses=new Vector_a2j_Number(j.b2_maxManifoldPoints);this.tangentImpulses=
new Vector_a2j_Number(j.b2_maxManifoldPoints)};K.b2ContactListener=function(){};K.prototype.BeginContact=function(){};K.prototype.EndContact=function(){};K.prototype.PreSolve=function(){};K.prototype.PostSolve=function(){};myChrome.postDefs.push(function(){myChrome.Dynamics.b2ContactListener.b2_defaultListener=new K});H.b2ContactManager=function(){};H.prototype.b2ContactManager=function(){this.m_world=null;this.m_contactCount=0;this.m_contactFilter=E.b2_defaultFilter;this.m_contactListener=K.b2_defaultListener;
this.m_contactFactory=new v(this.m_allocator);this.m_broadPhase=new q};H.prototype.AddPair=function(a,b){var d=a instanceof z?a:null,o=b instanceof z?b:null,c=d.GetBody(),p=o.GetBody();if(c!=p){for(var f=p.GetContactList();f;){if(f.other==c){var j=f.contact.GetFixtureA(),v=f.contact.GetFixtureB();if(j==d&&v==o||j==o&&v==d)return}f=f.next}if(p.ShouldCollide(c)!=false&&this.m_contactFilter.ShouldCollide(d,o)!=false){f=this.m_contactFactory.Create(d,o);d=f.GetFixtureA();o=f.GetFixtureB();c=d.m_body;
p=o.m_body;f.m_prev=null;f.m_next=this.m_world.m_contactList;if(this.m_world.m_contactList!=null)this.m_world.m_contactList.m_prev=f;this.m_world.m_contactList=f;f.m_nodeA.contact=f;f.m_nodeA.other=p;f.m_nodeA.prev=null;f.m_nodeA.next=c.m_contactList;if(c.m_contactList!=null)c.m_contactList.prev=f.m_nodeA;c.m_contactList=f.m_nodeA;f.m_nodeB.contact=f;f.m_nodeB.other=c;f.m_nodeB.prev=null;f.m_nodeB.next=p.m_contactList;if(p.m_contactList!=null)p.m_contactList.prev=f.m_nodeB;p.m_contactList=f.m_nodeB;
++this.m_world.m_contactCount}}};H.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(myChrome.generateCallback(this,this.AddPair))};H.prototype.Destroy=function(a){var b=a.GetFixtureA(),d=a.GetFixtureB(),b=b.GetBody(),d=d.GetBody();a.IsTouching()&&this.m_contactListener.EndContact(a);if(a.m_prev)a.m_prev.m_next=a.m_next;if(a.m_next)a.m_next.m_prev=a.m_prev;if(a==this.m_world.m_contactList)this.m_world.m_contactList=a.m_next;if(a.m_nodeA.prev)a.m_nodeA.prev.next=a.m_nodeA.next;if(a.m_nodeA.next)a.m_nodeA.next.prev=
a.m_nodeA.prev;if(a.m_nodeA==b.m_contactList)b.m_contactList=a.m_nodeA.next;if(a.m_nodeB.prev)a.m_nodeB.prev.next=a.m_nodeB.next;if(a.m_nodeB.next)a.m_nodeB.next.prev=a.m_nodeB.prev;if(a.m_nodeB==d.m_contactList)d.m_contactList=a.m_nodeB.next;this.m_contactFactory.Destroy(a);--this.m_contactCount};H.prototype.Collide=function(){for(var a=this.m_world.m_contactList;a;){var b=a.GetFixtureA(),d=a.GetFixtureB(),o=b.GetBody(),c=d.GetBody();if(o.IsAwake()==false&&c.IsAwake()==false)a=a.GetNext();else{if(a.m_flags&
B.e_filterFlag){if(c.ShouldCollide(o)==false){b=a;a=b.GetNext();this.Destroy(b);continue}if(this.m_contactFilter.ShouldCollide(b,d)==false){b=a;a=b.GetNext();this.Destroy(b);continue}a.m_flags=a.m_flags&~B.e_filterFlag}if(this.m_broadPhase.TestOverlap(b.m_proxy,d.m_proxy)==false){b=a;a=b.GetNext();this.Destroy(b)}else{a.Update(this.m_contactListener);a=a.GetNext()}}}};myChrome.postDefs.push(function(){myChrome.Dynamics.b2ContactManager.s_evalCP=new k});G.b2DebugDraw=function(){};G.prototype.b2DebugDraw=
function(){};G.prototype.SetFlags=function(){};G.prototype.GetFlags=function(){};G.prototype.AppendFlags=function(){};G.prototype.ClearFlags=function(){};G.prototype.SetSprite=function(){};G.prototype.GetSprite=function(){};G.prototype.SetDrawScale=function(){};G.prototype.GetDrawScale=function(){};G.prototype.SetLineThickness=function(){};G.prototype.GetLineThickness=function(){};G.prototype.SetAlpha=function(){};G.prototype.GetAlpha=function(){};G.prototype.SetFillAlpha=function(){};G.prototype.GetFillAlpha=
function(){};G.prototype.SetXFormScale=function(){};G.prototype.GetXFormScale=function(){};G.prototype.DrawPolygon=function(){};G.prototype.DrawSolidPolygon=function(){};G.prototype.DrawCircle=function(){};G.prototype.DrawSolidCircle=function(){};G.prototype.DrawSegment=function(){};G.prototype.DrawTransform=function(){};myChrome.postDefs.push(function(){myChrome.Dynamics.b2DebugDraw.e_shapeBit=1;myChrome.Dynamics.b2DebugDraw.e_jointBit=2;myChrome.Dynamics.b2DebugDraw.e_aabbBit=4;myChrome.Dynamics.b2DebugDraw.e_pairBit=
8;myChrome.Dynamics.b2DebugDraw.e_centerOfMassBit=16;myChrome.Dynamics.b2DebugDraw.e_controllerBit=32});T.b2DestructionListener=function(){};T.prototype.SayGoodbyeJoint=function(){};T.prototype.SayGoodbyeFixture=function(){};L.b2FilterData=function(){this.categoryBits=1;this.maskBits=65535;this.groupIndex=0};L.prototype.Copy=function(){var a=new L;a.categoryBits=this.categoryBits;a.maskBits=this.maskBits;a.groupIndex=this.groupIndex;return a};z.b2Fixture=function(){this.m_filter=new L};z.prototype.GetType=
function(){return this.m_shape.GetType()};z.prototype.GetShape=function(){return this.m_shape};z.prototype.SetSensor=function(a){if(this.m_isSensor!=a){this.m_isSensor=a;if(this.m_body!=null)for(a=this.m_body.GetContactList();a;){var b=a.contact,d=b.GetFixtureA(),o=b.GetFixtureB();if(d==this||o==this)b.SetSensor(d.IsSensor()||o.IsSensor());a=a.next}}};z.prototype.IsSensor=function(){return this.m_isSensor};z.prototype.SetFilterData=function(a){this.m_filter=a.Copy();if(!this.m_body)for(a=this.m_body.GetContactList();a;){var b=
a.contact,d=b.GetFixtureA(),o=b.GetFixtureB();(d==this||o==this)&&b.FlagForFiltering();a=a.next}};z.prototype.GetFilterData=function(){return this.m_filter.Copy()};z.prototype.GetBody=function(){return this.m_body};z.prototype.GetNext=function(){return this.m_next};z.prototype.GetUserData=function(){return this.m_userData};z.prototype.SetUserData=function(a){this.m_userData=a};z.prototype.TestPoint=function(a){return this.m_shape.TestPoint(this.m_body.GetTransform(),a)};z.prototype.RayCast=function(a,
b){return this.m_shape.RayCast(a,b,this.m_body.GetTransform())};z.prototype.GetMassData=function(a){a===void 0&&(a=null);a==null&&(a=new w);this.m_shape.ComputeMass(a,this.m_density);return a};z.prototype.SetDensity=function(a){a===void 0&&(a=0);this.m_density=a};z.prototype.GetDensity=function(){return this.m_density};z.prototype.GetFriction=function(){return this.m_friction};z.prototype.SetFriction=function(a){a===void 0&&(a=0);this.m_friction=a};z.prototype.GetRestitution=function(){return this.m_restitution};
z.prototype.SetRestitution=function(a){a===void 0&&(a=0);this.m_restitution=a};z.prototype.GetAABB=function(){return this.m_aabb};z.prototype.b2Fixture=function(){this.m_aabb=new x;this.m_shape=this.m_next=this.m_body=this.m_userData=null;this.m_restitution=this.m_friction=this.m_density=0};z.prototype.Create=function(a,b,d){this.m_userData=d.userData;this.m_friction=d.friction;this.m_restitution=d.restitution;this.m_body=a;this.m_next=null;this.m_filter=d.filter.Copy();this.m_isSensor=d.isSensor;
this.m_shape=d.shape.Copy();this.m_density=d.density};z.prototype.Destroy=function(){this.m_shape=null};z.prototype.CreateProxy=function(a,b){this.m_shape.ComputeAABB(this.m_aabb,b);this.m_proxy=a.CreateProxy(this.m_aabb,this)};z.prototype.DestroyProxy=function(a){if(this.m_proxy!=null){a.DestroyProxy(this.m_proxy);this.m_proxy=null}};z.prototype.Synchronize=function(a,b,d){if(this.m_proxy){var o=new x,c=new x;this.m_shape.ComputeAABB(o,b);this.m_shape.ComputeAABB(c,d);this.m_aabb.Combine(o,c);b=
m.SubtractVV(d.position,b.position);a.MoveProxy(this.m_proxy,this.m_aabb,b)}};V.b2FixtureDef=function(){this.filter=new L};V.prototype.b2FixtureDef=function(){this.userData=this.shape=null;this.friction=0.2;this.density=this.restitution=0;this.filter.categoryBits=1;this.filter.maskBits=65535;this.filter.groupIndex=0;this.isSensor=false};f.b2Island=function(){};f.prototype.b2Island=function(){this.m_bodies=new Vector;this.m_contacts=new Vector;this.m_joints=new Vector};f.prototype.Initialize=function(a,
b,d,o,c,p){a===void 0&&(a=0);b===void 0&&(b=0);d===void 0&&(d=0);var f=0;this.m_bodyCapacity=a;this.m_contactCapacity=b;this.m_jointCapacity=d;this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;this.m_allocator=o;this.m_listener=c;this.m_contactSolver=p;for(f=this.m_bodies.length;f<a;f++)this.m_bodies[f]=null;for(f=this.m_contacts.length;f<b;f++)this.m_contacts[f]=null;for(f=this.m_joints.length;f<d;f++)this.m_joints[f]=null};f.prototype.Clear=function(){this.m_jointCount=this.m_contactCount=
this.m_bodyCount=0};f.prototype.Solve=function(a,b,d){for(var o=0,c=0,p,o=0;o<this.m_bodyCount;++o){c=this.m_bodies[o];if(c.GetType()==r.b2_dynamicBody){c.m_linearVelocity.x=c.m_linearVelocity.x+a.dt*(b.x+c.m_invMass*c.m_force.x);c.m_linearVelocity.y=c.m_linearVelocity.y+a.dt*(b.y+c.m_invMass*c.m_force.y);c.m_angularVelocity=c.m_angularVelocity+a.dt*c.m_invI*c.m_torque;c.m_linearVelocity.Multiply(m.Clamp(1-a.dt*c.m_linearDamping,0,1));c.m_angularVelocity=c.m_angularVelocity*m.Clamp(1-a.dt*c.m_angularDamping,
0,1)}}this.m_contactSolver.Initialize(a,this.m_contacts,this.m_contactCount,this.m_allocator);b=this.m_contactSolver;b.InitVelocityConstraints(a);for(o=0;o<this.m_jointCount;++o){p=this.m_joints[o];p.InitVelocityConstraints(a)}for(o=0;o<a.velocityIterations;++o){for(c=0;c<this.m_jointCount;++c){p=this.m_joints[c];p.SolveVelocityConstraints(a)}b.SolveVelocityConstraints()}for(o=0;o<this.m_jointCount;++o){p=this.m_joints[o];p.FinalizeVelocityConstraints()}b.FinalizeVelocityConstraints();for(o=0;o<this.m_bodyCount;++o){c=
this.m_bodies[o];if(c.GetType()!=r.b2_staticBody){var f=a.dt*c.m_linearVelocity.x,v=a.dt*c.m_linearVelocity.y;if(f*f+v*v>j.b2_maxTranslationSquared){c.m_linearVelocity.Normalize();c.m_linearVelocity.x=c.m_linearVelocity.x*j.b2_maxTranslation*a.inv_dt;c.m_linearVelocity.y=c.m_linearVelocity.y*j.b2_maxTranslation*a.inv_dt}f=a.dt*c.m_angularVelocity;if(f*f>j.b2_maxRotationSquared)c.m_angularVelocity=c.m_angularVelocity<0?-j.b2_maxRotation*a.inv_dt:j.b2_maxRotation*a.inv_dt;c.m_sweep.c0.SetV(c.m_sweep.c);
c.m_sweep.a0=c.m_sweep.a;c.m_sweep.c.x=c.m_sweep.c.x+a.dt*c.m_linearVelocity.x;c.m_sweep.c.y=c.m_sweep.c.y+a.dt*c.m_linearVelocity.y;c.m_sweep.a=c.m_sweep.a+a.dt*c.m_angularVelocity;c.SynchronizeTransform()}}for(o=0;o<a.positionIterations;++o){f=b.SolvePositionConstraints(j.b2_contactBaumgarte);v=true;for(c=0;c<this.m_jointCount;++c){p=this.m_joints[c];p=p.SolvePositionConstraints(j.b2_contactBaumgarte);v=v&&p}if(f&&v)break}this.Report(b.m_constraints);if(d){d=Number.MAX_VALUE;b=j.b2_linearSleepTolerance*
j.b2_linearSleepTolerance;f=j.b2_angularSleepTolerance*j.b2_angularSleepTolerance;for(o=0;o<this.m_bodyCount;++o){c=this.m_bodies[o];if(c.GetType()!=r.b2_staticBody){if((c.m_flags&r.e_allowSleepFlag)==0)d=c.m_sleepTime=0;if((c.m_flags&r.e_allowSleepFlag)==0||c.m_angularVelocity*c.m_angularVelocity>f||m.Dot(c.m_linearVelocity,c.m_linearVelocity)>b)d=c.m_sleepTime=0;else{c.m_sleepTime=c.m_sleepTime+a.dt;d=m.Min(d,c.m_sleepTime)}}}if(d>=j.b2_timeToSleep)for(o=0;o<this.m_bodyCount;++o){c=this.m_bodies[o];
c.SetAwake(false)}}};f.prototype.SolveTOI=function(a){var b=0,d=0;this.m_contactSolver.Initialize(a,this.m_contacts,this.m_contactCount,this.m_allocator);for(var c=this.m_contactSolver,b=0;b<this.m_jointCount;++b)this.m_joints[b].InitVelocityConstraints(a);for(b=0;b<a.velocityIterations;++b){c.SolveVelocityConstraints();for(d=0;d<this.m_jointCount;++d)this.m_joints[d].SolveVelocityConstraints(a)}for(b=0;b<this.m_bodyCount;++b){d=this.m_bodies[b];if(d.GetType()!=r.b2_staticBody){var o=a.dt*d.m_linearVelocity.x,
p=a.dt*d.m_linearVelocity.y;if(o*o+p*p>j.b2_maxTranslationSquared){d.m_linearVelocity.Normalize();d.m_linearVelocity.x=d.m_linearVelocity.x*j.b2_maxTranslation*a.inv_dt;d.m_linearVelocity.y=d.m_linearVelocity.y*j.b2_maxTranslation*a.inv_dt}o=a.dt*d.m_angularVelocity;if(o*o>j.b2_maxRotationSquared)d.m_angularVelocity=d.m_angularVelocity<0?-j.b2_maxRotation*a.inv_dt:j.b2_maxRotation*a.inv_dt;d.m_sweep.c0.SetV(d.m_sweep.c);d.m_sweep.a0=d.m_sweep.a;d.m_sweep.c.x=d.m_sweep.c.x+a.dt*d.m_linearVelocity.x;
d.m_sweep.c.y=d.m_sweep.c.y+a.dt*d.m_linearVelocity.y;d.m_sweep.a=d.m_sweep.a+a.dt*d.m_angularVelocity;d.SynchronizeTransform()}}for(b=0;b<a.positionIterations;++b){o=c.SolvePositionConstraints(0.75);p=true;for(d=0;d<this.m_jointCount;++d)var f=this.m_joints[d].SolvePositionConstraints(j.b2_contactBaumgarte),p=p&&f;if(o&&p)break}this.Report(c.m_constraints)};f.prototype.Report=function(a){if(this.m_listener!=null)for(var b=0;b<this.m_contactCount;++b){for(var d=this.m_contacts[b],c=a[b],o=0;o<c.pointCount;++o){f.s_impulse.normalImpulses[o]=
c.points[o].normalImpulse;f.s_impulse.tangentImpulses[o]=c.points[o].tangentImpulse}this.m_listener.PostSolve(d,f.s_impulse)}};f.prototype.AddBody=function(a){a.m_islandIndex=this.m_bodyCount;this.m_bodies[this.m_bodyCount++]=a};f.prototype.AddContact=function(a){this.m_contacts[this.m_contactCount++]=a};f.prototype.AddJoint=function(a){this.m_joints[this.m_jointCount++]=a};myChrome.postDefs.push(function(){myChrome.Dynamics.b2Island.s_impulse=new J});o.b2TimeStep=function(){};o.prototype.Set=function(a){this.dt=
a.dt;this.inv_dt=a.inv_dt;this.positionIterations=a.positionIterations;this.velocityIterations=a.velocityIterations;this.warmStarting=a.warmStarting};p.b2World=function(){this.s_stack=new Vector;this.m_contactManager=new H;this.m_contactSolver=new D;this.m_island=new f};p.prototype.b2World=function(a,b){this.m_controllerList=this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null;this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=
0;p.m_warmStarting=true;p.m_continuousPhysics=true;this.m_allowSleep=b;this.m_gravity=a;this.m_inv_dt0=0;this.m_contactManager.m_world=this;this.m_groundBody=this.CreateBody(new I)};p.prototype.SetDestructionListener=function(a){this.m_destructionListener=a};p.prototype.SetContactFilter=function(a){this.m_contactManager.m_contactFilter=a};p.prototype.SetContactListener=function(a){this.m_contactManager.m_contactListener=a};p.prototype.SetDebugDraw=function(a){this.m_debugDraw=a};p.prototype.SetBroadPhase=
function(a){var b=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=a;for(var d=this.m_bodyList;d;d=d.m_next)for(var c=d.m_fixtureList;c;c=c.m_next)c.m_proxy=a.CreateProxy(b.GetFatAABB(c.m_proxy),c)};p.prototype.Validate=function(){this.m_contactManager.m_broadPhase.Validate()};p.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()};p.prototype.CreateBody=function(a){if(this.IsLocked()==true)return null;a=new r(a,this);a.m_prev=null;if(a.m_next=
this.m_bodyList)this.m_bodyList.m_prev=a;this.m_bodyList=a;++this.m_bodyCount;return a};p.prototype.DestroyBody=function(a){if(this.IsLocked()!=true){for(var b=a.m_jointList;b;){var d=b,b=b.next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(d.joint);this.DestroyJoint(d.joint)}for(b=a.m_controllerList;b;){d=b;b=b.nextController;d.controller.RemoveBody(a)}for(b=a.m_contactList;b;){d=b;b=b.next;this.m_contactManager.Destroy(d.contact)}a.m_contactList=null;for(b=a.m_fixtureList;b;){d=
b;b=b.m_next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(d);d.DestroyProxy(this.m_contactManager.m_broadPhase);d.Destroy()}a.m_fixtureList=null;a.m_fixtureCount=0;if(a.m_prev)a.m_prev.m_next=a.m_next;if(a.m_next)a.m_next.m_prev=a.m_prev;if(a==this.m_bodyList)this.m_bodyList=a.m_next;--this.m_bodyCount}};p.prototype.CreateJoint=function(a){var b=M.Create(a,null);b.m_prev=null;if(b.m_next=this.m_jointList)this.m_jointList.m_prev=b;this.m_jointList=b;++this.m_jointCount;
b.m_edgeA.joint=b;b.m_edgeA.other=b.m_bodyB;b.m_edgeA.prev=null;if(b.m_edgeA.next=b.m_bodyA.m_jointList)b.m_bodyA.m_jointList.prev=b.m_edgeA;b.m_bodyA.m_jointList=b.m_edgeA;b.m_edgeB.joint=b;b.m_edgeB.other=b.m_bodyA;b.m_edgeB.prev=null;if(b.m_edgeB.next=b.m_bodyB.m_jointList)b.m_bodyB.m_jointList.prev=b.m_edgeB;b.m_bodyB.m_jointList=b.m_edgeB;var d=a.bodyA,c=a.bodyB;if(a.collideConnected==false)for(a=c.GetContactList();a;){a.other==d&&a.contact.FlagForFiltering();a=a.next}return b};p.prototype.DestroyJoint=
function(a){var b=a.m_collideConnected;if(a.m_prev)a.m_prev.m_next=a.m_next;if(a.m_next)a.m_next.m_prev=a.m_prev;if(a==this.m_jointList)this.m_jointList=a.m_next;var d=a.m_bodyA,c=a.m_bodyB;d.SetAwake(true);c.SetAwake(true);if(a.m_edgeA.prev)a.m_edgeA.prev.next=a.m_edgeA.next;if(a.m_edgeA.next)a.m_edgeA.next.prev=a.m_edgeA.prev;if(a.m_edgeA==d.m_jointList)d.m_jointList=a.m_edgeA.next;a.m_edgeA.prev=null;a.m_edgeA.next=null;if(a.m_edgeB.prev)a.m_edgeB.prev.next=a.m_edgeB.next;if(a.m_edgeB.next)a.m_edgeB.next.prev=
a.m_edgeB.prev;if(a.m_edgeB==c.m_jointList)c.m_jointList=a.m_edgeB.next;a.m_edgeB.prev=null;a.m_edgeB.next=null;M.Destroy(a,null);--this.m_jointCount;if(b==false)for(a=c.GetContactList();a;){a.other==d&&a.contact.FlagForFiltering();a=a.next}};p.prototype.AddController=function(a){a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList=a;a.m_world=this;this.m_controllerCount++;return a};p.prototype.RemoveController=function(a){if(a.m_prev)a.m_prev.m_next=a.m_next;if(a.m_next)a.m_next.m_prev=
a.m_prev;if(this.m_controllerList==a)this.m_controllerList=a.m_next;this.m_controllerCount--};p.prototype.CreateController=function(a){if(a.m_world!=this)throw Error("Controller can only be a member of one world");a.m_next=this.m_controllerList;a.m_prev=null;if(this.m_controllerList)this.m_controllerList.m_prev=a;this.m_controllerList=a;++this.m_controllerCount;a.m_world=this;return a};p.prototype.DestroyController=function(a){a.Clear();if(a.m_next)a.m_next.m_prev=a.m_prev;if(a.m_prev)a.m_prev.m_next=
a.m_next;if(a==this.m_controllerList)this.m_controllerList=a.m_next;--this.m_controllerCount};p.prototype.SetWarmStarting=function(a){p.m_warmStarting=a};p.prototype.SetContinuousPhysics=function(a){p.m_continuousPhysics=a};p.prototype.GetBodyCount=function(){return this.m_bodyCount};p.prototype.GetJointCount=function(){return this.m_jointCount};p.prototype.GetContactCount=function(){return this.m_contactCount};p.prototype.SetGravity=function(a){this.m_gravity=a};p.prototype.GetGravity=function(){return this.m_gravity};
p.prototype.GetGroundBody=function(){return this.m_groundBody};p.prototype.Step=function(a,b,d){a===void 0&&(a=0);b===void 0&&(b=0);d===void 0&&(d=0);if(this.m_flags&p.e_newFixture){this.m_contactManager.FindNewContacts();this.m_flags=this.m_flags&~p.e_newFixture}this.m_flags=this.m_flags|p.e_locked;var c=p.s_timestep2;c.dt=a;c.velocityIterations=b;c.positionIterations=d;c.inv_dt=a>0?1/a:0;c.dtRatio=this.m_inv_dt0*a;c.warmStarting=p.m_warmStarting;this.m_contactManager.Collide();c.dt>0&&this.Solve(c);
p.m_continuousPhysics&&c.dt>0&&this.SolveTOI(c);if(c.dt>0)this.m_inv_dt0=c.inv_dt;this.m_flags=this.m_flags&~p.e_locked};p.prototype.ClearForces=function(){for(var a=this.m_bodyList;a;a=a.m_next){a.m_force.SetZero();a.m_torque=0}};p.prototype.DrawDebugData=function(){if(this.m_debugDraw!=null){this.m_debugDraw.m_sprite.graphics.clear();var b=this.m_debugDraw.GetFlags(),g,c,o;new a;new a;new a;var f;new x;new x;new a;new a;new a;new a;var j=new d(0,0,0);if(b&G.e_shapeBit)for(g=this.m_bodyList;g;g=
g.m_next){f=g.m_xf;for(c=g.GetFixtureList();c;c=c.m_next){o=c.GetShape();g.IsActive()==false?j.Set(0.5,0.5,0.3):g.GetType()==r.b2_staticBody?j.Set(0.5,0.9,0.5):g.GetType()==r.b2_kinematicBody?j.Set(0.5,0.5,0.9):g.IsAwake()==false?j.Set(0.6,0.6,0.6):j.Set(0.9,0.7,0.7);this.DrawShape(o,f,j)}}if(b&G.e_jointBit)for(g=this.m_jointList;g;g=g.m_next)this.DrawJoint(g);if(b&G.e_controllerBit)for(g=this.m_controllerList;g;g=g.m_next)g.Draw(this.m_debugDraw);if(b&G.e_pairBit){j.Set(0.3,0.9,0.9);for(g=this.m_contactManager.m_contactList;g;g=
g.GetNext()){o=g.GetFixtureA();c=g.GetFixtureB();o=o.GetAABB().GetCenter();c=c.GetAABB().GetCenter();this.m_debugDraw.DrawSegment(o,c,j)}}if(b&G.e_aabbBit){o=this.m_contactManager.m_broadPhase;f=[new a,new a,new a,new a];for(g=this.m_bodyList;g;g=g.GetNext())if(g.IsActive()!=false)for(c=g.GetFixtureList();c;c=c.GetNext()){var v=o.GetFatAABB(c.m_proxy);f[0].Set(v.lowerBound.x,v.lowerBound.y);f[1].Set(v.upperBound.x,v.lowerBound.y);f[2].Set(v.upperBound.x,v.upperBound.y);f[3].Set(v.lowerBound.x,v.upperBound.y);
this.m_debugDraw.DrawPolygon(f,4,j)}}if(b&G.e_centerOfMassBit)for(g=this.m_bodyList;g;g=g.m_next){f=p.s_xf;f.R=g.m_xf.R;f.position=g.GetWorldCenter();this.m_debugDraw.DrawTransform(f)}}};p.prototype.QueryAABB=function(a,b){var d=this.m_contactManager.m_broadPhase;d.Query(function(b){return a(d.GetUserData(b))},b)};p.prototype.QueryShape=function(a,d,c){c===void 0&&(c=null);if(c==null){c=new b;c.SetIdentity()}var o=this.m_contactManager.m_broadPhase,p=new x;d.ComputeAABB(p,c);o.Query(function(b){b=
o.GetUserData(b)instanceof z?o.GetUserData(b):null;return R.TestOverlap(d,c,b.GetShape(),b.GetBody().GetTransform())?a(b):true},p)};p.prototype.QueryPoint=function(a,b){var d=this.m_contactManager.m_broadPhase,c=new x;c.lowerBound.Set(b.x-j.b2_linearSlop,b.y-j.b2_linearSlop);c.upperBound.Set(b.x+j.b2_linearSlop,b.y+j.b2_linearSlop);d.Query(function(c){c=d.GetUserData(c)instanceof z?d.GetUserData(c):null;return c.TestPoint(b)?a(c):true},c)};p.prototype.RayCast=function(b,d,c){var o=this.m_contactManager.m_broadPhase,
p=new y,f=new t(d,c);o.RayCast(function(f,j){var v=o.GetUserData(j),v=v instanceof z?v:null;if(v.RayCast(p,f)){var k=p.fraction,m=new a((1-k)*d.x+k*c.x,(1-k)*d.y+k*c.y);return b(v,m,p.normal,k)}return f.maxFraction},f)};p.prototype.RayCastOne=function(a,b){var d;this.RayCast(function(a,b,e,g){g===void 0&&(g=0);d=a;return g},a,b);return d};p.prototype.RayCastAll=function(a,b){var d=new Vector;this.RayCast(function(a){d[d.length]=a;return 1},a,b);return d};p.prototype.GetBodyList=function(){return this.m_bodyList};
p.prototype.GetJointList=function(){return this.m_jointList};p.prototype.GetContactList=function(){return this.m_contactList};p.prototype.IsLocked=function(){return(this.m_flags&p.e_locked)>0};p.prototype.Solve=function(a){for(var b,d=this.m_controllerList;d;d=d.m_next)d.Step(a);d=this.m_island;d.Initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver);for(b=this.m_bodyList;b;b=b.m_next)b.m_flags=b.m_flags&~r.e_islandFlag;
for(var c=this.m_contactList;c;c=c.m_next)c.m_flags=c.m_flags&~B.e_islandFlag;for(c=this.m_jointList;c;c=c.m_next)c.m_islandFlag=false;parseInt(this.m_bodyCount);for(var c=this.s_stack,o=this.m_bodyList;o;o=o.m_next)if(!(o.m_flags&r.e_islandFlag)&&!(o.IsAwake()==false||o.IsActive()==false)&&o.GetType()!=r.b2_staticBody){d.Clear();var p=0;c[p++]=o;for(o.m_flags=o.m_flags|r.e_islandFlag;p>0;){b=c[--p];d.AddBody(b);b.IsAwake()==false&&b.SetAwake(true);if(b.GetType()!=r.b2_staticBody){for(var f,j=b.m_contactList;j;j=
j.next)if(!(j.contact.m_flags&B.e_islandFlag)&&!(j.contact.IsSensor()==true||j.contact.IsEnabled()==false||j.contact.IsTouching()==false)){d.AddContact(j.contact);j.contact.m_flags=j.contact.m_flags|B.e_islandFlag;f=j.other;if(!(f.m_flags&r.e_islandFlag)){c[p++]=f;f.m_flags=f.m_flags|r.e_islandFlag}}for(b=b.m_jointList;b;b=b.next)if(b.joint.m_islandFlag!=true){f=b.other;if(f.IsActive()!=false){d.AddJoint(b.joint);b.joint.m_islandFlag=true;if(!(f.m_flags&r.e_islandFlag)){c[p++]=f;f.m_flags=f.m_flags|
r.e_islandFlag}}}}}d.Solve(a,this.m_gravity,this.m_allowSleep);for(p=0;p<d.m_bodyCount;++p){b=d.m_bodies[p];if(b.GetType()==r.b2_staticBody)b.m_flags=b.m_flags&~r.e_islandFlag}}for(p=0;p<c.length;++p){if(!c[p])break;c[p]=null}for(b=this.m_bodyList;b;b=b.m_next)b.IsAwake()==false||b.IsActive()==false||b.GetType()!=r.b2_staticBody&&b.SynchronizeFixtures();this.m_contactManager.FindNewContacts()};p.prototype.SolveTOI=function(a){var b,d,c,o=this.m_island;o.Initialize(this.m_bodyCount,j.b2_maxTOIContactsPerIsland,
j.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);var f=p.s_queue;for(b=this.m_bodyList;b;b=b.m_next){b.m_flags=b.m_flags&~r.e_islandFlag;b.m_sweep.t0=0}for(c=this.m_contactList;c;c=c.m_next)c.m_flags=c.m_flags&~(B.e_toiFlag|B.e_islandFlag);for(c=this.m_jointList;c;c=c.m_next)c.m_islandFlag=false;for(;;){var v=null,k=1;for(c=this.m_contactList;c;c=c.m_next)if(!(c.IsSensor()==true||c.IsEnabled()==false||c.IsContinuous()==false)){if(c.m_flags&B.e_toiFlag)b=
c.m_toi;else{b=c.m_fixtureA;d=c.m_fixtureB;b=b.m_body;d=d.m_body;if((b.GetType()!=r.b2_dynamicBody||b.IsAwake()==false)&&(d.GetType()!=r.b2_dynamicBody||d.IsAwake()==false))continue;var m=b.m_sweep.t0;if(b.m_sweep.t0<d.m_sweep.t0){m=d.m_sweep.t0;b.m_sweep.Advance(m)}else if(d.m_sweep.t0<b.m_sweep.t0){m=b.m_sweep.t0;d.m_sweep.Advance(m)}b=c.ComputeTOI(b.m_sweep,d.m_sweep);j.b2Assert(0<=b&&b<=1);if(b>0&&b<1){b=(1-b)*m+b;b>1&&(b=1)}c.m_toi=b;c.m_flags=c.m_flags|B.e_toiFlag}if(Number.MIN_VALUE<b&&b<k){v=
c;k=b}}if(v==null||1-100*Number.MIN_VALUE<k)break;b=v.m_fixtureA;d=v.m_fixtureB;b=b.m_body;d=d.m_body;p.s_backupA.Set(b.m_sweep);p.s_backupB.Set(d.m_sweep);b.Advance(k);d.Advance(k);v.Update(this.m_contactManager.m_contactListener);v.m_flags=v.m_flags&~B.e_toiFlag;if(v.IsSensor()==true||v.IsEnabled()==false){b.m_sweep.Set(p.s_backupA);d.m_sweep.Set(p.s_backupB);b.SynchronizeTransform();d.SynchronizeTransform()}else if(v.IsTouching()!=false){b.GetType()!=r.b2_dynamicBody&&(b=d);o.Clear();v=c=0;f[c+
v++]=b;for(b.m_flags=b.m_flags|r.e_islandFlag;v>0;){b=f[c++];--v;o.AddBody(b);b.IsAwake()==false&&b.SetAwake(true);if(b.GetType()==r.b2_dynamicBody){for(d=b.m_contactList;d;d=d.next){if(o.m_contactCount==o.m_contactCapacity)break;if(!(d.contact.m_flags&B.e_islandFlag)&&!(d.contact.IsSensor()==true||d.contact.IsEnabled()==false||d.contact.IsTouching()==false)){o.AddContact(d.contact);d.contact.m_flags=d.contact.m_flags|B.e_islandFlag;m=d.other;if(!(m.m_flags&r.e_islandFlag)){if(m.GetType()!=r.b2_staticBody){m.Advance(k);
m.SetAwake(true)}f[c+v]=m;++v;m.m_flags=m.m_flags|r.e_islandFlag}}}for(b=b.m_jointList;b;b=b.next)if(o.m_jointCount!=o.m_jointCapacity&&b.joint.m_islandFlag!=true){m=b.other;if(m.IsActive()!=false){o.AddJoint(b.joint);b.joint.m_islandFlag=true;if(!(m.m_flags&r.e_islandFlag)){if(m.GetType()!=r.b2_staticBody){m.Advance(k);m.SetAwake(true)}f[c+v]=m;++v;m.m_flags=m.m_flags|r.e_islandFlag}}}}}c=p.s_timestep;c.warmStarting=false;c.dt=(1-k)*a.dt;c.inv_dt=1/c.dt;c.dtRatio=0;c.velocityIterations=a.velocityIterations;
c.positionIterations=a.positionIterations;o.SolveTOI(c);for(k=k=0;k<o.m_bodyCount;++k){b=o.m_bodies[k];b.m_flags=b.m_flags&~r.e_islandFlag;if(b.IsAwake()!=false&&b.GetType()==r.b2_dynamicBody){b.SynchronizeFixtures();for(d=b.m_contactList;d;d=d.next)d.contact.m_flags=d.contact.m_flags&~B.e_toiFlag}}for(k=0;k<o.m_contactCount;++k){c=o.m_contacts[k];c.m_flags=c.m_flags&~(B.e_toiFlag|B.e_islandFlag)}for(k=0;k<o.m_jointCount;++k){c=o.m_joints[k];c.m_islandFlag=false}this.m_contactManager.FindNewContacts()}}};
p.prototype.DrawJoint=function(a){var b=a.GetBodyA(),d=a.GetBodyB(),c=b.m_xf.position,o=d.m_xf.position,f=a.GetAnchorA(),j=a.GetAnchorB(),v=p.s_jointColor;switch(a.m_type){case M.e_distanceJoint:this.m_debugDraw.DrawSegment(f,j,v);break;case M.e_pulleyJoint:b=a instanceof U?a:null;a=b.GetGroundAnchorA();b=b.GetGroundAnchorB();this.m_debugDraw.DrawSegment(a,f,v);this.m_debugDraw.DrawSegment(b,j,v);this.m_debugDraw.DrawSegment(a,b,v);break;case M.e_mouseJoint:this.m_debugDraw.DrawSegment(f,j,v);break;
default:b!=this.m_groundBody&&this.m_debugDraw.DrawSegment(c,f,v);this.m_debugDraw.DrawSegment(f,j,v);d!=this.m_groundBody&&this.m_debugDraw.DrawSegment(o,j,v)}};p.prototype.DrawShape=function(a,b,d){switch(a.m_type){case R.e_circleShape:var c=a instanceof s?a:null;this.m_debugDraw.DrawSolidCircle(m.MulX(b,c.m_p),c.m_radius,b.R.col1,d);break;case R.e_polygonShape:for(var c=a instanceof Q?a:null,a=parseInt(c.GetVertexCount()),o=c.GetVertices(),p=new Vector(a),c=0;c<a;++c)p[c]=m.MulX(b,o[c]);this.m_debugDraw.DrawSolidPolygon(p,
a,d);break;case R.e_edgeShape:c=a instanceof u?a:null;this.m_debugDraw.DrawSegment(m.MulX(b,c.GetVertex1()),m.MulX(b,c.GetVertex2()),d)}};myChrome.postDefs.push(function(){myChrome.Dynamics.b2World.s_timestep2=new o;myChrome.Dynamics.b2World.s_xf=new b;myChrome.Dynamics.b2World.s_backupA=new c;myChrome.Dynamics.b2World.s_backupB=new c;myChrome.Dynamics.b2World.s_timestep=new o;myChrome.Dynamics.b2World.s_queue=new Vector;myChrome.Dynamics.b2World.s_jointColor=new d(0.5,0.8,0.8);myChrome.Dynamics.b2World.e_newFixture=
1;myChrome.Dynamics.b2World.e_locked=2})})();
(function(){var m=myChrome.Collision.Shapes.b2CircleShape,c=myChrome.Collision.Shapes.b2EdgeShape,b=myChrome.Collision.Shapes.b2PolygonShape,a=myChrome.Collision.Shapes.b2Shape,d=myChrome.Dynamics.Contacts.b2CircleContact,j=myChrome.Dynamics.Contacts.b2Contact,x=myChrome.Dynamics.Contacts.b2ContactConstraint,k=myChrome.Dynamics.Contacts.b2ContactConstraintPoint,q=myChrome.Dynamics.Contacts.b2ContactEdge,t=myChrome.Dynamics.Contacts.b2ContactFactory,y=myChrome.Dynamics.Contacts.b2ContactRegister,s=
myChrome.Dynamics.Contacts.b2ContactResult,u=myChrome.Dynamics.Contacts.b2ContactSolver,w=myChrome.Dynamics.Contacts.b2EdgeAndCircleContact,Q=myChrome.Dynamics.Contacts.b2NullContact,R=myChrome.Dynamics.Contacts.b2PolyAndCircleContact,r=myChrome.Dynamics.Contacts.b2PolyAndEdgeContact,I=myChrome.Dynamics.Contacts.b2PolygonContact,E=myChrome.Dynamics.Contacts.b2PositionSolverManifold,J=myChrome.Dynamics.b2Body,K=myChrome.Dynamics.b2TimeStep,H=myChrome.Common.b2Settings,G=myChrome.Common.Math.b2Mat22,
T=myChrome.Common.Math.b2Math,L=myChrome.Common.Math.b2Vec2,z=myChrome.Collision.b2Collision,V=myChrome.Collision.b2ContactID,f=myChrome.Collision.b2Manifold,o=myChrome.Collision.b2TimeOfImpact,p=myChrome.Collision.b2TOIInput,B=myChrome.Collision.b2WorldManifold;myChrome.inherit(d,myChrome.Dynamics.Contacts.b2Contact);d.prototype.__super=myChrome.Dynamics.Contacts.b2Contact.prototype;d.b2CircleContact=function(){myChrome.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};d.Create=function(){return new d};
d.Destroy=function(){};d.prototype.Reset=function(a,b){this.__super.Reset.call(this,a,b)};d.prototype.Evaluate=function(){var a=this.m_fixtureA.GetBody(),b=this.m_fixtureB.GetBody();z.CollideCircles(this.m_manifold,this.m_fixtureA.GetShape()instanceof m?this.m_fixtureA.GetShape():null,a.m_xf,this.m_fixtureB.GetShape()instanceof m?this.m_fixtureB.GetShape():null,b.m_xf)};j.b2Contact=function(){this.m_nodeA=new q;this.m_nodeB=new q;this.m_manifold=new f;this.m_oldManifold=new f};j.prototype.GetManifold=
function(){return this.m_manifold};j.prototype.GetWorldManifold=function(a){var b=this.m_fixtureA.GetBody(),d=this.m_fixtureB.GetBody(),c=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape();a.Initialize(this.m_manifold,b.GetTransform(),c.m_radius,d.GetTransform(),e.m_radius)};j.prototype.IsTouching=function(){return(this.m_flags&j.e_touchingFlag)==j.e_touchingFlag};j.prototype.IsContinuous=function(){return(this.m_flags&j.e_continuousFlag)==j.e_continuousFlag};j.prototype.SetSensor=function(a){this.m_flags=
a?this.m_flags|j.e_sensorFlag:this.m_flags&~j.e_sensorFlag};j.prototype.IsSensor=function(){return(this.m_flags&j.e_sensorFlag)==j.e_sensorFlag};j.prototype.SetEnabled=function(a){this.m_flags=a?this.m_flags|j.e_enabledFlag:this.m_flags&~j.e_enabledFlag};j.prototype.IsEnabled=function(){return(this.m_flags&j.e_enabledFlag)==j.e_enabledFlag};j.prototype.GetNext=function(){return this.m_next};j.prototype.GetFixtureA=function(){return this.m_fixtureA};j.prototype.GetFixtureB=function(){return this.m_fixtureB};
j.prototype.FlagForFiltering=function(){this.m_flags=this.m_flags|j.e_filterFlag};j.prototype.b2Contact=function(){};j.prototype.Reset=function(a,b){a===void 0&&(a=null);b===void 0&&(b=null);this.m_flags=j.e_enabledFlag;if(!a||!b)this.m_fixtureB=this.m_fixtureA=null;else{if(a.IsSensor()||b.IsSensor())this.m_flags=this.m_flags|j.e_sensorFlag;var d=a.GetBody(),c=b.GetBody();if(d.GetType()!=J.b2_dynamicBody||d.IsBullet()||c.GetType()!=J.b2_dynamicBody||c.IsBullet())this.m_flags=this.m_flags|j.e_continuousFlag;
this.m_fixtureA=a;this.m_fixtureB=b;this.m_manifold.m_pointCount=0;this.m_next=this.m_prev=null;this.m_nodeA.contact=null;this.m_nodeA.prev=null;this.m_nodeA.next=null;this.m_nodeA.other=null;this.m_nodeB.contact=null;this.m_nodeB.prev=null;this.m_nodeB.next=null;this.m_nodeB.other=null}};j.prototype.Update=function(b){var d=this.m_oldManifold;this.m_oldManifold=this.m_manifold;this.m_manifold=d;this.m_flags=this.m_flags|j.e_enabledFlag;var c=false,d=(this.m_flags&j.e_touchingFlag)==j.e_touchingFlag,
o=this.m_fixtureA.m_body,e=this.m_fixtureB.m_body,g=this.m_fixtureA.m_aabb.TestOverlap(this.m_fixtureB.m_aabb);if(this.m_flags&j.e_sensorFlag){if(g){c=this.m_fixtureA.GetShape();g=this.m_fixtureB.GetShape();o=o.GetTransform();e=e.GetTransform();c=a.TestOverlap(c,o,g,e)}this.m_manifold.m_pointCount=0}else{this.m_flags=o.GetType()!=J.b2_dynamicBody||o.IsBullet()||e.GetType()!=J.b2_dynamicBody||e.IsBullet()?this.m_flags|j.e_continuousFlag:this.m_flags&~j.e_continuousFlag;if(g){this.Evaluate();c=this.m_manifold.m_pointCount>
0;for(g=0;g<this.m_manifold.m_pointCount;++g){var p=this.m_manifold.m_points[g];p.m_normalImpulse=0;p.m_tangentImpulse=0;for(var f=p.m_id,k=0;k<this.m_oldManifold.m_pointCount;++k){var m=this.m_oldManifold.m_points[k];if(m.m_id.key==f.key){p.m_normalImpulse=m.m_normalImpulse;p.m_tangentImpulse=m.m_tangentImpulse;break}}}}else this.m_manifold.m_pointCount=0;if(c!=d){o.SetAwake(true);e.SetAwake(true)}}this.m_flags=c?this.m_flags|j.e_touchingFlag:this.m_flags&~j.e_touchingFlag;d==false&&c==true&&b.BeginContact(this);
d==true&&c==false&&b.EndContact(this);(this.m_flags&j.e_sensorFlag)==0&&b.PreSolve(this,this.m_oldManifold)};j.prototype.Evaluate=function(){};j.prototype.ComputeTOI=function(a,b){j.s_input.proxyA.Set(this.m_fixtureA.GetShape());j.s_input.proxyB.Set(this.m_fixtureB.GetShape());j.s_input.sweepA=a;j.s_input.sweepB=b;j.s_input.tolerance=H.b2_linearSlop;return o.TimeOfImpact(j.s_input)};myChrome.postDefs.push(function(){myChrome.Dynamics.Contacts.b2Contact.e_sensorFlag=1;myChrome.Dynamics.Contacts.b2Contact.e_continuousFlag=
2;myChrome.Dynamics.Contacts.b2Contact.e_islandFlag=4;myChrome.Dynamics.Contacts.b2Contact.e_toiFlag=8;myChrome.Dynamics.Contacts.b2Contact.e_touchingFlag=16;myChrome.Dynamics.Contacts.b2Contact.e_enabledFlag=32;myChrome.Dynamics.Contacts.b2Contact.e_filterFlag=64;myChrome.Dynamics.Contacts.b2Contact.s_input=new p});x.b2ContactConstraint=function(){this.localPlaneNormal=new L;this.localPoint=new L;this.normal=new L;this.normalMass=new G;this.K=new G};x.prototype.b2ContactConstraint=function(){this.points=
new Vector(H.b2_maxManifoldPoints);for(var a=0;a<H.b2_maxManifoldPoints;a++)this.points[a]=new k};k.b2ContactConstraintPoint=function(){this.localPoint=new L;this.rA=new L;this.rB=new L};q.b2ContactEdge=function(){};t.b2ContactFactory=function(){};t.prototype.b2ContactFactory=function(a){this.m_allocator=a;this.InitializeRegisters()};t.prototype.AddType=function(a,b,d,c){d===void 0&&(d=0);c===void 0&&(c=0);this.m_registers[d][c].createFcn=a;this.m_registers[d][c].destroyFcn=b;this.m_registers[d][c].primary=
true;if(d!=c){this.m_registers[c][d].createFcn=a;this.m_registers[c][d].destroyFcn=b;this.m_registers[c][d].primary=false}};t.prototype.InitializeRegisters=function(){this.m_registers=new Vector(a.e_shapeTypeCount);for(var b=0;b<a.e_shapeTypeCount;b++){this.m_registers[b]=new Vector(a.e_shapeTypeCount);for(var c=0;c<a.e_shapeTypeCount;c++)this.m_registers[b][c]=new y}this.AddType(d.Create,d.Destroy,a.e_circleShape,a.e_circleShape);this.AddType(R.Create,R.Destroy,a.e_polygonShape,a.e_circleShape);
this.AddType(I.Create,I.Destroy,a.e_polygonShape,a.e_polygonShape);this.AddType(w.Create,w.Destroy,a.e_edgeShape,a.e_circleShape);this.AddType(r.Create,r.Destroy,a.e_polygonShape,a.e_edgeShape)};t.prototype.Create=function(a,b){var d=parseInt(a.GetType()),c=parseInt(b.GetType()),d=this.m_registers[d][c];if(d.pool){c=d.pool;d.pool=c.m_next;d.poolCount--;c.Reset(a,b);return c}c=d.createFcn;if(c!=null){if(d.primary){c=c(this.m_allocator);c.Reset(a,b)}else{c=c(this.m_allocator);c.Reset(b,a)}return c}return null};
t.prototype.Destroy=function(a){if(a.m_manifold.m_pointCount>0){a.m_fixtureA.m_body.SetAwake(true);a.m_fixtureB.m_body.SetAwake(true)}var b=parseInt(a.m_fixtureA.GetType()),d=parseInt(a.m_fixtureB.GetType()),b=this.m_registers[b][d];b.poolCount++;a.m_next=b.pool;b.pool=a;b=b.destroyFcn;b(a,this.m_allocator)};y.b2ContactRegister=function(){};s.b2ContactResult=function(){this.position=new L;this.normal=new L;this.id=new V};u.b2ContactSolver=function(){this.m_step=new K;this.m_constraints=new Vector};
u.prototype.b2ContactSolver=function(){};u.prototype.Initialize=function(a,b,d,c){d===void 0&&(d=0);var e;this.m_step.Set(a);this.m_allocator=c;for(this.m_constraintCount=d;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new x;for(a=0;a<d;++a){e=b[a];var c=e.m_fixtureA,o=e.m_fixtureB,p=c.m_shape.m_radius,f=o.m_shape.m_radius,j=c.m_body,k=o.m_body,m=e.GetManifold(),B=H.b2MixFriction(c.GetFriction(),o.GetFriction()),q=H.b2MixRestitution(c.GetRestitution(),
o.GetRestitution()),s=j.m_linearVelocity.x,r=j.m_linearVelocity.y,w=k.m_linearVelocity.x,t=k.m_linearVelocity.y,y=j.m_angularVelocity,z=k.m_angularVelocity;H.b2Assert(m.m_pointCount>0);u.s_worldManifold.Initialize(m,j.m_xf,p,k.m_xf,f);o=u.s_worldManifold.m_normal.x;e=u.s_worldManifold.m_normal.y;c=this.m_constraints[a];c.bodyA=j;c.bodyB=k;c.manifold=m;c.normal.x=o;c.normal.y=e;c.pointCount=m.m_pointCount;c.friction=B;c.restitution=q;c.localPlaneNormal.x=m.m_localPlaneNormal.x;c.localPlaneNormal.y=
m.m_localPlaneNormal.y;c.localPoint.x=m.m_localPoint.x;c.localPoint.y=m.m_localPoint.y;c.radius=p+f;c.type=m.m_type;for(p=0;p<c.pointCount;++p){B=m.m_points[p];f=c.points[p];f.normalImpulse=B.m_normalImpulse;f.tangentImpulse=B.m_tangentImpulse;f.localPoint.SetV(B.m_localPoint);var B=f.rA.x=u.s_worldManifold.m_points[p].x-j.m_sweep.c.x,q=f.rA.y=u.s_worldManifold.m_points[p].y-j.m_sweep.c.y,G=f.rB.x=u.s_worldManifold.m_points[p].x-k.m_sweep.c.x,E=f.rB.y=u.s_worldManifold.m_points[p].y-k.m_sweep.c.y,
I=B*e-q*o,J=G*e-E*o,I=I*I,J=J*J;f.normalMass=1/(j.m_invMass+k.m_invMass+j.m_invI*I+k.m_invI*J);var K=j.m_mass*j.m_invMass+k.m_mass*k.m_invMass,K=K+(j.m_mass*j.m_invI*I+k.m_mass*k.m_invI*J);f.equalizedMass=1/K;J=e;K=-o;I=B*K-q*J;J=G*K-E*J;I=I*I;J=J*J;f.tangentMass=1/(j.m_invMass+k.m_invMass+j.m_invI*I+k.m_invI*J);f.velocityBias=0;B=c.normal.x*(w+-z*E-s- -y*q)+c.normal.y*(t+z*G-r-y*B);if(B<-H.b2_velocityThreshold)f.velocityBias=f.velocityBias+-c.restitution*B}if(c.pointCount==2){t=c.points[0];w=c.points[1];
m=j.m_invMass;j=j.m_invI;s=k.m_invMass;k=k.m_invI;r=t.rA.x*e-t.rA.y*o;t=t.rB.x*e-t.rB.y*o;y=w.rA.x*e-w.rA.y*o;w=w.rB.x*e-w.rB.y*o;o=m+s+j*r*r+k*t*t;e=m+s+j*y*y+k*w*w;k=m+s+j*r*y+k*t*w;if(o*o<100*(o*e-k*k)){c.K.col1.Set(o,k);c.K.col2.Set(k,e);c.K.GetInverse(c.normalMass)}else c.pointCount=1}}};u.prototype.InitVelocityConstraints=function(a){for(var b=0;b<this.m_constraintCount;++b){var d=this.m_constraints[b],c=d.bodyA,e=d.bodyB,o=c.m_invMass,p=c.m_invI,f=e.m_invMass,j=e.m_invI,k=d.normal.x,m=d.normal.y,
B=m,q=-k,s=0,r=0;if(a.warmStarting){r=d.pointCount;for(s=0;s<r;++s){var u=d.points[s];u.normalImpulse=u.normalImpulse*a.dtRatio;u.tangentImpulse=u.tangentImpulse*a.dtRatio;var w=u.normalImpulse*k+u.tangentImpulse*B,t=u.normalImpulse*m+u.tangentImpulse*q;c.m_angularVelocity=c.m_angularVelocity-p*(u.rA.x*t-u.rA.y*w);c.m_linearVelocity.x=c.m_linearVelocity.x-o*w;c.m_linearVelocity.y=c.m_linearVelocity.y-o*t;e.m_angularVelocity=e.m_angularVelocity+j*(u.rB.x*t-u.rB.y*w);e.m_linearVelocity.x=e.m_linearVelocity.x+
f*w;e.m_linearVelocity.y=e.m_linearVelocity.y+f*t}}else{r=d.pointCount;for(s=0;s<r;++s){c=d.points[s];c.normalImpulse=0;c.tangentImpulse=0}}}};u.prototype.SolveVelocityConstraints=function(){for(var a=0,b,d=0,c=0,e=0,o=0,p=0,f=0,j=0,k,m=0;m<this.m_constraintCount;++m){var e=this.m_constraints[m],B=e.bodyA,q=e.bodyB,s=B.m_angularVelocity,r=q.m_angularVelocity,u=B.m_linearVelocity,w=q.m_linearVelocity,t=B.m_invMass,x=B.m_invI,y=q.m_invMass,z=q.m_invI,f=e.normal.x,H=j=e.normal.y;k=-f;p=e.friction;for(a=
0;a<e.pointCount;a++){b=e.points[a];d=w.x-r*b.rB.y-u.x+s*b.rA.y;c=w.y+r*b.rB.x-u.y-s*b.rA.x;d=d*H+c*k;d=b.tangentMass*-d;c=p*b.normalImpulse;c=T.Clamp(b.tangentImpulse+d,-c,c);d=c-b.tangentImpulse;o=d*H;d=d*k;u.x=u.x-t*o;u.y=u.y-t*d;s=s-x*(b.rA.x*d-b.rA.y*o);w.x=w.x+y*o;w.y=w.y+y*d;r=r+z*(b.rB.x*d-b.rB.y*o);b.tangentImpulse=c}parseInt(e.pointCount);if(e.pointCount==1){b=e.points[0];d=w.x+-r*b.rB.y-u.x- -s*b.rA.y;c=w.y+r*b.rB.x-u.y-s*b.rA.x;e=d*f+c*j;d=-b.normalMass*(e-b.velocityBias);c=b.normalImpulse+
d;c=c>0?c:0;d=c-b.normalImpulse;o=d*f;d=d*j;u.x=u.x-t*o;u.y=u.y-t*d;s=s-x*(b.rA.x*d-b.rA.y*o);w.x=w.x+y*o;w.y=w.y+y*d;r=r+z*(b.rB.x*d-b.rB.y*o);b.normalImpulse=c}else{b=e.points[0];var a=e.points[1],d=b.normalImpulse,p=a.normalImpulse,G=(w.x-r*b.rB.y-u.x+s*b.rA.y)*f+(w.y+r*b.rB.x-u.y-s*b.rA.x)*j,E=(w.x-r*a.rB.y-u.x+s*a.rA.y)*f+(w.y+r*a.rB.x-u.y-s*a.rA.x)*j,c=G-b.velocityBias,o=E-a.velocityBias;k=e.K;c=c-(k.col1.x*d+k.col2.x*p);for(o=o-(k.col1.y*d+k.col2.y*p);;){k=e.normalMass;H=-(k.col1.x*c+k.col2.x*
o);k=-(k.col1.y*c+k.col2.y*o);if(H>=0&&k>=0){d=H-d;p=k-p;e=d*f;d=d*j;f=p*f;j=p*j;u.x=u.x-t*(e+f);u.y=u.y-t*(d+j);s=s-x*(b.rA.x*d-b.rA.y*e+a.rA.x*j-a.rA.y*f);w.x=w.x+y*(e+f);w.y=w.y+y*(d+j);r=r+z*(b.rB.x*d-b.rB.y*e+a.rB.x*j-a.rB.y*f);b.normalImpulse=H;a.normalImpulse=k;break}H=-b.normalMass*c;k=0;E=e.K.col1.y*H+o;if(H>=0&&E>=0){d=H-d;p=k-p;e=d*f;d=d*j;f=p*f;j=p*j;u.x=u.x-t*(e+f);u.y=u.y-t*(d+j);s=s-x*(b.rA.x*d-b.rA.y*e+a.rA.x*j-a.rA.y*f);w.x=w.x+y*(e+f);w.y=w.y+y*(d+j);r=r+z*(b.rB.x*d-b.rB.y*e+a.rB.x*
j-a.rB.y*f);b.normalImpulse=H;a.normalImpulse=k;break}H=0;k=-a.normalMass*o;G=e.K.col2.x*k+c;if(k>=0&&G>=0){d=H-d;p=k-p;e=d*f;d=d*j;f=p*f;j=p*j;u.x=u.x-t*(e+f);u.y=u.y-t*(d+j);s=s-x*(b.rA.x*d-b.rA.y*e+a.rA.x*j-a.rA.y*f);w.x=w.x+y*(e+f);w.y=w.y+y*(d+j);r=r+z*(b.rB.x*d-b.rB.y*e+a.rB.x*j-a.rB.y*f);b.normalImpulse=H;a.normalImpulse=k;break}k=H=0;G=c;E=o;if(G>=0&&E>=0){d=H-d;p=k-p;e=d*f;d=d*j;f=p*f;j=p*j;u.x=u.x-t*(e+f);u.y=u.y-t*(d+j);s=s-x*(b.rA.x*d-b.rA.y*e+a.rA.x*j-a.rA.y*f);w.x=w.x+y*(e+f);w.y=w.y+
y*(d+j);r=r+z*(b.rB.x*d-b.rB.y*e+a.rB.x*j-a.rB.y*f);b.normalImpulse=H;a.normalImpulse=k;break}break}}B.m_angularVelocity=s;q.m_angularVelocity=r}};u.prototype.FinalizeVelocityConstraints=function(){for(var a=0;a<this.m_constraintCount;++a)for(var b=this.m_constraints[a],d=b.manifold,c=0;c<b.pointCount;++c){var e=d.m_points[c],o=b.points[c];e.m_normalImpulse=o.normalImpulse;e.m_tangentImpulse=o.tangentImpulse}};u.prototype.SolvePositionConstraints=function(a){a===void 0&&(a=0);for(var b=0,d=0;d<this.m_constraintCount;d++){var c=
this.m_constraints[d],e=c.bodyA,o=c.bodyB,p=e.m_mass*e.m_invMass,f=e.m_mass*e.m_invI,j=o.m_mass*o.m_invMass,k=o.m_mass*o.m_invI;u.s_psm.Initialize(c);for(var m=u.s_psm.m_normal,B=0;B<c.pointCount;B++){var q=c.points[B],s=u.s_psm.m_points[B],r=u.s_psm.m_separations[B],w=s.x-e.m_sweep.c.x,t=s.y-e.m_sweep.c.y,x=s.x-o.m_sweep.c.x,s=s.y-o.m_sweep.c.y,b=b<r?b:r,r=T.Clamp(a*(r+H.b2_linearSlop),-H.b2_maxLinearCorrection,0),r=-q.equalizedMass*r,q=r*m.x,r=r*m.y;e.m_sweep.c.x=e.m_sweep.c.x-p*q;e.m_sweep.c.y=
e.m_sweep.c.y-p*r;e.m_sweep.a=e.m_sweep.a-f*(w*r-t*q);e.SynchronizeTransform();o.m_sweep.c.x=o.m_sweep.c.x+j*q;o.m_sweep.c.y=o.m_sweep.c.y+j*r;o.m_sweep.a=o.m_sweep.a+k*(x*r-s*q);o.SynchronizeTransform()}}return b>-1.5*H.b2_linearSlop};myChrome.postDefs.push(function(){myChrome.Dynamics.Contacts.b2ContactSolver.s_worldManifold=new B;myChrome.Dynamics.Contacts.b2ContactSolver.s_psm=new E});myChrome.inherit(w,myChrome.Dynamics.Contacts.b2Contact);w.prototype.__super=myChrome.Dynamics.Contacts.b2Contact.prototype;
w.b2EdgeAndCircleContact=function(){myChrome.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};w.Create=function(){return new w};w.Destroy=function(){};w.prototype.Reset=function(a,b){this.__super.Reset.call(this,a,b)};w.prototype.Evaluate=function(){var a=this.m_fixtureA.GetBody(),b=this.m_fixtureB.GetBody();this.b2CollideEdgeAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof c?this.m_fixtureA.GetShape():null,a.m_xf,this.m_fixtureB.GetShape()instanceof m?this.m_fixtureB.GetShape():
null,b.m_xf)};w.prototype.b2CollideEdgeAndCircle=function(){};myChrome.inherit(Q,myChrome.Dynamics.Contacts.b2Contact);Q.prototype.__super=myChrome.Dynamics.Contacts.b2Contact.prototype;Q.b2NullContact=function(){myChrome.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};Q.prototype.b2NullContact=function(){this.__super.b2Contact.call(this)};Q.prototype.Evaluate=function(){};myChrome.inherit(R,myChrome.Dynamics.Contacts.b2Contact);R.prototype.__super=myChrome.Dynamics.Contacts.b2Contact.prototype;
R.b2PolyAndCircleContact=function(){myChrome.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};R.Create=function(){return new R};R.Destroy=function(){};R.prototype.Reset=function(b,d){this.__super.Reset.call(this,b,d);H.b2Assert(b.GetType()==a.e_polygonShape);H.b2Assert(d.GetType()==a.e_circleShape)};R.prototype.Evaluate=function(){var a=this.m_fixtureA.m_body,d=this.m_fixtureB.m_body;z.CollidePolygonAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof b?this.m_fixtureA.GetShape():
null,a.m_xf,this.m_fixtureB.GetShape()instanceof m?this.m_fixtureB.GetShape():null,d.m_xf)};myChrome.inherit(r,myChrome.Dynamics.Contacts.b2Contact);r.prototype.__super=myChrome.Dynamics.Contacts.b2Contact.prototype;r.b2PolyAndEdgeContact=function(){myChrome.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};r.Create=function(){return new r};r.Destroy=function(){};r.prototype.Reset=function(b,d){this.__super.Reset.call(this,b,d);H.b2Assert(b.GetType()==a.e_polygonShape);H.b2Assert(d.GetType()==
a.e_edgeShape)};r.prototype.Evaluate=function(){var a=this.m_fixtureA.GetBody(),d=this.m_fixtureB.GetBody();this.b2CollidePolyAndEdge(this.m_manifold,this.m_fixtureA.GetShape()instanceof b?this.m_fixtureA.GetShape():null,a.m_xf,this.m_fixtureB.GetShape()instanceof c?this.m_fixtureB.GetShape():null,d.m_xf)};r.prototype.b2CollidePolyAndEdge=function(){};myChrome.inherit(I,myChrome.Dynamics.Contacts.b2Contact);I.prototype.__super=myChrome.Dynamics.Contacts.b2Contact.prototype;I.b2PolygonContact=function(){myChrome.Dynamics.Contacts.b2Contact.b2Contact.apply(this,
arguments)};I.Create=function(){return new I};I.Destroy=function(){};I.prototype.Reset=function(a,b){this.__super.Reset.call(this,a,b)};I.prototype.Evaluate=function(){var a=this.m_fixtureA.GetBody(),d=this.m_fixtureB.GetBody();z.CollidePolygons(this.m_manifold,this.m_fixtureA.GetShape()instanceof b?this.m_fixtureA.GetShape():null,a.m_xf,this.m_fixtureB.GetShape()instanceof b?this.m_fixtureB.GetShape():null,d.m_xf)};E.b2PositionSolverManifold=function(){};E.prototype.b2PositionSolverManifold=function(){this.m_normal=
new L;this.m_separations=new Vector_a2j_Number(H.b2_maxManifoldPoints);this.m_points=new Vector(H.b2_maxManifoldPoints);for(var a=0;a<H.b2_maxManifoldPoints;a++)this.m_points[a]=new L};E.prototype.Initialize=function(a){H.b2Assert(a.pointCount>0);var b=0,d=0,c=0,e,o=0,p=0;switch(a.type){case f.e_circles:e=a.bodyA.m_xf.R;c=a.localPoint;b=a.bodyA.m_xf.position.x+(e.col1.x*c.x+e.col2.x*c.y);d=a.bodyA.m_xf.position.y+(e.col1.y*c.x+e.col2.y*c.y);e=a.bodyB.m_xf.R;c=a.points[0].localPoint;o=a.bodyB.m_xf.position.x+
(e.col1.x*c.x+e.col2.x*c.y);e=a.bodyB.m_xf.position.y+(e.col1.y*c.x+e.col2.y*c.y);var c=o-b,p=e-d,j=c*c+p*p;if(j>Number.MIN_VALUE*Number.MIN_VALUE){j=Math.sqrt(j);this.m_normal.x=c/j;this.m_normal.y=p/j}else{this.m_normal.x=1;this.m_normal.y=0}this.m_points[0].x=0.5*(b+o);this.m_points[0].y=0.5*(d+e);this.m_separations[0]=c*this.m_normal.x+p*this.m_normal.y-a.radius;break;case f.e_faceA:e=a.bodyA.m_xf.R;c=a.localPlaneNormal;this.m_normal.x=e.col1.x*c.x+e.col2.x*c.y;this.m_normal.y=e.col1.y*c.x+e.col2.y*
c.y;e=a.bodyA.m_xf.R;c=a.localPoint;o=a.bodyA.m_xf.position.x+(e.col1.x*c.x+e.col2.x*c.y);p=a.bodyA.m_xf.position.y+(e.col1.y*c.x+e.col2.y*c.y);e=a.bodyB.m_xf.R;for(b=0;b<a.pointCount;++b){c=a.points[b].localPoint;d=a.bodyB.m_xf.position.x+(e.col1.x*c.x+e.col2.x*c.y);c=a.bodyB.m_xf.position.y+(e.col1.y*c.x+e.col2.y*c.y);this.m_separations[b]=(d-o)*this.m_normal.x+(c-p)*this.m_normal.y-a.radius;this.m_points[b].x=d;this.m_points[b].y=c}break;case f.e_faceB:e=a.bodyB.m_xf.R;c=a.localPlaneNormal;this.m_normal.x=
e.col1.x*c.x+e.col2.x*c.y;this.m_normal.y=e.col1.y*c.x+e.col2.y*c.y;e=a.bodyB.m_xf.R;c=a.localPoint;o=a.bodyB.m_xf.position.x+(e.col1.x*c.x+e.col2.x*c.y);p=a.bodyB.m_xf.position.y+(e.col1.y*c.x+e.col2.y*c.y);e=a.bodyA.m_xf.R;for(b=0;b<a.pointCount;++b){c=a.points[b].localPoint;d=a.bodyA.m_xf.position.x+(e.col1.x*c.x+e.col2.x*c.y);c=a.bodyA.m_xf.position.y+(e.col1.y*c.x+e.col2.y*c.y);this.m_separations[b]=(d-o)*this.m_normal.x+(c-p)*this.m_normal.y-a.radius;this.m_points[b].Set(d,c)}this.m_normal.x=
this.m_normal.x*-1;this.m_normal.y=this.m_normal.y*-1}};myChrome.postDefs.push(function(){myChrome.Dynamics.Contacts.b2PositionSolverManifold.circlePointA=new L;myChrome.Dynamics.Contacts.b2PositionSolverManifold.circlePointB=new L})})();
(function(){var m=myChrome.Common.Math.b2Mat22,c=myChrome.Common.Math.b2Math,b=myChrome.Common.Math.b2Vec2,a=myChrome.Common.b2Color,d=myChrome.Dynamics.Controllers.b2BuoyancyController,j=myChrome.Dynamics.Controllers.b2ConstantAccelController,x=myChrome.Dynamics.Controllers.b2ConstantForceController,k=myChrome.Dynamics.Controllers.b2Controller,q=myChrome.Dynamics.Controllers.b2ControllerEdge,t=myChrome.Dynamics.Controllers.b2GravityController,y=myChrome.Dynamics.Controllers.b2TensorDampingController;
myChrome.inherit(d,myChrome.Dynamics.Controllers.b2Controller);d.prototype.__super=myChrome.Dynamics.Controllers.b2Controller.prototype;d.b2BuoyancyController=function(){myChrome.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.normal=new b(0,-1);this.density=this.offset=0;this.velocity=new b(0,0);this.linearDrag=2;this.angularDrag=1;this.useDensity=false;this.useWorldGravity=true;this.gravity=null};d.prototype.Step=function(){if(this.m_bodyList){if(this.useWorldGravity)this.gravity=
this.GetWorld().GetGravity().Copy();for(var a=this.m_bodyList;a;a=a.nextBody){var d=a.body;if(d.IsAwake()!=false){for(var c=new b,j=new b,k=0,m=0,q=d.GetFixtureList();q;q=q.GetNext()){var t=new b,x=q.GetShape().ComputeSubmergedArea(this.normal,this.offset,d.GetTransform(),t),k=k+x;c.x=c.x+x*t.x;c.y=c.y+x*t.y;var y=0,y=1,m=m+x*y;j.x=j.x+x*t.x*y;j.y=j.y+x*t.y*y}c.x=c.x/k;c.y=c.y/k;j.x=j.x/m;j.y=j.y/m;if(!(k<Number.MIN_VALUE)){m=this.gravity.GetNegative();m.Multiply(this.density*k);d.ApplyForce(m,j);
j=d.GetLinearVelocityFromWorldPoint(c);j.Subtract(this.velocity);j.Multiply(-this.linearDrag*k);d.ApplyForce(j,c);d.ApplyTorque(-d.GetInertia()/d.GetMass()*k*d.GetAngularVelocity()*this.angularDrag)}}}}};d.prototype.Draw=function(d){var c=new b,j=new b;c.x=this.normal.x*this.offset+this.normal.y*1E3;c.y=this.normal.y*this.offset-this.normal.x*1E3;j.x=this.normal.x*this.offset-this.normal.y*1E3;j.y=this.normal.y*this.offset+this.normal.x*1E3;var k=new a(0,0,1);d.DrawSegment(c,j,k)};myChrome.inherit(j,
myChrome.Dynamics.Controllers.b2Controller);j.prototype.__super=myChrome.Dynamics.Controllers.b2Controller.prototype;j.b2ConstantAccelController=function(){myChrome.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.A=new b(0,0)};j.prototype.Step=function(a){for(var a=new b(this.A.x*a.dt,this.A.y*a.dt),d=this.m_bodyList;d;d=d.nextBody){var c=d.body;c.IsAwake()&&c.SetLinearVelocity(new b(c.GetLinearVelocity().x+a.x,c.GetLinearVelocity().y+a.y))}};myChrome.inherit(x,myChrome.Dynamics.Controllers.b2Controller);
x.prototype.__super=myChrome.Dynamics.Controllers.b2Controller.prototype;x.b2ConstantForceController=function(){myChrome.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.F=new b(0,0)};x.prototype.Step=function(){for(var a=this.m_bodyList;a;a=a.nextBody){var b=a.body;b.IsAwake()&&b.ApplyForce(this.F,b.GetWorldCenter())}};k.b2Controller=function(){};k.prototype.Step=function(){};k.prototype.Draw=function(){};k.prototype.AddBody=function(a){var b=new q;b.controller=this;b.body=
a;b.nextBody=this.m_bodyList;b.prevBody=null;this.m_bodyList=b;if(b.nextBody)b.nextBody.prevBody=b;this.m_bodyCount++;b.nextController=a.m_controllerList;b.prevController=null;a.m_controllerList=b;if(b.nextController)b.nextController.prevController=b;a.m_controllerCount++};k.prototype.RemoveBody=function(a){for(var b=a.m_controllerList;b&&b.controller!=this;)b=b.nextController;if(b.prevBody)b.prevBody.nextBody=b.nextBody;if(b.nextBody)b.nextBody.prevBody=b.prevBody;if(b.nextController)b.nextController.prevController=
b.prevController;if(b.prevController)b.prevController.nextController=b.nextController;if(this.m_bodyList==b)this.m_bodyList=b.nextBody;if(a.m_controllerList==b)a.m_controllerList=b.nextController;a.m_controllerCount--;this.m_bodyCount--};k.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body)};k.prototype.GetNext=function(){return this.m_next};k.prototype.GetWorld=function(){return this.m_world};k.prototype.GetBodyList=function(){return this.m_bodyList};q.b2ControllerEdge=
function(){};myChrome.inherit(t,myChrome.Dynamics.Controllers.b2Controller);t.prototype.__super=myChrome.Dynamics.Controllers.b2Controller.prototype;t.b2GravityController=function(){myChrome.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.G=1;this.invSqr=true};t.prototype.Step=function(){var a=null,d=null,c=null,j=0,k=null,m=null,q=null,t=0,x=0,y=0;if(this.invSqr)for(a=this.m_bodyList;a;a=a.nextBody){d=a.body;c=d.GetWorldCenter();j=d.GetMass();for(k=this.m_bodyList;k!=a;k=
k.nextBody){m=k.body;q=m.GetWorldCenter();t=q.x-c.x;x=q.y-c.y;y=t*t+x*x;if(!(y<Number.MIN_VALUE)){t=new b(t,x);t.Multiply(this.G/y/Math.sqrt(y)*j*m.GetMass());d.IsAwake()&&d.ApplyForce(t,c);t.Multiply(-1);m.IsAwake()&&m.ApplyForce(t,q)}}}else for(a=this.m_bodyList;a;a=a.nextBody){d=a.body;c=d.GetWorldCenter();j=d.GetMass();for(k=this.m_bodyList;k!=a;k=k.nextBody){m=k.body;q=m.GetWorldCenter();t=q.x-c.x;x=q.y-c.y;y=t*t+x*x;if(!(y<Number.MIN_VALUE)){t=new b(t,x);t.Multiply(this.G/y*j*m.GetMass());d.IsAwake()&&
d.ApplyForce(t,c);t.Multiply(-1);m.IsAwake()&&m.ApplyForce(t,q)}}}};myChrome.inherit(y,myChrome.Dynamics.Controllers.b2Controller);y.prototype.__super=myChrome.Dynamics.Controllers.b2Controller.prototype;y.b2TensorDampingController=function(){myChrome.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.T=new m;this.maxTimestep=0};y.prototype.SetAxisAligned=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);this.T.col1.x=-a;this.T.col1.y=0;this.T.col2.x=0;this.T.col2.y=-b;this.maxTimestep=
a>0||b>0?1/Math.max(a,b):0};y.prototype.Step=function(a){a=a.dt;if(!(a<=Number.MIN_VALUE)){if(a>this.maxTimestep&&this.maxTimestep>0)a=this.maxTimestep;for(var d=this.m_bodyList;d;d=d.nextBody){var j=d.body;if(j.IsAwake()){var k=j.GetWorldVector(c.MulMV(this.T,j.GetLocalVector(j.GetLinearVelocity())));j.SetLinearVelocity(new b(j.GetLinearVelocity().x+k.x*a,j.GetLinearVelocity().y+k.y*a))}}}}})();
(function(){var m=myChrome.Common.b2Settings,c=myChrome.Common.Math.b2Mat22,b=myChrome.Common.Math.b2Mat33,a=myChrome.Common.Math.b2Math,d=myChrome.Common.Math.b2Vec2,j=myChrome.Common.Math.b2Vec3,x=myChrome.Dynamics.Joints.b2DistanceJoint,k=myChrome.Dynamics.Joints.b2DistanceJointDef,q=myChrome.Dynamics.Joints.b2FrictionJoint,t=myChrome.Dynamics.Joints.b2FrictionJointDef,y=myChrome.Dynamics.Joints.b2GearJoint,s=myChrome.Dynamics.Joints.b2GearJointDef,u=myChrome.Dynamics.Joints.b2Jacobian,w=myChrome.Dynamics.Joints.b2Joint,
Q=myChrome.Dynamics.Joints.b2JointDef,R=myChrome.Dynamics.Joints.b2JointEdge,r=myChrome.Dynamics.Joints.b2LineJoint,I=myChrome.Dynamics.Joints.b2LineJointDef,E=myChrome.Dynamics.Joints.b2MouseJoint,J=myChrome.Dynamics.Joints.b2MouseJointDef,K=myChrome.Dynamics.Joints.b2PrismaticJoint,H=myChrome.Dynamics.Joints.b2PrismaticJointDef,G=myChrome.Dynamics.Joints.b2PulleyJoint,T=myChrome.Dynamics.Joints.b2PulleyJointDef,L=myChrome.Dynamics.Joints.b2RevoluteJoint,z=myChrome.Dynamics.Joints.b2RevoluteJointDef,
V=myChrome.Dynamics.Joints.b2WeldJoint,f=myChrome.Dynamics.Joints.b2WeldJointDef;myChrome.inherit(x,myChrome.Dynamics.Joints.b2Joint);x.prototype.__super=myChrome.Dynamics.Joints.b2Joint.prototype;x.b2DistanceJoint=function(){myChrome.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_u=new d};x.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};x.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};
x.prototype.GetReactionForce=function(a){a===void 0&&(a=0);return new d(a*this.m_impulse*this.m_u.x,a*this.m_impulse*this.m_u.y)};x.prototype.GetReactionTorque=function(){return 0};x.prototype.GetLength=function(){return this.m_length};x.prototype.SetLength=function(a){a===void 0&&(a=0);this.m_length=a};x.prototype.GetFrequency=function(){return this.m_frequencyHz};x.prototype.SetFrequency=function(a){a===void 0&&(a=0);this.m_frequencyHz=a};x.prototype.GetDampingRatio=function(){return this.m_dampingRatio};
x.prototype.SetDampingRatio=function(a){a===void 0&&(a=0);this.m_dampingRatio=a};x.prototype.b2DistanceJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchor1.SetV(a.localAnchorA);this.m_localAnchor2.SetV(a.localAnchorB);this.m_length=a.length;this.m_frequencyHz=a.frequencyHz;this.m_dampingRatio=a.dampingRatio;this.m_bias=this.m_gamma=this.m_impulse=0};x.prototype.InitVelocityConstraints=function(a){var b,d=0,c=this.m_bodyA,f=this.m_bodyB;b=c.m_xf.R;var j=this.m_localAnchor1.x-c.m_sweep.localCenter.x,
k=this.m_localAnchor1.y-c.m_sweep.localCenter.y,d=b.col1.x*j+b.col2.x*k,k=b.col1.y*j+b.col2.y*k,j=d;b=f.m_xf.R;var e=this.m_localAnchor2.x-f.m_sweep.localCenter.x,g=this.m_localAnchor2.y-f.m_sweep.localCenter.y,d=b.col1.x*e+b.col2.x*g,g=b.col1.y*e+b.col2.y*g,e=d;this.m_u.x=f.m_sweep.c.x+e-c.m_sweep.c.x-j;this.m_u.y=f.m_sweep.c.y+g-c.m_sweep.c.y-k;d=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);d>m.b2_linearSlop?this.m_u.Multiply(1/d):this.m_u.SetZero();b=j*this.m_u.y-k*this.m_u.x;var q=e*
this.m_u.y-g*this.m_u.x;b=c.m_invMass+c.m_invI*b*b+f.m_invMass+f.m_invI*q*q;this.m_mass=b!=0?1/b:0;if(this.m_frequencyHz>0){var d=d-this.m_length,q=2*Math.PI*this.m_frequencyHz,l=this.m_mass*q*q;this.m_gamma=a.dt*(2*this.m_mass*this.m_dampingRatio*q+a.dt*l);this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0;this.m_bias=d*a.dt*l*this.m_gamma;this.m_mass=b+this.m_gamma;this.m_mass=this.m_mass!=0?1/this.m_mass:0}if(a.warmStarting){this.m_impulse=this.m_impulse*a.dtRatio;a=this.m_impulse*this.m_u.x;b=this.m_impulse*
this.m_u.y;c.m_linearVelocity.x=c.m_linearVelocity.x-c.m_invMass*a;c.m_linearVelocity.y=c.m_linearVelocity.y-c.m_invMass*b;c.m_angularVelocity=c.m_angularVelocity-c.m_invI*(j*b-k*a);f.m_linearVelocity.x=f.m_linearVelocity.x+f.m_invMass*a;f.m_linearVelocity.y=f.m_linearVelocity.y+f.m_invMass*b;f.m_angularVelocity=f.m_angularVelocity+f.m_invI*(e*b-g*a)}else this.m_impulse=0};x.prototype.SolveVelocityConstraints=function(){var a,b=this.m_bodyA,d=this.m_bodyB;a=b.m_xf.R;var c=this.m_localAnchor1.x-b.m_sweep.localCenter.x,
f=this.m_localAnchor1.y-b.m_sweep.localCenter.y,j=a.col1.x*c+a.col2.x*f,f=a.col1.y*c+a.col2.y*f,c=j;a=d.m_xf.R;var k=this.m_localAnchor2.x-d.m_sweep.localCenter.x,e=this.m_localAnchor2.y-d.m_sweep.localCenter.y,j=a.col1.x*k+a.col2.x*e,e=a.col1.y*k+a.col2.y*e,k=j,j=-this.m_mass*(this.m_u.x*(d.m_linearVelocity.x+-d.m_angularVelocity*e-(b.m_linearVelocity.x+-b.m_angularVelocity*f))+this.m_u.y*(d.m_linearVelocity.y+d.m_angularVelocity*k-(b.m_linearVelocity.y+b.m_angularVelocity*c))+this.m_bias+this.m_gamma*
this.m_impulse);this.m_impulse=this.m_impulse+j;a=j*this.m_u.x;j=j*this.m_u.y;b.m_linearVelocity.x=b.m_linearVelocity.x-b.m_invMass*a;b.m_linearVelocity.y=b.m_linearVelocity.y-b.m_invMass*j;b.m_angularVelocity=b.m_angularVelocity-b.m_invI*(c*j-f*a);d.m_linearVelocity.x=d.m_linearVelocity.x+d.m_invMass*a;d.m_linearVelocity.y=d.m_linearVelocity.y+d.m_invMass*j;d.m_angularVelocity=d.m_angularVelocity+d.m_invI*(k*j-e*a)};x.prototype.SolvePositionConstraints=function(){var b;if(this.m_frequencyHz>0)return true;
var d=this.m_bodyA,c=this.m_bodyB;b=d.m_xf.R;var f=this.m_localAnchor1.x-d.m_sweep.localCenter.x,j=this.m_localAnchor1.y-d.m_sweep.localCenter.y,k=b.col1.x*f+b.col2.x*j,j=b.col1.y*f+b.col2.y*j,f=k;b=c.m_xf.R;var q=this.m_localAnchor2.x-c.m_sweep.localCenter.x,e=this.m_localAnchor2.y-c.m_sweep.localCenter.y,k=b.col1.x*q+b.col2.x*e,e=b.col1.y*q+b.col2.y*e,q=k,k=c.m_sweep.c.x+q-d.m_sweep.c.x-f,g=c.m_sweep.c.y+e-d.m_sweep.c.y-j;b=Math.sqrt(k*k+g*g);k=k/b;g=g/b;b=b-this.m_length;b=a.Clamp(b,-m.b2_maxLinearCorrection,
m.b2_maxLinearCorrection);var r=-this.m_mass*b;this.m_u.Set(k,g);k=r*this.m_u.x;g=r*this.m_u.y;d.m_sweep.c.x=d.m_sweep.c.x-d.m_invMass*k;d.m_sweep.c.y=d.m_sweep.c.y-d.m_invMass*g;d.m_sweep.a=d.m_sweep.a-d.m_invI*(f*g-j*k);c.m_sweep.c.x=c.m_sweep.c.x+c.m_invMass*k;c.m_sweep.c.y=c.m_sweep.c.y+c.m_invMass*g;c.m_sweep.a=c.m_sweep.a+c.m_invI*(q*g-e*k);d.SynchronizeTransform();c.SynchronizeTransform();return a.Abs(b)<m.b2_linearSlop};myChrome.inherit(k,myChrome.Dynamics.Joints.b2JointDef);k.prototype.__super=
myChrome.Dynamics.Joints.b2JointDef.prototype;k.b2DistanceJointDef=function(){myChrome.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=new d};k.prototype.b2DistanceJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_distanceJoint;this.length=1;this.dampingRatio=this.frequencyHz=0};k.prototype.Initialize=function(a,b,d,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.SetV(this.bodyA.GetLocalPoint(d));this.localAnchorB.SetV(this.bodyB.GetLocalPoint(c));
a=c.x-d.x;d=c.y-d.y;this.length=Math.sqrt(a*a+d*d);this.dampingRatio=this.frequencyHz=0};myChrome.inherit(q,myChrome.Dynamics.Joints.b2Joint);q.prototype.__super=myChrome.Dynamics.Joints.b2Joint.prototype;q.b2FrictionJoint=function(){myChrome.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchorA=new d;this.m_localAnchorB=new d;this.m_linearMass=new c;this.m_linearImpulse=new d};q.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)};q.prototype.GetAnchorB=
function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)};q.prototype.GetReactionForce=function(a){a===void 0&&(a=0);return new d(a*this.m_linearImpulse.x,a*this.m_linearImpulse.y)};q.prototype.GetReactionTorque=function(a){a===void 0&&(a=0);return a*this.m_angularImpulse};q.prototype.SetMaxForce=function(a){a===void 0&&(a=0);this.m_maxForce=a};q.prototype.GetMaxForce=function(){return this.m_maxForce};q.prototype.SetMaxTorque=function(a){a===void 0&&(a=0);this.m_maxTorque=a};q.prototype.GetMaxTorque=
function(){return this.m_maxTorque};q.prototype.b2FrictionJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchorA.SetV(a.localAnchorA);this.m_localAnchorB.SetV(a.localAnchorB);this.m_linearMass.SetZero();this.m_angularMass=0;this.m_linearImpulse.SetZero();this.m_angularImpulse=0;this.m_maxForce=a.maxForce;this.m_maxTorque=a.maxTorque};q.prototype.InitVelocityConstraints=function(a){var b,d=0,f=this.m_bodyA,j=this.m_bodyB;b=f.m_xf.R;var k=this.m_localAnchorA.x-f.m_sweep.localCenter.x,
m=this.m_localAnchorA.y-f.m_sweep.localCenter.y,d=b.col1.x*k+b.col2.x*m,m=b.col1.y*k+b.col2.y*m,k=d;b=j.m_xf.R;var e=this.m_localAnchorB.x-j.m_sweep.localCenter.x,g=this.m_localAnchorB.y-j.m_sweep.localCenter.y,d=b.col1.x*e+b.col2.x*g,g=b.col1.y*e+b.col2.y*g,e=d;b=f.m_invMass;var d=j.m_invMass,q=f.m_invI,l=j.m_invI,r=new c;r.col1.x=b+d;r.col2.x=0;r.col1.y=0;r.col2.y=b+d;r.col1.x=r.col1.x+q*m*m;r.col2.x=r.col2.x+-q*k*m;r.col1.y=r.col1.y+-q*k*m;r.col2.y=r.col2.y+q*k*k;r.col1.x=r.col1.x+l*g*g;r.col2.x=
r.col2.x+-l*e*g;r.col1.y=r.col1.y+-l*e*g;r.col2.y=r.col2.y+l*e*e;r.GetInverse(this.m_linearMass);this.m_angularMass=q+l;if(this.m_angularMass>0)this.m_angularMass=1/this.m_angularMass;if(a.warmStarting){this.m_linearImpulse.x=this.m_linearImpulse.x*a.dtRatio;this.m_linearImpulse.y=this.m_linearImpulse.y*a.dtRatio;this.m_angularImpulse=this.m_angularImpulse*a.dtRatio;a=this.m_linearImpulse;f.m_linearVelocity.x=f.m_linearVelocity.x-b*a.x;f.m_linearVelocity.y=f.m_linearVelocity.y-b*a.y;f.m_angularVelocity=
f.m_angularVelocity-q*(k*a.y-m*a.x+this.m_angularImpulse);j.m_linearVelocity.x=j.m_linearVelocity.x+d*a.x;j.m_linearVelocity.y=j.m_linearVelocity.y+d*a.y;j.m_angularVelocity=j.m_angularVelocity+l*(e*a.y-g*a.x+this.m_angularImpulse)}else{this.m_linearImpulse.SetZero();this.m_angularImpulse=0}};q.prototype.SolveVelocityConstraints=function(b){var c,f=0,j=this.m_bodyA,k=this.m_bodyB,m=j.m_linearVelocity,q=j.m_angularVelocity,e=k.m_linearVelocity,g=k.m_angularVelocity,r=j.m_invMass,l=k.m_invMass,s=j.m_invI,
t=k.m_invI;c=j.m_xf.R;var w=this.m_localAnchorA.x-j.m_sweep.localCenter.x,x=this.m_localAnchorA.y-j.m_sweep.localCenter.y,f=c.col1.x*w+c.col2.x*x,x=c.col1.y*w+c.col2.y*x,w=f;c=k.m_xf.R;var u=this.m_localAnchorB.x-k.m_sweep.localCenter.x,y=this.m_localAnchorB.y-k.m_sweep.localCenter.y,f=c.col1.x*u+c.col2.x*y,y=c.col1.y*u+c.col2.y*y,u=f,f=-this.m_angularMass*(g-q),z=this.m_angularImpulse;c=b.dt*this.m_maxTorque;this.m_angularImpulse=a.Clamp(this.m_angularImpulse+f,-c,c);f=this.m_angularImpulse-z;q=
q-s*f;g=g+t*f;c=a.MulMV(this.m_linearMass,new d(-(e.x-g*y-m.x+q*x),-(e.y+g*u-m.y-q*w)));f=this.m_linearImpulse.Copy();this.m_linearImpulse.Add(c);c=b.dt*this.m_maxForce;if(this.m_linearImpulse.LengthSquared()>c*c){this.m_linearImpulse.Normalize();this.m_linearImpulse.Multiply(c)}c=a.SubtractVV(this.m_linearImpulse,f);m.x=m.x-r*c.x;m.y=m.y-r*c.y;q=q-s*(w*c.y-x*c.x);e.x=e.x+l*c.x;e.y=e.y+l*c.y;g=g+t*(u*c.y-y*c.x);j.m_angularVelocity=q;k.m_angularVelocity=g};q.prototype.SolvePositionConstraints=function(){return true};
myChrome.inherit(t,myChrome.Dynamics.Joints.b2JointDef);t.prototype.__super=myChrome.Dynamics.Joints.b2JointDef.prototype;t.b2FrictionJointDef=function(){myChrome.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=new d};t.prototype.b2FrictionJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_frictionJoint;this.maxTorque=this.maxForce=0};t.prototype.Initialize=function(a,b,d){this.bodyA=a;this.bodyB=b;this.localAnchorA.SetV(this.bodyA.GetLocalPoint(d));
this.localAnchorB.SetV(this.bodyB.GetLocalPoint(d))};myChrome.inherit(y,myChrome.Dynamics.Joints.b2Joint);y.prototype.__super=myChrome.Dynamics.Joints.b2Joint.prototype;y.b2GearJoint=function(){myChrome.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_groundAnchor1=new d;this.m_groundAnchor2=new d;this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_J=new u};y.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};y.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};
y.prototype.GetReactionForce=function(a){a===void 0&&(a=0);return new d(a*this.m_impulse*this.m_J.linearB.x,a*this.m_impulse*this.m_J.linearB.y)};y.prototype.GetReactionTorque=function(a){a===void 0&&(a=0);var b=this.m_bodyB.m_xf.R,d=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,c=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,f=b.col1.x*d+b.col2.x*c,c=b.col1.y*d+b.col2.y*c;return a*(this.m_impulse*this.m_J.angularB-f*this.m_impulse*this.m_J.linearB.y+c*this.m_impulse*this.m_J.linearB.x)};
y.prototype.GetRatio=function(){return this.m_ratio};y.prototype.SetRatio=function(a){a===void 0&&(a=0);this.m_ratio=a};y.prototype.b2GearJoint=function(a){this.__super.b2Joint.call(this,a);var b=parseInt(a.joint1.m_type),d=parseInt(a.joint2.m_type);this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null;var c=0,f=0;this.m_ground1=a.joint1.GetBodyA();this.m_bodyA=a.joint1.GetBodyB();if(b==w.e_revoluteJoint){this.m_revolute1=a.joint1 instanceof L?a.joint1:null;this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1);
this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2);c=this.m_revolute1.GetJointAngle()}else{this.m_prismatic1=a.joint1 instanceof K?a.joint1:null;this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1);this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2);c=this.m_prismatic1.GetJointTranslation()}this.m_ground2=a.joint2.GetBodyA();this.m_bodyB=a.joint2.GetBodyB();if(d==w.e_revoluteJoint){this.m_revolute2=a.joint2 instanceof L?a.joint2:null;this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1);
this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2);f=this.m_revolute2.GetJointAngle()}else{this.m_prismatic2=a.joint2 instanceof K?a.joint2:null;this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1);this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2);f=this.m_prismatic2.GetJointTranslation()}this.m_ratio=a.ratio;this.m_constant=c+this.m_ratio*f;this.m_impulse=0};y.prototype.InitVelocityConstraints=function(a){var b=this.m_ground1,d=this.m_ground2,c=this.m_bodyA,f=this.m_bodyB,
j=0,k=0,e=0,g=0,m=0,l=0;this.m_J.SetZero();if(this.m_revolute1){this.m_J.angularA=-1;l=l+c.m_invI}else{b=b.m_xf.R;k=this.m_prismatic1.m_localXAxis1;j=b.col1.x*k.x+b.col2.x*k.y;k=b.col1.y*k.x+b.col2.y*k.y;b=c.m_xf.R;e=this.m_localAnchor1.x-c.m_sweep.localCenter.x;g=this.m_localAnchor1.y-c.m_sweep.localCenter.y;m=b.col1.x*e+b.col2.x*g;g=b.col1.y*e+b.col2.y*g;e=m*k-g*j;this.m_J.linearA.Set(-j,-k);this.m_J.angularA=-e;l=l+(c.m_invMass+c.m_invI*e*e)}if(this.m_revolute2){this.m_J.angularB=-this.m_ratio;
l=l+this.m_ratio*this.m_ratio*f.m_invI}else{b=d.m_xf.R;k=this.m_prismatic2.m_localXAxis1;j=b.col1.x*k.x+b.col2.x*k.y;k=b.col1.y*k.x+b.col2.y*k.y;b=f.m_xf.R;e=this.m_localAnchor2.x-f.m_sweep.localCenter.x;g=this.m_localAnchor2.y-f.m_sweep.localCenter.y;m=b.col1.x*e+b.col2.x*g;g=b.col1.y*e+b.col2.y*g;e=m*k-g*j;this.m_J.linearB.Set(-this.m_ratio*j,-this.m_ratio*k);this.m_J.angularB=-this.m_ratio*e;l=l+this.m_ratio*this.m_ratio*(f.m_invMass+f.m_invI*e*e)}this.m_mass=l>0?1/l:0;if(a.warmStarting){c.m_linearVelocity.x=
c.m_linearVelocity.x+c.m_invMass*this.m_impulse*this.m_J.linearA.x;c.m_linearVelocity.y=c.m_linearVelocity.y+c.m_invMass*this.m_impulse*this.m_J.linearA.y;c.m_angularVelocity=c.m_angularVelocity+c.m_invI*this.m_impulse*this.m_J.angularA;f.m_linearVelocity.x=f.m_linearVelocity.x+f.m_invMass*this.m_impulse*this.m_J.linearB.x;f.m_linearVelocity.y=f.m_linearVelocity.y+f.m_invMass*this.m_impulse*this.m_J.linearB.y;f.m_angularVelocity=f.m_angularVelocity+f.m_invI*this.m_impulse*this.m_J.angularB}else this.m_impulse=
0};y.prototype.SolveVelocityConstraints=function(){var a=this.m_bodyA,b=this.m_bodyB,d=-this.m_mass*this.m_J.Compute(a.m_linearVelocity,a.m_angularVelocity,b.m_linearVelocity,b.m_angularVelocity);this.m_impulse=this.m_impulse+d;a.m_linearVelocity.x=a.m_linearVelocity.x+a.m_invMass*d*this.m_J.linearA.x;a.m_linearVelocity.y=a.m_linearVelocity.y+a.m_invMass*d*this.m_J.linearA.y;a.m_angularVelocity=a.m_angularVelocity+a.m_invI*d*this.m_J.angularA;b.m_linearVelocity.x=b.m_linearVelocity.x+b.m_invMass*
d*this.m_J.linearB.x;b.m_linearVelocity.y=b.m_linearVelocity.y+b.m_invMass*d*this.m_J.linearB.y;b.m_angularVelocity=b.m_angularVelocity+b.m_invI*d*this.m_J.angularB};y.prototype.SolvePositionConstraints=function(){var a=this.m_bodyA,b=this.m_bodyB,d=0,c=0,d=this.m_revolute1?this.m_revolute1.GetJointAngle():this.m_prismatic1.GetJointTranslation(),c=this.m_revolute2?this.m_revolute2.GetJointAngle():this.m_prismatic2.GetJointTranslation(),d=-this.m_mass*(this.m_constant-(d+this.m_ratio*c));a.m_sweep.c.x=
a.m_sweep.c.x+a.m_invMass*d*this.m_J.linearA.x;a.m_sweep.c.y=a.m_sweep.c.y+a.m_invMass*d*this.m_J.linearA.y;a.m_sweep.a=a.m_sweep.a+a.m_invI*d*this.m_J.angularA;b.m_sweep.c.x=b.m_sweep.c.x+b.m_invMass*d*this.m_J.linearB.x;b.m_sweep.c.y=b.m_sweep.c.y+b.m_invMass*d*this.m_J.linearB.y;b.m_sweep.a=b.m_sweep.a+b.m_invI*d*this.m_J.angularB;a.SynchronizeTransform();b.SynchronizeTransform();return 0<m.b2_linearSlop};myChrome.inherit(s,myChrome.Dynamics.Joints.b2JointDef);s.prototype.__super=myChrome.Dynamics.Joints.b2JointDef.prototype;
s.b2GearJointDef=function(){myChrome.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments)};s.prototype.b2GearJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_gearJoint;this.joint2=this.joint1=null;this.ratio=1};u.b2Jacobian=function(){this.linearA=new d;this.linearB=new d};u.prototype.SetZero=function(){this.linearA.SetZero();this.angularA=0;this.linearB.SetZero();this.angularB=0};u.prototype.Set=function(a,b,d,c){b===void 0&&(b=0);c===void 0&&(c=0);this.linearA.SetV(a);
this.angularA=b;this.linearB.SetV(d);this.angularB=c};u.prototype.Compute=function(a,b,d,c){b===void 0&&(b=0);c===void 0&&(c=0);return this.linearA.x*a.x+this.linearA.y*a.y+this.angularA*b+(this.linearB.x*d.x+this.linearB.y*d.y)+this.angularB*c};w.b2Joint=function(){this.m_edgeA=new R;this.m_edgeB=new R;this.m_localCenterA=new d;this.m_localCenterB=new d};w.prototype.GetType=function(){return this.m_type};w.prototype.GetAnchorA=function(){return null};w.prototype.GetAnchorB=function(){return null};
w.prototype.GetReactionForce=function(){return null};w.prototype.GetReactionTorque=function(){return 0};w.prototype.GetBodyA=function(){return this.m_bodyA};w.prototype.GetBodyB=function(){return this.m_bodyB};w.prototype.GetNext=function(){return this.m_next};w.prototype.GetUserData=function(){return this.m_userData};w.prototype.SetUserData=function(a){this.m_userData=a};w.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()};w.Create=function(a){var b=null;switch(a.type){case w.e_distanceJoint:b=
new x(a instanceof k?a:null);break;case w.e_mouseJoint:b=new E(a instanceof J?a:null);break;case w.e_prismaticJoint:b=new K(a instanceof H?a:null);break;case w.e_revoluteJoint:b=new L(a instanceof z?a:null);break;case w.e_pulleyJoint:b=new G(a instanceof T?a:null);break;case w.e_gearJoint:b=new y(a instanceof s?a:null);break;case w.e_lineJoint:b=new r(a instanceof I?a:null);break;case w.e_weldJoint:b=new V(a instanceof f?a:null);break;case w.e_frictionJoint:b=new q(a instanceof t?a:null)}return b};
w.Destroy=function(){};w.prototype.b2Joint=function(a){m.b2Assert(a.bodyA!=a.bodyB);this.m_type=a.type;this.m_next=this.m_prev=null;this.m_bodyA=a.bodyA;this.m_bodyB=a.bodyB;this.m_collideConnected=a.collideConnected;this.m_islandFlag=false;this.m_userData=a.userData};w.prototype.InitVelocityConstraints=function(){};w.prototype.SolveVelocityConstraints=function(){};w.prototype.FinalizeVelocityConstraints=function(){};w.prototype.SolvePositionConstraints=function(){return false};myChrome.postDefs.push(function(){myChrome.Dynamics.Joints.b2Joint.e_unknownJoint=
0;myChrome.Dynamics.Joints.b2Joint.e_revoluteJoint=1;myChrome.Dynamics.Joints.b2Joint.e_prismaticJoint=2;myChrome.Dynamics.Joints.b2Joint.e_distanceJoint=3;myChrome.Dynamics.Joints.b2Joint.e_pulleyJoint=4;myChrome.Dynamics.Joints.b2Joint.e_mouseJoint=5;myChrome.Dynamics.Joints.b2Joint.e_gearJoint=6;myChrome.Dynamics.Joints.b2Joint.e_lineJoint=7;myChrome.Dynamics.Joints.b2Joint.e_weldJoint=8;myChrome.Dynamics.Joints.b2Joint.e_frictionJoint=9;myChrome.Dynamics.Joints.b2Joint.e_inactiveLimit=0;myChrome.Dynamics.Joints.b2Joint.e_atLowerLimit=
1;myChrome.Dynamics.Joints.b2Joint.e_atUpperLimit=2;myChrome.Dynamics.Joints.b2Joint.e_equalLimits=3});Q.b2JointDef=function(){};Q.prototype.b2JointDef=function(){this.type=w.e_unknownJoint;this.bodyB=this.bodyA=this.userData=null;this.collideConnected=false};R.b2JointEdge=function(){};myChrome.inherit(r,myChrome.Dynamics.Joints.b2Joint);r.prototype.__super=myChrome.Dynamics.Joints.b2Joint.prototype;r.b2LineJoint=function(){myChrome.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=
new d;this.m_localAnchor2=new d;this.m_localXAxis1=new d;this.m_localYAxis1=new d;this.m_axis=new d;this.m_perp=new d;this.m_K=new c;this.m_impulse=new d};r.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};r.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};r.prototype.GetReactionForce=function(a){a===void 0&&(a=0);return new d(a*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),a*(this.m_impulse.x*
this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))};r.prototype.GetReactionTorque=function(a){a===void 0&&(a=0);return a*this.m_impulse.y};r.prototype.GetJointTranslation=function(){var a=this.m_bodyA,b=this.m_bodyB,d=a.GetWorldPoint(this.m_localAnchor1),c=b.GetWorldPoint(this.m_localAnchor2),b=c.x-d.x,d=c.y-d.y,a=a.GetWorldVector(this.m_localXAxis1);return a.x*b+a.y*d};r.prototype.GetJointSpeed=function(){var a=this.m_bodyA,b=this.m_bodyB,d;d=a.m_xf.R;var c=this.m_localAnchor1.x-
a.m_sweep.localCenter.x,f=this.m_localAnchor1.y-a.m_sweep.localCenter.y,j=d.col1.x*c+d.col2.x*f,f=d.col1.y*c+d.col2.y*f,c=j;d=b.m_xf.R;var k=this.m_localAnchor2.x-b.m_sweep.localCenter.x,e=this.m_localAnchor2.y-b.m_sweep.localCenter.y,j=d.col1.x*k+d.col2.x*e,e=d.col1.y*k+d.col2.y*e,k=j;d=b.m_sweep.c.x+k-(a.m_sweep.c.x+c);var j=b.m_sweep.c.y+e-(a.m_sweep.c.y+f),g=a.GetWorldVector(this.m_localXAxis1),m=a.m_linearVelocity,l=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return d*-a*g.y+
j*a*g.x+(g.x*(l.x+-b*e-m.x- -a*f)+g.y*(l.y+b*k-m.y-a*c))};r.prototype.IsLimitEnabled=function(){return this.m_enableLimit};r.prototype.EnableLimit=function(a){this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);this.m_enableLimit=a};r.prototype.GetLowerLimit=function(){return this.m_lowerTranslation};r.prototype.GetUpperLimit=function(){return this.m_upperTranslation};r.prototype.SetLimits=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);
this.m_lowerTranslation=a;this.m_upperTranslation=b};r.prototype.IsMotorEnabled=function(){return this.m_enableMotor};r.prototype.EnableMotor=function(a){this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);this.m_enableMotor=a};r.prototype.SetMotorSpeed=function(a){a===void 0&&(a=0);this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);this.m_motorSpeed=a};r.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};r.prototype.SetMaxMotorForce=function(a){a===void 0&&(a=0);this.m_bodyA.SetAwake(true);
this.m_bodyB.SetAwake(true);this.m_maxMotorForce=a};r.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce};r.prototype.GetMotorForce=function(){return this.m_motorImpulse};r.prototype.b2LineJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchor1.SetV(a.localAnchorA);this.m_localAnchor2.SetV(a.localAnchorB);this.m_localXAxis1.SetV(a.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_impulse.SetZero();this.m_motorImpulse=
this.m_motorMass=0;this.m_lowerTranslation=a.lowerTranslation;this.m_upperTranslation=a.upperTranslation;this.m_maxMotorForce=a.maxMotorForce;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=w.e_inactiveLimit;this.m_axis.SetZero();this.m_perp.SetZero()};r.prototype.InitVelocityConstraints=function(b){var d=this.m_bodyA,c=this.m_bodyB,f,j=0;this.m_localCenterA.SetV(d.GetLocalCenter());this.m_localCenterB.SetV(c.GetLocalCenter());var k=
d.GetTransform();c.GetTransform();f=d.m_xf.R;var q=this.m_localAnchor1.x-this.m_localCenterA.x,e=this.m_localAnchor1.y-this.m_localCenterA.y,j=f.col1.x*q+f.col2.x*e,e=f.col1.y*q+f.col2.y*e,q=j;f=c.m_xf.R;var g=this.m_localAnchor2.x-this.m_localCenterB.x,r=this.m_localAnchor2.y-this.m_localCenterB.y,j=f.col1.x*g+f.col2.x*r,r=f.col1.y*g+f.col2.y*r,g=j;f=c.m_sweep.c.x+g-d.m_sweep.c.x-q;j=c.m_sweep.c.y+r-d.m_sweep.c.y-e;this.m_invMassA=d.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=d.m_invI;this.m_invIB=
c.m_invI;this.m_axis.SetV(a.MulMV(k.R,this.m_localXAxis1));this.m_a1=(f+q)*this.m_axis.y-(j+e)*this.m_axis.x;this.m_a2=g*this.m_axis.y-r*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0;this.m_perp.SetV(a.MulMV(k.R,this.m_localYAxis1));this.m_s1=(f+q)*this.m_perp.y-(j+e)*this.m_perp.x;this.m_s2=g*this.m_perp.y-r*this.m_perp.x;k=this.m_invMassA;q=this.m_invMassB;
e=this.m_invIA;g=this.m_invIB;this.m_K.col1.x=k+q+e*this.m_s1*this.m_s1+g*this.m_s2*this.m_s2;this.m_K.col1.y=e*this.m_s1*this.m_a1+g*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=k+q+e*this.m_a1*this.m_a1+g*this.m_a2*this.m_a2;if(this.m_enableLimit){f=this.m_axis.x*f+this.m_axis.y*j;if(a.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*m.b2_linearSlop)this.m_limitState=w.e_equalLimits;else if(f<=this.m_lowerTranslation){if(this.m_limitState!=w.e_atLowerLimit){this.m_limitState=
w.e_atLowerLimit;this.m_impulse.y=0}}else if(f>=this.m_upperTranslation){if(this.m_limitState!=w.e_atUpperLimit){this.m_limitState=w.e_atUpperLimit;this.m_impulse.y=0}}else{this.m_limitState=w.e_inactiveLimit;this.m_impulse.y=0}}else this.m_limitState=w.e_inactiveLimit;if(this.m_enableMotor==false)this.m_motorImpulse=0;if(b.warmStarting){this.m_impulse.x=this.m_impulse.x*b.dtRatio;this.m_impulse.y=this.m_impulse.y*b.dtRatio;this.m_motorImpulse=this.m_motorImpulse*b.dtRatio;b=this.m_impulse.x*this.m_perp.x+
(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x;f=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y;j=this.m_impulse.x*this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1;k=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2;d.m_linearVelocity.x=d.m_linearVelocity.x-this.m_invMassA*b;d.m_linearVelocity.y=d.m_linearVelocity.y-this.m_invMassA*f;d.m_angularVelocity=d.m_angularVelocity-this.m_invIA*j;c.m_linearVelocity.x=c.m_linearVelocity.x+
this.m_invMassB*b;c.m_linearVelocity.y=c.m_linearVelocity.y+this.m_invMassB*f;c.m_angularVelocity=c.m_angularVelocity+this.m_invIB*k}else{this.m_impulse.SetZero();this.m_motorImpulse=0}};r.prototype.SolveVelocityConstraints=function(b){var c=this.m_bodyA,f=this.m_bodyB,j=c.m_linearVelocity,k=c.m_angularVelocity,m=f.m_linearVelocity,q=f.m_angularVelocity,e=0,g=0,r=0,l=0;if(this.m_enableMotor&&this.m_limitState!=w.e_equalLimits){l=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(m.x-j.x)+this.m_axis.y*
(m.y-j.y)+this.m_a2*q-this.m_a1*k));e=this.m_motorImpulse;g=b.dt*this.m_maxMotorForce;this.m_motorImpulse=a.Clamp(this.m_motorImpulse+l,-g,g);l=this.m_motorImpulse-e;e=l*this.m_axis.x;g=l*this.m_axis.y;r=l*this.m_a1;l=l*this.m_a2;j.x=j.x-this.m_invMassA*e;j.y=j.y-this.m_invMassA*g;k=k-this.m_invIA*r;m.x=m.x+this.m_invMassB*e;m.y=m.y+this.m_invMassB*g;q=q+this.m_invIB*l}g=this.m_perp.x*(m.x-j.x)+this.m_perp.y*(m.y-j.y)+this.m_s2*q-this.m_s1*k;if(this.m_enableLimit&&this.m_limitState!=w.e_inactiveLimit){r=
this.m_axis.x*(m.x-j.x)+this.m_axis.y*(m.y-j.y)+this.m_a2*q-this.m_a1*k;e=this.m_impulse.Copy();b=this.m_K.Solve(new d,-g,-r);this.m_impulse.Add(b);if(this.m_limitState==w.e_atLowerLimit)this.m_impulse.y=a.Max(this.m_impulse.y,0);else if(this.m_limitState==w.e_atUpperLimit)this.m_impulse.y=a.Min(this.m_impulse.y,0);g=-g-(this.m_impulse.y-e.y)*this.m_K.col2.x;r=this.m_K.col1.x!=0?g/this.m_K.col1.x+e.x:e.x;this.m_impulse.x=r;b.x=this.m_impulse.x-e.x;b.y=this.m_impulse.y-e.y;e=b.x*this.m_perp.x+b.y*
this.m_axis.x;g=b.x*this.m_perp.y+b.y*this.m_axis.y;r=b.x*this.m_s1+b.y*this.m_a1;l=b.x*this.m_s2+b.y*this.m_a2}else{b=this.m_K.col1.x!=0?-g/this.m_K.col1.x:0;this.m_impulse.x=this.m_impulse.x+b;e=b*this.m_perp.x;g=b*this.m_perp.y;r=b*this.m_s1;l=b*this.m_s2}j.x=j.x-this.m_invMassA*e;j.y=j.y-this.m_invMassA*g;k=k-this.m_invIA*r;m.x=m.x+this.m_invMassB*e;m.y=m.y+this.m_invMassB*g;q=q+this.m_invIB*l;c.m_linearVelocity.SetV(j);c.m_angularVelocity=k;f.m_linearVelocity.SetV(m);f.m_angularVelocity=q};r.prototype.SolvePositionConstraints=
function(){var b=this.m_bodyA,f=this.m_bodyB,j=b.m_sweep.c,k=b.m_sweep.a,q=f.m_sweep.c,r=f.m_sweep.a,s,e=0,g=0,A=0,l=0,t=0,w=0,g=false,x=0,u=c.FromAngle(k),A=c.FromAngle(r);s=u;var w=this.m_localAnchor1.x-this.m_localCenterA.x,y=this.m_localAnchor1.y-this.m_localCenterA.y,e=s.col1.x*w+s.col2.x*y,y=s.col1.y*w+s.col2.y*y,w=e;s=A;A=this.m_localAnchor2.x-this.m_localCenterB.x;l=this.m_localAnchor2.y-this.m_localCenterB.y;e=s.col1.x*A+s.col2.x*l;l=s.col1.y*A+s.col2.y*l;A=e;s=q.x+A-j.x-w;e=q.y+l-j.y-y;
if(this.m_enableLimit){this.m_axis=a.MulMV(u,this.m_localXAxis1);this.m_a1=(s+w)*this.m_axis.y-(e+y)*this.m_axis.x;this.m_a2=A*this.m_axis.y-l*this.m_axis.x;var z=this.m_axis.x*s+this.m_axis.y*e;if(a.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*m.b2_linearSlop){x=a.Clamp(z,-m.b2_maxLinearCorrection,m.b2_maxLinearCorrection);t=a.Abs(z);g=true}else if(z<=this.m_lowerTranslation){x=a.Clamp(z-this.m_lowerTranslation+m.b2_linearSlop,-m.b2_maxLinearCorrection,0);t=this.m_lowerTranslation-z;g=
true}else if(z>=this.m_upperTranslation){x=a.Clamp(z-this.m_upperTranslation+m.b2_linearSlop,0,m.b2_maxLinearCorrection);t=z-this.m_upperTranslation;g=true}}this.m_perp=a.MulMV(u,this.m_localYAxis1);this.m_s1=(s+w)*this.m_perp.y-(e+y)*this.m_perp.x;this.m_s2=A*this.m_perp.y-l*this.m_perp.x;u=new d;y=this.m_perp.x*s+this.m_perp.y*e;t=a.Max(t,a.Abs(y));w=0;if(g){g=this.m_invMassA;A=this.m_invMassB;l=this.m_invIA;s=this.m_invIB;this.m_K.col1.x=g+A+l*this.m_s1*this.m_s1+s*this.m_s2*this.m_s2;this.m_K.col1.y=
l*this.m_s1*this.m_a1+s*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=g+A+l*this.m_a1*this.m_a1+s*this.m_a2*this.m_a2;this.m_K.Solve(u,-y,-x)}else{g=this.m_invMassA;A=this.m_invMassB;l=this.m_invIA;s=this.m_invIB;x=g+A+l*this.m_s1*this.m_s1+s*this.m_s2*this.m_s2;u.x=x!=0?-y/x:0;u.y=0}x=u.x*this.m_perp.x+u.y*this.m_axis.x;g=u.x*this.m_perp.y+u.y*this.m_axis.y;y=u.x*this.m_s1+u.y*this.m_a1;u=u.x*this.m_s2+u.y*this.m_a2;j.x=j.x-this.m_invMassA*x;j.y=j.y-this.m_invMassA*g;k=k-this.m_invIA*
y;q.x=q.x+this.m_invMassB*x;q.y=q.y+this.m_invMassB*g;r=r+this.m_invIB*u;b.m_sweep.a=k;f.m_sweep.a=r;b.SynchronizeTransform();f.SynchronizeTransform();return t<=m.b2_linearSlop&&w<=m.b2_angularSlop};myChrome.inherit(I,myChrome.Dynamics.Joints.b2JointDef);I.prototype.__super=myChrome.Dynamics.Joints.b2JointDef.prototype;I.b2LineJointDef=function(){myChrome.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=new d;this.localAxisA=new d};I.prototype.b2LineJointDef=
function(){this.__super.b2JointDef.call(this);this.type=w.e_lineJoint;this.localAxisA.Set(1,0);this.enableLimit=false;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=false;this.motorSpeed=this.maxMotorForce=0};I.prototype.Initialize=function(a,b,d,c){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.GetLocalPoint(d);this.localAnchorB=this.bodyB.GetLocalPoint(d);this.localAxisA=this.bodyA.GetLocalVector(c)};myChrome.inherit(E,myChrome.Dynamics.Joints.b2Joint);E.prototype.__super=
myChrome.Dynamics.Joints.b2Joint.prototype;E.b2MouseJoint=function(){myChrome.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.K=new c;this.K1=new c;this.K2=new c;this.m_localAnchor=new d;this.m_target=new d;this.m_impulse=new d;this.m_mass=new c;this.m_C=new d};E.prototype.GetAnchorA=function(){return this.m_target};E.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor)};E.prototype.GetReactionForce=function(a){a===void 0&&(a=0);return new d(a*this.m_impulse.x,
a*this.m_impulse.y)};E.prototype.GetReactionTorque=function(){return 0};E.prototype.GetTarget=function(){return this.m_target};E.prototype.SetTarget=function(a){this.m_bodyB.IsAwake()==false&&this.m_bodyB.SetAwake(true);this.m_target=a};E.prototype.GetMaxForce=function(){return this.m_maxForce};E.prototype.SetMaxForce=function(a){a===void 0&&(a=0);this.m_maxForce=a};E.prototype.GetFrequency=function(){return this.m_frequencyHz};E.prototype.SetFrequency=function(a){a===void 0&&(a=0);this.m_frequencyHz=
a};E.prototype.GetDampingRatio=function(){return this.m_dampingRatio};E.prototype.SetDampingRatio=function(a){a===void 0&&(a=0);this.m_dampingRatio=a};E.prototype.b2MouseJoint=function(a){this.__super.b2Joint.call(this,a);this.m_target.SetV(a.target);var b=this.m_target.x-this.m_bodyB.m_xf.position.x,d=this.m_target.y-this.m_bodyB.m_xf.position.y,c=this.m_bodyB.m_xf.R;this.m_localAnchor.x=b*c.col1.x+d*c.col1.y;this.m_localAnchor.y=b*c.col2.x+d*c.col2.y;this.m_maxForce=a.maxForce;this.m_impulse.SetZero();
this.m_frequencyHz=a.frequencyHz;this.m_dampingRatio=a.dampingRatio;this.m_gamma=this.m_beta=0};E.prototype.InitVelocityConstraints=function(a){var b=this.m_bodyB,d=b.GetMass(),c=2*Math.PI*this.m_frequencyHz,f=d*c*c;this.m_gamma=a.dt*(2*d*this.m_dampingRatio*c+a.dt*f);this.m_gamma=this.m_gamma!=0?1/this.m_gamma:0;this.m_beta=a.dt*f*this.m_gamma;var f=b.m_xf.R,d=this.m_localAnchor.x-b.m_sweep.localCenter.x,c=this.m_localAnchor.y-b.m_sweep.localCenter.y,j=f.col1.x*d+f.col2.x*c,c=f.col1.y*d+f.col2.y*
c,d=j,f=b.m_invMass,j=b.m_invI;this.K1.col1.x=f;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=f;this.K2.col1.x=j*c*c;this.K2.col2.x=-j*d*c;this.K2.col1.y=-j*d*c;this.K2.col2.y=j*d*d;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.col1.x=this.K.col1.x+this.m_gamma;this.K.col2.y=this.K.col2.y+this.m_gamma;this.K.GetInverse(this.m_mass);this.m_C.x=b.m_sweep.c.x+d-this.m_target.x;this.m_C.y=b.m_sweep.c.y+c-this.m_target.y;b.m_angularVelocity=b.m_angularVelocity*0.98;this.m_impulse.x=this.m_impulse.x*
a.dtRatio;this.m_impulse.y=this.m_impulse.y*a.dtRatio;b.m_linearVelocity.x=b.m_linearVelocity.x+f*this.m_impulse.x;b.m_linearVelocity.y=b.m_linearVelocity.y+f*this.m_impulse.y;b.m_angularVelocity=b.m_angularVelocity+j*(d*this.m_impulse.y-c*this.m_impulse.x)};E.prototype.SolveVelocityConstraints=function(a){var b=this.m_bodyB,d,c=0,f=0;d=b.m_xf.R;var j=this.m_localAnchor.x-b.m_sweep.localCenter.x,k=this.m_localAnchor.y-b.m_sweep.localCenter.y,c=d.col1.x*j+d.col2.x*k,k=d.col1.y*j+d.col2.y*k,j=c,c=b.m_linearVelocity.x+
-b.m_angularVelocity*k,e=b.m_linearVelocity.y+b.m_angularVelocity*j;d=this.m_mass;c=c+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x;f=e+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;e=-(d.col1.x*c+d.col2.x*f);f=-(d.col1.y*c+d.col2.y*f);d=this.m_impulse.x;c=this.m_impulse.y;this.m_impulse.x=this.m_impulse.x+e;this.m_impulse.y=this.m_impulse.y+f;a=a.dt*this.m_maxForce;this.m_impulse.LengthSquared()>a*a&&this.m_impulse.Multiply(a/this.m_impulse.Length());e=this.m_impulse.x-d;f=this.m_impulse.y-
c;b.m_linearVelocity.x=b.m_linearVelocity.x+b.m_invMass*e;b.m_linearVelocity.y=b.m_linearVelocity.y+b.m_invMass*f;b.m_angularVelocity=b.m_angularVelocity+b.m_invI*(j*f-k*e)};E.prototype.SolvePositionConstraints=function(){return true};myChrome.inherit(J,myChrome.Dynamics.Joints.b2JointDef);J.prototype.__super=myChrome.Dynamics.Joints.b2JointDef.prototype;J.b2MouseJointDef=function(){myChrome.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.target=new d};J.prototype.b2MouseJointDef=
function(){this.__super.b2JointDef.call(this);this.type=w.e_mouseJoint;this.maxForce=0;this.frequencyHz=5;this.dampingRatio=0.7};myChrome.inherit(K,myChrome.Dynamics.Joints.b2Joint);K.prototype.__super=myChrome.Dynamics.Joints.b2Joint.prototype;K.b2PrismaticJoint=function(){myChrome.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_localXAxis1=new d;this.m_localYAxis1=new d;this.m_axis=new d;this.m_perp=new d;this.m_K=new b;this.m_impulse=
new j};K.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};K.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};K.prototype.GetReactionForce=function(a){a===void 0&&(a=0);return new d(a*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),a*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))};K.prototype.GetReactionTorque=function(a){a===void 0&&(a=0);return a*
this.m_impulse.y};K.prototype.GetJointTranslation=function(){var a=this.m_bodyA,b=this.m_bodyB,d=a.GetWorldPoint(this.m_localAnchor1),c=b.GetWorldPoint(this.m_localAnchor2),b=c.x-d.x,d=c.y-d.y,a=a.GetWorldVector(this.m_localXAxis1);return a.x*b+a.y*d};K.prototype.GetJointSpeed=function(){var a=this.m_bodyA,b=this.m_bodyB,d;d=a.m_xf.R;var c=this.m_localAnchor1.x-a.m_sweep.localCenter.x,f=this.m_localAnchor1.y-a.m_sweep.localCenter.y,j=d.col1.x*c+d.col2.x*f,f=d.col1.y*c+d.col2.y*f,c=j;d=b.m_xf.R;var k=
this.m_localAnchor2.x-b.m_sweep.localCenter.x,e=this.m_localAnchor2.y-b.m_sweep.localCenter.y,j=d.col1.x*k+d.col2.x*e,e=d.col1.y*k+d.col2.y*e,k=j;d=b.m_sweep.c.x+k-(a.m_sweep.c.x+c);var j=b.m_sweep.c.y+e-(a.m_sweep.c.y+f),g=a.GetWorldVector(this.m_localXAxis1),m=a.m_linearVelocity,l=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return d*-a*g.y+j*a*g.x+(g.x*(l.x+-b*e-m.x- -a*f)+g.y*(l.y+b*k-m.y-a*c))};K.prototype.IsLimitEnabled=function(){return this.m_enableLimit};K.prototype.EnableLimit=
function(a){this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);this.m_enableLimit=a};K.prototype.GetLowerLimit=function(){return this.m_lowerTranslation};K.prototype.GetUpperLimit=function(){return this.m_upperTranslation};K.prototype.SetLimits=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);this.m_lowerTranslation=a;this.m_upperTranslation=b};K.prototype.IsMotorEnabled=function(){return this.m_enableMotor};K.prototype.EnableMotor=function(a){this.m_bodyA.SetAwake(true);
this.m_bodyB.SetAwake(true);this.m_enableMotor=a};K.prototype.SetMotorSpeed=function(a){a===void 0&&(a=0);this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);this.m_motorSpeed=a};K.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};K.prototype.SetMaxMotorForce=function(a){a===void 0&&(a=0);this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);this.m_maxMotorForce=a};K.prototype.GetMotorForce=function(){return this.m_motorImpulse};K.prototype.b2PrismaticJoint=function(a){this.__super.b2Joint.call(this,
a);this.m_localAnchor1.SetV(a.localAnchorA);this.m_localAnchor2.SetV(a.localAnchorB);this.m_localXAxis1.SetV(a.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_refAngle=a.referenceAngle;this.m_impulse.SetZero();this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=a.lowerTranslation;this.m_upperTranslation=a.upperTranslation;this.m_maxMotorForce=a.maxMotorForce;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=
a.enableMotor;this.m_limitState=w.e_inactiveLimit;this.m_axis.SetZero();this.m_perp.SetZero()};K.prototype.InitVelocityConstraints=function(b){var d=this.m_bodyA,c=this.m_bodyB,f,j=0;this.m_localCenterA.SetV(d.GetLocalCenter());this.m_localCenterB.SetV(c.GetLocalCenter());var k=d.GetTransform();c.GetTransform();f=d.m_xf.R;var q=this.m_localAnchor1.x-this.m_localCenterA.x,e=this.m_localAnchor1.y-this.m_localCenterA.y,j=f.col1.x*q+f.col2.x*e,e=f.col1.y*q+f.col2.y*e,q=j;f=c.m_xf.R;var g=this.m_localAnchor2.x-
this.m_localCenterB.x,r=this.m_localAnchor2.y-this.m_localCenterB.y,j=f.col1.x*g+f.col2.x*r,r=f.col1.y*g+f.col2.y*r,g=j;f=c.m_sweep.c.x+g-d.m_sweep.c.x-q;j=c.m_sweep.c.y+r-d.m_sweep.c.y-e;this.m_invMassA=d.m_invMass;this.m_invMassB=c.m_invMass;this.m_invIA=d.m_invI;this.m_invIB=c.m_invI;this.m_axis.SetV(a.MulMV(k.R,this.m_localXAxis1));this.m_a1=(f+q)*this.m_axis.y-(j+e)*this.m_axis.x;this.m_a2=g*this.m_axis.y-r*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*
this.m_a1+this.m_invIB*this.m_a2*this.m_a2;if(this.m_motorMass>Number.MIN_VALUE)this.m_motorMass=1/this.m_motorMass;this.m_perp.SetV(a.MulMV(k.R,this.m_localYAxis1));this.m_s1=(f+q)*this.m_perp.y-(j+e)*this.m_perp.x;this.m_s2=g*this.m_perp.y-r*this.m_perp.x;k=this.m_invMassA;q=this.m_invMassB;e=this.m_invIA;g=this.m_invIB;this.m_K.col1.x=k+q+e*this.m_s1*this.m_s1+g*this.m_s2*this.m_s2;this.m_K.col1.y=e*this.m_s1+g*this.m_s2;this.m_K.col1.z=e*this.m_s1*this.m_a1+g*this.m_s2*this.m_a2;this.m_K.col2.x=
this.m_K.col1.y;this.m_K.col2.y=e+g;this.m_K.col2.z=e*this.m_a1+g*this.m_a2;this.m_K.col3.x=this.m_K.col1.z;this.m_K.col3.y=this.m_K.col2.z;this.m_K.col3.z=k+q+e*this.m_a1*this.m_a1+g*this.m_a2*this.m_a2;if(this.m_enableLimit){f=this.m_axis.x*f+this.m_axis.y*j;if(a.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*m.b2_linearSlop)this.m_limitState=w.e_equalLimits;else if(f<=this.m_lowerTranslation){if(this.m_limitState!=w.e_atLowerLimit){this.m_limitState=w.e_atLowerLimit;this.m_impulse.z=0}}else if(f>=
this.m_upperTranslation){if(this.m_limitState!=w.e_atUpperLimit){this.m_limitState=w.e_atUpperLimit;this.m_impulse.z=0}}else{this.m_limitState=w.e_inactiveLimit;this.m_impulse.z=0}}else this.m_limitState=w.e_inactiveLimit;if(this.m_enableMotor==false)this.m_motorImpulse=0;if(b.warmStarting){this.m_impulse.x=this.m_impulse.x*b.dtRatio;this.m_impulse.y=this.m_impulse.y*b.dtRatio;this.m_motorImpulse=this.m_motorImpulse*b.dtRatio;b=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*
this.m_axis.x;f=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y;j=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1;k=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2;d.m_linearVelocity.x=d.m_linearVelocity.x-this.m_invMassA*b;d.m_linearVelocity.y=d.m_linearVelocity.y-this.m_invMassA*f;d.m_angularVelocity=d.m_angularVelocity-this.m_invIA*j;c.m_linearVelocity.x=c.m_linearVelocity.x+
this.m_invMassB*b;c.m_linearVelocity.y=c.m_linearVelocity.y+this.m_invMassB*f;c.m_angularVelocity=c.m_angularVelocity+this.m_invIB*k}else{this.m_impulse.SetZero();this.m_motorImpulse=0}};K.prototype.SolveVelocityConstraints=function(b){var c=this.m_bodyA,f=this.m_bodyB,k=c.m_linearVelocity,m=c.m_angularVelocity,q=f.m_linearVelocity,r=f.m_angularVelocity,e=0,g=0,s=0,l=0;if(this.m_enableMotor&&this.m_limitState!=w.e_equalLimits){l=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(q.x-k.x)+this.m_axis.y*
(q.y-k.y)+this.m_a2*r-this.m_a1*m));e=this.m_motorImpulse;b=b.dt*this.m_maxMotorForce;this.m_motorImpulse=a.Clamp(this.m_motorImpulse+l,-b,b);l=this.m_motorImpulse-e;e=l*this.m_axis.x;g=l*this.m_axis.y;s=l*this.m_a1;l=l*this.m_a2;k.x=k.x-this.m_invMassA*e;k.y=k.y-this.m_invMassA*g;m=m-this.m_invIA*s;q.x=q.x+this.m_invMassB*e;q.y=q.y+this.m_invMassB*g;r=r+this.m_invIB*l}s=this.m_perp.x*(q.x-k.x)+this.m_perp.y*(q.y-k.y)+this.m_s2*r-this.m_s1*m;g=r-m;if(this.m_enableLimit&&this.m_limitState!=w.e_inactiveLimit){b=
this.m_axis.x*(q.x-k.x)+this.m_axis.y*(q.y-k.y)+this.m_a2*r-this.m_a1*m;e=this.m_impulse.Copy();b=this.m_K.Solve33(new j,-s,-g,-b);this.m_impulse.Add(b);if(this.m_limitState==w.e_atLowerLimit)this.m_impulse.z=a.Max(this.m_impulse.z,0);else if(this.m_limitState==w.e_atUpperLimit)this.m_impulse.z=a.Min(this.m_impulse.z,0);s=-s-(this.m_impulse.z-e.z)*this.m_K.col3.x;g=-g-(this.m_impulse.z-e.z)*this.m_K.col3.y;g=this.m_K.Solve22(new d,s,g);g.x=g.x+e.x;g.y=g.y+e.y;this.m_impulse.x=g.x;this.m_impulse.y=
g.y;b.x=this.m_impulse.x-e.x;b.y=this.m_impulse.y-e.y;b.z=this.m_impulse.z-e.z;e=b.x*this.m_perp.x+b.z*this.m_axis.x;g=b.x*this.m_perp.y+b.z*this.m_axis.y;s=b.x*this.m_s1+b.y+b.z*this.m_a1;l=b.x*this.m_s2+b.y+b.z*this.m_a2}else{b=this.m_K.Solve22(new d,-s,-g);this.m_impulse.x=this.m_impulse.x+b.x;this.m_impulse.y=this.m_impulse.y+b.y;e=b.x*this.m_perp.x;g=b.x*this.m_perp.y;s=b.x*this.m_s1+b.y;l=b.x*this.m_s2+b.y}k.x=k.x-this.m_invMassA*e;k.y=k.y-this.m_invMassA*g;m=m-this.m_invIA*s;q.x=q.x+this.m_invMassB*
e;q.y=q.y+this.m_invMassB*g;r=r+this.m_invIB*l;c.m_linearVelocity.SetV(k);c.m_angularVelocity=m;f.m_linearVelocity.SetV(q);f.m_angularVelocity=r};K.prototype.SolvePositionConstraints=function(){var b=this.m_bodyA,f=this.m_bodyB,k=b.m_sweep.c,q=b.m_sweep.a,r=f.m_sweep.c,s=f.m_sweep.a,t,e=0,g=0,A=0,l=0,w=0,g=false,x=0,u=c.FromAngle(q),y=c.FromAngle(s);t=u;var w=this.m_localAnchor1.x-this.m_localCenterA.x,z=this.m_localAnchor1.y-this.m_localCenterA.y,e=t.col1.x*w+t.col2.x*z,z=t.col1.y*w+t.col2.y*z,w=
e;t=y;y=this.m_localAnchor2.x-this.m_localCenterB.x;A=this.m_localAnchor2.y-this.m_localCenterB.y;e=t.col1.x*y+t.col2.x*A;A=t.col1.y*y+t.col2.y*A;y=e;t=r.x+y-k.x-w;e=r.y+A-k.y-z;if(this.m_enableLimit){this.m_axis=a.MulMV(u,this.m_localXAxis1);this.m_a1=(t+w)*this.m_axis.y-(e+z)*this.m_axis.x;this.m_a2=y*this.m_axis.y-A*this.m_axis.x;var H=this.m_axis.x*t+this.m_axis.y*e;if(a.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*m.b2_linearSlop){x=a.Clamp(H,-m.b2_maxLinearCorrection,m.b2_maxLinearCorrection);
l=a.Abs(H);g=true}else if(H<=this.m_lowerTranslation){x=a.Clamp(H-this.m_lowerTranslation+m.b2_linearSlop,-m.b2_maxLinearCorrection,0);l=this.m_lowerTranslation-H;g=true}else if(H>=this.m_upperTranslation){x=a.Clamp(H-this.m_upperTranslation+m.b2_linearSlop,0,m.b2_maxLinearCorrection);l=H-this.m_upperTranslation;g=true}}this.m_perp=a.MulMV(u,this.m_localYAxis1);this.m_s1=(t+w)*this.m_perp.y-(e+z)*this.m_perp.x;this.m_s2=y*this.m_perp.y-A*this.m_perp.x;u=new j;z=this.m_perp.x*t+this.m_perp.y*e;y=s-
q-this.m_refAngle;l=a.Max(l,a.Abs(z));w=a.Abs(y);if(g){g=this.m_invMassA;A=this.m_invMassB;t=this.m_invIA;e=this.m_invIB;this.m_K.col1.x=g+A+t*this.m_s1*this.m_s1+e*this.m_s2*this.m_s2;this.m_K.col1.y=t*this.m_s1+e*this.m_s2;this.m_K.col1.z=t*this.m_s1*this.m_a1+e*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=t+e;this.m_K.col2.z=t*this.m_a1+e*this.m_a2;this.m_K.col3.x=this.m_K.col1.z;this.m_K.col3.y=this.m_K.col2.z;this.m_K.col3.z=g+A+t*this.m_a1*this.m_a1+e*this.m_a2*this.m_a2;
this.m_K.Solve33(u,-z,-y,-x)}else{g=this.m_invMassA;A=this.m_invMassB;t=this.m_invIA;e=this.m_invIB;x=t*this.m_s1+e*this.m_s2;H=t+e;this.m_K.col1.Set(g+A+t*this.m_s1*this.m_s1+e*this.m_s2*this.m_s2,x,0);this.m_K.col2.Set(x,H,0);x=this.m_K.Solve22(new d,-z,-y);u.x=x.x;u.y=x.y;u.z=0}x=u.x*this.m_perp.x+u.z*this.m_axis.x;g=u.x*this.m_perp.y+u.z*this.m_axis.y;z=u.x*this.m_s1+u.y+u.z*this.m_a1;u=u.x*this.m_s2+u.y+u.z*this.m_a2;k.x=k.x-this.m_invMassA*x;k.y=k.y-this.m_invMassA*g;q=q-this.m_invIA*z;r.x=
r.x+this.m_invMassB*x;r.y=r.y+this.m_invMassB*g;s=s+this.m_invIB*u;b.m_sweep.a=q;f.m_sweep.a=s;b.SynchronizeTransform();f.SynchronizeTransform();return l<=m.b2_linearSlop&&w<=m.b2_angularSlop};myChrome.inherit(H,myChrome.Dynamics.Joints.b2JointDef);H.prototype.__super=myChrome.Dynamics.Joints.b2JointDef.prototype;H.b2PrismaticJointDef=function(){myChrome.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=new d;this.localAxisA=new d};H.prototype.b2PrismaticJointDef=
function(){this.__super.b2JointDef.call(this);this.type=w.e_prismaticJoint;this.localAxisA.Set(1,0);this.referenceAngle=0;this.enableLimit=false;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=false;this.motorSpeed=this.maxMotorForce=0};H.prototype.Initialize=function(a,b,d,c){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.GetLocalPoint(d);this.localAnchorB=this.bodyB.GetLocalPoint(d);this.localAxisA=this.bodyA.GetLocalVector(c);this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};
myChrome.inherit(G,myChrome.Dynamics.Joints.b2Joint);G.prototype.__super=myChrome.Dynamics.Joints.b2Joint.prototype;G.b2PulleyJoint=function(){myChrome.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_groundAnchor1=new d;this.m_groundAnchor2=new d;this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_u1=new d;this.m_u2=new d};G.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};G.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};
G.prototype.GetReactionForce=function(a){a===void 0&&(a=0);return new d(a*this.m_impulse*this.m_u2.x,a*this.m_impulse*this.m_u2.y)};G.prototype.GetReactionTorque=function(){return 0};G.prototype.GetGroundAnchorA=function(){var a=this.m_ground.m_xf.position.Copy();a.Add(this.m_groundAnchor1);return a};G.prototype.GetGroundAnchorB=function(){var a=this.m_ground.m_xf.position.Copy();a.Add(this.m_groundAnchor2);return a};G.prototype.GetLength1=function(){var a=this.m_bodyA.GetWorldPoint(this.m_localAnchor1),
b=a.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),a=a.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y);return Math.sqrt(b*b+a*a)};G.prototype.GetLength2=function(){var a=this.m_bodyB.GetWorldPoint(this.m_localAnchor2),b=a.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x),a=a.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor2.y);return Math.sqrt(b*b+a*a)};G.prototype.GetRatio=function(){return this.m_ratio};G.prototype.b2PulleyJoint=function(b){this.__super.b2Joint.call(this,
b);this.m_ground=this.m_bodyA.m_world.m_groundBody;this.m_groundAnchor1.x=b.groundAnchorA.x-this.m_ground.m_xf.position.x;this.m_groundAnchor1.y=b.groundAnchorA.y-this.m_ground.m_xf.position.y;this.m_groundAnchor2.x=b.groundAnchorB.x-this.m_ground.m_xf.position.x;this.m_groundAnchor2.y=b.groundAnchorB.y-this.m_ground.m_xf.position.y;this.m_localAnchor1.SetV(b.localAnchorA);this.m_localAnchor2.SetV(b.localAnchorB);this.m_ratio=b.ratio;this.m_constant=b.lengthA+this.m_ratio*b.lengthB;this.m_maxLength1=
a.Min(b.maxLengthA,this.m_constant-this.m_ratio*G.b2_minPulleyLength);this.m_maxLength2=a.Min(b.maxLengthB,(this.m_constant-G.b2_minPulleyLength)/this.m_ratio);this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};G.prototype.InitVelocityConstraints=function(a){var b=this.m_bodyA,d=this.m_bodyB,c;c=b.m_xf.R;var f=this.m_localAnchor1.x-b.m_sweep.localCenter.x,j=this.m_localAnchor1.y-b.m_sweep.localCenter.y,k=c.col1.x*f+c.col2.x*j,j=c.col1.y*f+c.col2.y*j,f=k;c=d.m_xf.R;var e=this.m_localAnchor2.x-
d.m_sweep.localCenter.x,g=this.m_localAnchor2.y-d.m_sweep.localCenter.y,k=c.col1.x*e+c.col2.x*g,g=c.col1.y*e+c.col2.y*g,e=k;c=d.m_sweep.c.x+e;var k=d.m_sweep.c.y+g,q=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,l=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.Set(b.m_sweep.c.x+f-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),b.m_sweep.c.y+j-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y));this.m_u2.Set(c-q,k-l);c=this.m_u1.Length();k=this.m_u2.Length();c>m.b2_linearSlop?
this.m_u1.Multiply(1/c):this.m_u1.SetZero();k>m.b2_linearSlop?this.m_u2.Multiply(1/k):this.m_u2.SetZero();if(this.m_constant-c-this.m_ratio*k>0){this.m_state=w.e_inactiveLimit;this.m_impulse=0}else this.m_state=w.e_atUpperLimit;if(c<this.m_maxLength1){this.m_limitState1=w.e_inactiveLimit;this.m_limitImpulse1=0}else this.m_limitState1=w.e_atUpperLimit;if(k<this.m_maxLength2){this.m_limitState2=w.e_inactiveLimit;this.m_limitImpulse2=0}else this.m_limitState2=w.e_atUpperLimit;c=f*this.m_u1.y-j*this.m_u1.x;
k=e*this.m_u2.y-g*this.m_u2.x;this.m_limitMass1=b.m_invMass+b.m_invI*c*c;this.m_limitMass2=d.m_invMass+d.m_invI*k*k;this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2;this.m_limitMass1=1/this.m_limitMass1;this.m_limitMass2=1/this.m_limitMass2;this.m_pulleyMass=1/this.m_pulleyMass;if(a.warmStarting){this.m_impulse=this.m_impulse*a.dtRatio;this.m_limitImpulse1=this.m_limitImpulse1*a.dtRatio;this.m_limitImpulse2=this.m_limitImpulse2*a.dtRatio;a=(-this.m_impulse-this.m_limitImpulse1)*
this.m_u1.x;c=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y;k=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x;q=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.y;b.m_linearVelocity.x=b.m_linearVelocity.x+b.m_invMass*a;b.m_linearVelocity.y=b.m_linearVelocity.y+b.m_invMass*c;b.m_angularVelocity=b.m_angularVelocity+b.m_invI*(f*c-j*a);d.m_linearVelocity.x=d.m_linearVelocity.x+d.m_invMass*k;d.m_linearVelocity.y=d.m_linearVelocity.y+d.m_invMass*q;d.m_angularVelocity=d.m_angularVelocity+
d.m_invI*(e*q-g*k)}else this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};G.prototype.SolveVelocityConstraints=function(){var b=this.m_bodyA,d=this.m_bodyB,c;c=b.m_xf.R;var f=this.m_localAnchor1.x-b.m_sweep.localCenter.x,j=this.m_localAnchor1.y-b.m_sweep.localCenter.y,k=c.col1.x*f+c.col2.x*j,j=c.col1.y*f+c.col2.y*j,f=k;c=d.m_xf.R;var m=this.m_localAnchor2.x-d.m_sweep.localCenter.x,e=this.m_localAnchor2.y-d.m_sweep.localCenter.y,k=c.col1.x*m+c.col2.x*e,e=c.col1.y*m+c.col2.y*e,m=k,g=0,q=0;
if(this.m_state==w.e_atUpperLimit){c=b.m_linearVelocity.x+-b.m_angularVelocity*j;k=b.m_linearVelocity.y+b.m_angularVelocity*f;g=d.m_linearVelocity.x+-d.m_angularVelocity*e;q=d.m_linearVelocity.y+d.m_angularVelocity*m;c=-(this.m_u1.x*c+this.m_u1.y*k)-this.m_ratio*(this.m_u2.x*g+this.m_u2.y*q);q=this.m_pulleyMass*-c;c=this.m_impulse;this.m_impulse=a.Max(0,this.m_impulse+q);q=this.m_impulse-c;c=-q*this.m_u1.x;k=-q*this.m_u1.y;g=-this.m_ratio*q*this.m_u2.x;q=-this.m_ratio*q*this.m_u2.y;b.m_linearVelocity.x=
b.m_linearVelocity.x+b.m_invMass*c;b.m_linearVelocity.y=b.m_linearVelocity.y+b.m_invMass*k;b.m_angularVelocity=b.m_angularVelocity+b.m_invI*(f*k-j*c);d.m_linearVelocity.x=d.m_linearVelocity.x+d.m_invMass*g;d.m_linearVelocity.y=d.m_linearVelocity.y+d.m_invMass*q;d.m_angularVelocity=d.m_angularVelocity+d.m_invI*(m*q-e*g)}if(this.m_limitState1==w.e_atUpperLimit){c=b.m_linearVelocity.x+-b.m_angularVelocity*j;k=b.m_linearVelocity.y+b.m_angularVelocity*f;c=-(this.m_u1.x*c+this.m_u1.y*k);q=-this.m_limitMass1*
c;c=this.m_limitImpulse1;this.m_limitImpulse1=a.Max(0,this.m_limitImpulse1+q);q=this.m_limitImpulse1-c;c=-q*this.m_u1.x;k=-q*this.m_u1.y;b.m_linearVelocity.x=b.m_linearVelocity.x+b.m_invMass*c;b.m_linearVelocity.y=b.m_linearVelocity.y+b.m_invMass*k;b.m_angularVelocity=b.m_angularVelocity+b.m_invI*(f*k-j*c)}if(this.m_limitState2==w.e_atUpperLimit){g=d.m_linearVelocity.x+-d.m_angularVelocity*e;q=d.m_linearVelocity.y+d.m_angularVelocity*m;c=-(this.m_u2.x*g+this.m_u2.y*q);q=-this.m_limitMass2*c;c=this.m_limitImpulse2;
this.m_limitImpulse2=a.Max(0,this.m_limitImpulse2+q);q=this.m_limitImpulse2-c;g=-q*this.m_u2.x;q=-q*this.m_u2.y;d.m_linearVelocity.x=d.m_linearVelocity.x+d.m_invMass*g;d.m_linearVelocity.y=d.m_linearVelocity.y+d.m_invMass*q;d.m_angularVelocity=d.m_angularVelocity+d.m_invI*(m*q-e*g)}};G.prototype.SolvePositionConstraints=function(){var b=this.m_bodyA,d=this.m_bodyB,c,f=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,j=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,k=this.m_ground.m_xf.position.x+
this.m_groundAnchor2.x,q=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,e=0,g=0,r=0,l=0,s=0,t=0,x=0,u=0;if(this.m_state==w.e_atUpperLimit){c=b.m_xf.R;e=this.m_localAnchor1.x-b.m_sweep.localCenter.x;g=this.m_localAnchor1.y-b.m_sweep.localCenter.y;s=c.col1.x*e+c.col2.x*g;g=c.col1.y*e+c.col2.y*g;e=s;c=d.m_xf.R;r=this.m_localAnchor2.x-d.m_sweep.localCenter.x;l=this.m_localAnchor2.y-d.m_sweep.localCenter.y;s=c.col1.x*r+c.col2.x*l;l=c.col1.y*r+c.col2.y*l;r=s;c=b.m_sweep.c.x+e;s=b.m_sweep.c.y+g;t=
d.m_sweep.c.x+r;x=d.m_sweep.c.y+l;this.m_u1.Set(c-f,s-j);this.m_u2.Set(t-k,x-q);c=this.m_u1.Length();s=this.m_u2.Length();c>m.b2_linearSlop?this.m_u1.Multiply(1/c):this.m_u1.SetZero();s>m.b2_linearSlop?this.m_u2.Multiply(1/s):this.m_u2.SetZero();c=this.m_constant-c-this.m_ratio*s;u=a.Max(u,-c);c=a.Clamp(c+m.b2_linearSlop,-m.b2_maxLinearCorrection,0);x=-this.m_pulleyMass*c;c=-x*this.m_u1.x;s=-x*this.m_u1.y;t=-this.m_ratio*x*this.m_u2.x;x=-this.m_ratio*x*this.m_u2.y;b.m_sweep.c.x=b.m_sweep.c.x+b.m_invMass*
c;b.m_sweep.c.y=b.m_sweep.c.y+b.m_invMass*s;b.m_sweep.a=b.m_sweep.a+b.m_invI*(e*s-g*c);d.m_sweep.c.x=d.m_sweep.c.x+d.m_invMass*t;d.m_sweep.c.y=d.m_sweep.c.y+d.m_invMass*x;d.m_sweep.a=d.m_sweep.a+d.m_invI*(r*x-l*t);b.SynchronizeTransform();d.SynchronizeTransform()}if(this.m_limitState1==w.e_atUpperLimit){c=b.m_xf.R;e=this.m_localAnchor1.x-b.m_sweep.localCenter.x;g=this.m_localAnchor1.y-b.m_sweep.localCenter.y;s=c.col1.x*e+c.col2.x*g;g=c.col1.y*e+c.col2.y*g;e=s;c=b.m_sweep.c.x+e;s=b.m_sweep.c.y+g;this.m_u1.Set(c-
f,s-j);c=this.m_u1.Length();if(c>m.b2_linearSlop){this.m_u1.x=this.m_u1.x*(1/c);this.m_u1.y=this.m_u1.y*(1/c)}else this.m_u1.SetZero();c=this.m_maxLength1-c;u=a.Max(u,-c);c=a.Clamp(c+m.b2_linearSlop,-m.b2_maxLinearCorrection,0);x=-this.m_limitMass1*c;c=-x*this.m_u1.x;s=-x*this.m_u1.y;b.m_sweep.c.x=b.m_sweep.c.x+b.m_invMass*c;b.m_sweep.c.y=b.m_sweep.c.y+b.m_invMass*s;b.m_sweep.a=b.m_sweep.a+b.m_invI*(e*s-g*c);b.SynchronizeTransform()}if(this.m_limitState2==w.e_atUpperLimit){c=d.m_xf.R;r=this.m_localAnchor2.x-
d.m_sweep.localCenter.x;l=this.m_localAnchor2.y-d.m_sweep.localCenter.y;s=c.col1.x*r+c.col2.x*l;l=c.col1.y*r+c.col2.y*l;r=s;t=d.m_sweep.c.x+r;x=d.m_sweep.c.y+l;this.m_u2.Set(t-k,x-q);s=this.m_u2.Length();if(s>m.b2_linearSlop){this.m_u2.x=this.m_u2.x*(1/s);this.m_u2.y=this.m_u2.y*(1/s)}else this.m_u2.SetZero();c=this.m_maxLength2-s;u=a.Max(u,-c);c=a.Clamp(c+m.b2_linearSlop,-m.b2_maxLinearCorrection,0);x=-this.m_limitMass2*c;t=-x*this.m_u2.x;x=-x*this.m_u2.y;d.m_sweep.c.x=d.m_sweep.c.x+d.m_invMass*
t;d.m_sweep.c.y=d.m_sweep.c.y+d.m_invMass*x;d.m_sweep.a=d.m_sweep.a+d.m_invI*(r*x-l*t);d.SynchronizeTransform()}return u<m.b2_linearSlop};myChrome.postDefs.push(function(){myChrome.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength=2});myChrome.inherit(T,myChrome.Dynamics.Joints.b2JointDef);T.prototype.__super=myChrome.Dynamics.Joints.b2JointDef.prototype;T.b2PulleyJointDef=function(){myChrome.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.groundAnchorA=new d;this.groundAnchorB=new d;
this.localAnchorA=new d;this.localAnchorB=new d};T.prototype.b2PulleyJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_pulleyJoint;this.groundAnchorA.Set(-1,1);this.groundAnchorB.Set(1,1);this.localAnchorA.Set(-1,0);this.localAnchorB.Set(1,0);this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0;this.ratio=1;this.collideConnected=true};T.prototype.Initialize=function(a,b,d,c,f,j,k){k===void 0&&(k=0);this.bodyA=a;this.bodyB=b;this.groundAnchorA.SetV(d);this.groundAnchorB.SetV(c);
this.localAnchorA=this.bodyA.GetLocalPoint(f);this.localAnchorB=this.bodyB.GetLocalPoint(j);a=f.x-d.x;d=f.y-d.y;this.lengthA=Math.sqrt(a*a+d*d);d=j.x-c.x;c=j.y-c.y;this.lengthB=Math.sqrt(d*d+c*c);this.ratio=k;k=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=k-this.ratio*G.b2_minPulleyLength;this.maxLengthB=(k-G.b2_minPulleyLength)/this.ratio};myChrome.inherit(L,myChrome.Dynamics.Joints.b2Joint);L.prototype.__super=myChrome.Dynamics.Joints.b2Joint.prototype;L.b2RevoluteJoint=function(){myChrome.Dynamics.Joints.b2Joint.b2Joint.apply(this,
arguments);this.K=new c;this.K1=new c;this.K2=new c;this.K3=new c;this.impulse3=new j;this.impulse2=new d;this.reduced=new d;this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_impulse=new j;this.m_mass=new b};L.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};L.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};L.prototype.GetReactionForce=function(a){a===void 0&&(a=0);return new d(a*this.m_impulse.x,a*this.m_impulse.y)};
L.prototype.GetReactionTorque=function(a){a===void 0&&(a=0);return a*this.m_impulse.z};L.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle};L.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity};L.prototype.IsLimitEnabled=function(){return this.m_enableLimit};L.prototype.EnableLimit=function(a){this.m_enableLimit=a};L.prototype.GetLowerLimit=function(){return this.m_lowerAngle};L.prototype.GetUpperLimit=
function(){return this.m_upperAngle};L.prototype.SetLimits=function(a,b){a===void 0&&(a=0);b===void 0&&(b=0);this.m_lowerAngle=a;this.m_upperAngle=b};L.prototype.IsMotorEnabled=function(){this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);return this.m_enableMotor};L.prototype.EnableMotor=function(a){this.m_enableMotor=a};L.prototype.SetMotorSpeed=function(a){a===void 0&&(a=0);this.m_bodyA.SetAwake(true);this.m_bodyB.SetAwake(true);this.m_motorSpeed=a};L.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};
L.prototype.SetMaxMotorTorque=function(a){a===void 0&&(a=0);this.m_maxMotorTorque=a};L.prototype.GetMotorTorque=function(){return this.m_maxMotorTorque};L.prototype.b2RevoluteJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchor1.SetV(a.localAnchorA);this.m_localAnchor2.SetV(a.localAnchorB);this.m_referenceAngle=a.referenceAngle;this.m_impulse.SetZero();this.m_motorImpulse=0;this.m_lowerAngle=a.lowerAngle;this.m_upperAngle=a.upperAngle;this.m_maxMotorTorque=a.maxMotorTorque;this.m_motorSpeed=
a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=w.e_inactiveLimit};L.prototype.InitVelocityConstraints=function(b){var d=this.m_bodyA,c=this.m_bodyB,f,j=0;f=d.m_xf.R;var k=this.m_localAnchor1.x-d.m_sweep.localCenter.x,q=this.m_localAnchor1.y-d.m_sweep.localCenter.y,j=f.col1.x*k+f.col2.x*q,q=f.col1.y*k+f.col2.y*q,k=j;f=c.m_xf.R;var e=this.m_localAnchor2.x-c.m_sweep.localCenter.x,g=this.m_localAnchor2.y-c.m_sweep.localCenter.y,j=f.col1.x*e+f.col2.x*g,
g=f.col1.y*e+f.col2.y*g,e=j;f=d.m_invMass;var j=c.m_invMass,r=d.m_invI,l=c.m_invI;this.m_mass.col1.x=f+j+q*q*r+g*g*l;this.m_mass.col2.x=-q*k*r-g*e*l;this.m_mass.col3.x=-q*r-g*l;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=f+j+k*k*r+e*e*l;this.m_mass.col3.y=k*r+e*l;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=r+l;this.m_motorMass=1/(r+l);if(this.m_enableMotor==false)this.m_motorImpulse=0;if(this.m_enableLimit){var s=c.m_sweep.a-d.m_sweep.a-
this.m_referenceAngle;if(a.Abs(this.m_upperAngle-this.m_lowerAngle)<2*m.b2_angularSlop)this.m_limitState=w.e_equalLimits;else if(s<=this.m_lowerAngle){if(this.m_limitState!=w.e_atLowerLimit)this.m_impulse.z=0;this.m_limitState=w.e_atLowerLimit}else if(s>=this.m_upperAngle){if(this.m_limitState!=w.e_atUpperLimit)this.m_impulse.z=0;this.m_limitState=w.e_atUpperLimit}else{this.m_limitState=w.e_inactiveLimit;this.m_impulse.z=0}}else this.m_limitState=w.e_inactiveLimit;if(b.warmStarting){this.m_impulse.x=
this.m_impulse.x*b.dtRatio;this.m_impulse.y=this.m_impulse.y*b.dtRatio;this.m_motorImpulse=this.m_motorImpulse*b.dtRatio;b=this.m_impulse.x;s=this.m_impulse.y;d.m_linearVelocity.x=d.m_linearVelocity.x-f*b;d.m_linearVelocity.y=d.m_linearVelocity.y-f*s;d.m_angularVelocity=d.m_angularVelocity-r*(k*s-q*b+this.m_motorImpulse+this.m_impulse.z);c.m_linearVelocity.x=c.m_linearVelocity.x+j*b;c.m_linearVelocity.y=c.m_linearVelocity.y+j*s;c.m_angularVelocity=c.m_angularVelocity+l*(e*s-g*b+this.m_motorImpulse+
this.m_impulse.z)}else{this.m_impulse.SetZero();this.m_motorImpulse=0}};L.prototype.SolveVelocityConstraints=function(b){var d=this.m_bodyA,c=this.m_bodyB,f=0,j=0,k=0,m=0,e=0,g=d.m_linearVelocity,q=d.m_angularVelocity,l=c.m_linearVelocity,r=c.m_angularVelocity,s=d.m_invMass,t=c.m_invMass,x=d.m_invI,u=c.m_invI;if(this.m_enableMotor&&this.m_limitState!=w.e_equalLimits){j=this.m_motorMass*-(r-q-this.m_motorSpeed);k=this.m_motorImpulse;m=b.dt*this.m_maxMotorTorque;this.m_motorImpulse=a.Clamp(this.m_motorImpulse+
j,-m,m);j=this.m_motorImpulse-k;q=q-x*j;r=r+u*j}if(this.m_enableLimit&&this.m_limitState!=w.e_inactiveLimit){var b=d.m_xf.R,j=this.m_localAnchor1.x-d.m_sweep.localCenter.x,k=this.m_localAnchor1.y-d.m_sweep.localCenter.y,f=b.col1.x*j+b.col2.x*k,k=b.col1.y*j+b.col2.y*k,j=f,b=c.m_xf.R,m=this.m_localAnchor2.x-c.m_sweep.localCenter.x,e=this.m_localAnchor2.y-c.m_sweep.localCenter.y,f=b.col1.x*m+b.col2.x*e,e=b.col1.y*m+b.col2.y*e,m=f,b=l.x+-r*e-g.x- -q*k,y=l.y+r*m-g.y-q*j;this.m_mass.Solve33(this.impulse3,
-b,-y,-(r-q));if(this.m_limitState==w.e_equalLimits)this.m_impulse.Add(this.impulse3);else if(this.m_limitState==w.e_atLowerLimit){f=this.m_impulse.z+this.impulse3.z;if(f<0){this.m_mass.Solve22(this.reduced,-b,-y);this.impulse3.x=this.reduced.x;this.impulse3.y=this.reduced.y;this.impulse3.z=-this.m_impulse.z;this.m_impulse.x=this.m_impulse.x+this.reduced.x;this.m_impulse.y=this.m_impulse.y+this.reduced.y;this.m_impulse.z=0}}else if(this.m_limitState==w.e_atUpperLimit){f=this.m_impulse.z+this.impulse3.z;
if(f>0){this.m_mass.Solve22(this.reduced,-b,-y);this.impulse3.x=this.reduced.x;this.impulse3.y=this.reduced.y;this.impulse3.z=-this.m_impulse.z;this.m_impulse.x=this.m_impulse.x+this.reduced.x;this.m_impulse.y=this.m_impulse.y+this.reduced.y;this.m_impulse.z=0}}g.x=g.x-s*this.impulse3.x;g.y=g.y-s*this.impulse3.y;q=q-x*(j*this.impulse3.y-k*this.impulse3.x+this.impulse3.z);l.x=l.x+t*this.impulse3.x;l.y=l.y+t*this.impulse3.y;r=r+u*(m*this.impulse3.y-e*this.impulse3.x+this.impulse3.z)}else{b=d.m_xf.R;
j=this.m_localAnchor1.x-d.m_sweep.localCenter.x;k=this.m_localAnchor1.y-d.m_sweep.localCenter.y;f=b.col1.x*j+b.col2.x*k;k=b.col1.y*j+b.col2.y*k;j=f;b=c.m_xf.R;m=this.m_localAnchor2.x-c.m_sweep.localCenter.x;e=this.m_localAnchor2.y-c.m_sweep.localCenter.y;f=b.col1.x*m+b.col2.x*e;e=b.col1.y*m+b.col2.y*e;m=f;this.m_mass.Solve22(this.impulse2,-(l.x+-r*e-g.x- -q*k),-(l.y+r*m-g.y-q*j));this.m_impulse.x=this.m_impulse.x+this.impulse2.x;this.m_impulse.y=this.m_impulse.y+this.impulse2.y;g.x=g.x-s*this.impulse2.x;
g.y=g.y-s*this.impulse2.y;q=q-x*(j*this.impulse2.y-k*this.impulse2.x);l.x=l.x+t*this.impulse2.x;l.y=l.y+t*this.impulse2.y;r=r+u*(m*this.impulse2.y-e*this.impulse2.x)}d.m_linearVelocity.SetV(g);d.m_angularVelocity=q;c.m_linearVelocity.SetV(l);c.m_angularVelocity=r};L.prototype.SolvePositionConstraints=function(){var b=0,d,c=this.m_bodyA,f=this.m_bodyB,j=0,k=0,q=0,e=0;if(this.m_enableLimit&&this.m_limitState!=w.e_inactiveLimit){var b=f.m_sweep.a-c.m_sweep.a-this.m_referenceAngle,g=0;if(this.m_limitState==
w.e_equalLimits){b=a.Clamp(b-this.m_lowerAngle,-m.b2_maxAngularCorrection,m.b2_maxAngularCorrection);g=-this.m_motorMass*b;j=a.Abs(b)}else if(this.m_limitState==w.e_atLowerLimit){b=b-this.m_lowerAngle;j=-b;b=a.Clamp(b+m.b2_angularSlop,-m.b2_maxAngularCorrection,0);g=-this.m_motorMass*b}else if(this.m_limitState==w.e_atUpperLimit){j=b=b-this.m_upperAngle;b=a.Clamp(b-m.b2_angularSlop,0,m.b2_maxAngularCorrection);g=-this.m_motorMass*b}c.m_sweep.a=c.m_sweep.a-c.m_invI*g;f.m_sweep.a=f.m_sweep.a+f.m_invI*
g;c.SynchronizeTransform();f.SynchronizeTransform()}d=c.m_xf.R;g=this.m_localAnchor1.x-c.m_sweep.localCenter.x;b=this.m_localAnchor1.y-c.m_sweep.localCenter.y;k=d.col1.x*g+d.col2.x*b;b=d.col1.y*g+d.col2.y*b;g=k;d=f.m_xf.R;var r=this.m_localAnchor2.x-f.m_sweep.localCenter.x,l=this.m_localAnchor2.y-f.m_sweep.localCenter.y,k=d.col1.x*r+d.col2.x*l,l=d.col1.y*r+d.col2.y*l,r=k,q=f.m_sweep.c.x+r-c.m_sweep.c.x-g,e=f.m_sweep.c.y+l-c.m_sweep.c.y-b,s=q*q+e*e;d=Math.sqrt(s);var k=c.m_invMass,t=f.m_invMass,x=
c.m_invI,u=f.m_invI,y=10*m.b2_linearSlop;if(s>y*y){s=1/(k+t);q=s*-q;e=s*-e;c.m_sweep.c.x=c.m_sweep.c.x-0.5*k*q;c.m_sweep.c.y=c.m_sweep.c.y-0.5*k*e;f.m_sweep.c.x=f.m_sweep.c.x+0.5*t*q;f.m_sweep.c.y=f.m_sweep.c.y+0.5*t*e;q=f.m_sweep.c.x+r-c.m_sweep.c.x-g;e=f.m_sweep.c.y+l-c.m_sweep.c.y-b}this.K1.col1.x=k+t;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=k+t;this.K2.col1.x=x*b*b;this.K2.col2.x=-x*g*b;this.K2.col1.y=-x*g*b;this.K2.col2.y=x*g*g;this.K3.col1.x=u*l*l;this.K3.col2.x=-u*r*l;this.K3.col1.y=
-u*r*l;this.K3.col2.y=u*r*r;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.AddM(this.K3);this.K.Solve(L.tImpulse,-q,-e);q=L.tImpulse.x;e=L.tImpulse.y;c.m_sweep.c.x=c.m_sweep.c.x-c.m_invMass*q;c.m_sweep.c.y=c.m_sweep.c.y-c.m_invMass*e;c.m_sweep.a=c.m_sweep.a-c.m_invI*(g*e-b*q);f.m_sweep.c.x=f.m_sweep.c.x+f.m_invMass*q;f.m_sweep.c.y=f.m_sweep.c.y+f.m_invMass*e;f.m_sweep.a=f.m_sweep.a+f.m_invI*(r*e-l*q);c.SynchronizeTransform();f.SynchronizeTransform();return d<=m.b2_linearSlop&&j<=m.b2_angularSlop};
myChrome.postDefs.push(function(){myChrome.Dynamics.Joints.b2RevoluteJoint.tImpulse=new d});myChrome.inherit(z,myChrome.Dynamics.Joints.b2JointDef);z.prototype.__super=myChrome.Dynamics.Joints.b2JointDef.prototype;z.b2RevoluteJointDef=function(){myChrome.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=new d};z.prototype.b2RevoluteJointDef=function(){this.__super.b2JointDef.call(this);this.type=w.e_revoluteJoint;this.localAnchorA.Set(0,0);this.localAnchorB.Set(0,
0);this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0;this.enableMotor=this.enableLimit=false};z.prototype.Initialize=function(a,b,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.GetLocalPoint(d);this.localAnchorB=this.bodyB.GetLocalPoint(d);this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};myChrome.inherit(V,myChrome.Dynamics.Joints.b2Joint);V.prototype.__super=myChrome.Dynamics.Joints.b2Joint.prototype;V.b2WeldJoint=function(){myChrome.Dynamics.Joints.b2Joint.b2Joint.apply(this,
arguments);this.m_localAnchorA=new d;this.m_localAnchorB=new d;this.m_impulse=new j;this.m_mass=new b};V.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)};V.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)};V.prototype.GetReactionForce=function(a){a===void 0&&(a=0);return new d(a*this.m_impulse.x,a*this.m_impulse.y)};V.prototype.GetReactionTorque=function(a){a===void 0&&(a=0);return a*this.m_impulse.z};V.prototype.b2WeldJoint=
function(a){this.__super.b2Joint.call(this,a);this.m_localAnchorA.SetV(a.localAnchorA);this.m_localAnchorB.SetV(a.localAnchorB);this.m_referenceAngle=a.referenceAngle;this.m_impulse.SetZero();this.m_mass=new b};V.prototype.InitVelocityConstraints=function(a){var b,d=0,c=this.m_bodyA,f=this.m_bodyB;b=c.m_xf.R;var j=this.m_localAnchorA.x-c.m_sweep.localCenter.x,k=this.m_localAnchorA.y-c.m_sweep.localCenter.y,d=b.col1.x*j+b.col2.x*k,k=b.col1.y*j+b.col2.y*k,j=d;b=f.m_xf.R;var e=this.m_localAnchorB.x-
f.m_sweep.localCenter.x,g=this.m_localAnchorB.y-f.m_sweep.localCenter.y,d=b.col1.x*e+b.col2.x*g,g=b.col1.y*e+b.col2.y*g,e=d;b=c.m_invMass;var d=f.m_invMass,m=c.m_invI,l=f.m_invI;this.m_mass.col1.x=b+d+k*k*m+g*g*l;this.m_mass.col2.x=-k*j*m-g*e*l;this.m_mass.col3.x=-k*m-g*l;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=b+d+j*j*m+e*e*l;this.m_mass.col3.y=j*m+e*l;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=m+l;if(a.warmStarting){this.m_impulse.x=
this.m_impulse.x*a.dtRatio;this.m_impulse.y=this.m_impulse.y*a.dtRatio;this.m_impulse.z=this.m_impulse.z*a.dtRatio;c.m_linearVelocity.x=c.m_linearVelocity.x-b*this.m_impulse.x;c.m_linearVelocity.y=c.m_linearVelocity.y-b*this.m_impulse.y;c.m_angularVelocity=c.m_angularVelocity-m*(j*this.m_impulse.y-k*this.m_impulse.x+this.m_impulse.z);f.m_linearVelocity.x=f.m_linearVelocity.x+d*this.m_impulse.x;f.m_linearVelocity.y=f.m_linearVelocity.y+d*this.m_impulse.y;f.m_angularVelocity=f.m_angularVelocity+l*(e*
this.m_impulse.y-g*this.m_impulse.x+this.m_impulse.z)}else this.m_impulse.SetZero()};V.prototype.SolveVelocityConstraints=function(){var a,b=0,d=this.m_bodyA,c=this.m_bodyB,f=d.m_linearVelocity,k=d.m_angularVelocity,m=c.m_linearVelocity,e=c.m_angularVelocity,g=d.m_invMass,q=c.m_invMass,l=d.m_invI,r=c.m_invI;a=d.m_xf.R;var s=this.m_localAnchorA.x-d.m_sweep.localCenter.x,t=this.m_localAnchorA.y-d.m_sweep.localCenter.y,b=a.col1.x*s+a.col2.x*t,t=a.col1.y*s+a.col2.y*t,s=b;a=c.m_xf.R;var x=this.m_localAnchorB.x-
c.m_sweep.localCenter.x,u=this.m_localAnchorB.y-c.m_sweep.localCenter.y,b=a.col1.x*x+a.col2.x*u,u=a.col1.y*x+a.col2.y*u,x=b;a=m.x-e*u-f.x+k*t;var b=m.y+e*x-f.y-k*s,w=e-k,y=new j;this.m_mass.Solve33(y,-a,-b,-w);this.m_impulse.Add(y);f.x=f.x-g*y.x;f.y=f.y-g*y.y;k=k-l*(s*y.y-t*y.x+y.z);m.x=m.x+q*y.x;m.y=m.y+q*y.y;e=e+r*(x*y.y-u*y.x+y.z);d.m_angularVelocity=k;c.m_angularVelocity=e};V.prototype.SolvePositionConstraints=function(){var b,d=0,c=this.m_bodyA,f=this.m_bodyB;b=c.m_xf.R;var k=this.m_localAnchorA.x-
c.m_sweep.localCenter.x,q=this.m_localAnchorA.y-c.m_sweep.localCenter.y,d=b.col1.x*k+b.col2.x*q,q=b.col1.y*k+b.col2.y*q,k=d;b=f.m_xf.R;var r=this.m_localAnchorB.x-f.m_sweep.localCenter.x,e=this.m_localAnchorB.y-f.m_sweep.localCenter.y,d=b.col1.x*r+b.col2.x*e,e=b.col1.y*r+b.col2.y*e,r=d;b=c.m_invMass;var d=f.m_invMass,g=c.m_invI,s=f.m_invI,l=f.m_sweep.c.x+r-c.m_sweep.c.x-k,t=f.m_sweep.c.y+e-c.m_sweep.c.y-q,x=f.m_sweep.a-c.m_sweep.a-this.m_referenceAngle,u=10*m.b2_linearSlop,w=Math.sqrt(l*l+t*t),y=
a.Abs(x);if(w>u){g=g*1;s=s*1}this.m_mass.col1.x=b+d+q*q*g+e*e*s;this.m_mass.col2.x=-q*k*g-e*r*s;this.m_mass.col3.x=-q*g-e*s;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=b+d+k*k*g+r*r*s;this.m_mass.col3.y=k*g+r*s;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=g+s;u=new j;this.m_mass.Solve33(u,-l,-t,-x);c.m_sweep.c.x=c.m_sweep.c.x-b*u.x;c.m_sweep.c.y=c.m_sweep.c.y-b*u.y;c.m_sweep.a=c.m_sweep.a-g*(k*u.y-q*u.x+u.z);f.m_sweep.c.x=f.m_sweep.c.x+
d*u.x;f.m_sweep.c.y=f.m_sweep.c.y+d*u.y;f.m_sweep.a=f.m_sweep.a+s*(r*u.y-e*u.x+u.z);c.SynchronizeTransform();f.SynchronizeTransform();return w<=m.b2_linearSlop&&y<=m.b2_angularSlop};myChrome.inherit(f,myChrome.Dynamics.Joints.b2JointDef);f.prototype.__super=myChrome.Dynamics.Joints.b2JointDef.prototype;f.b2WeldJointDef=function(){myChrome.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=new d};f.prototype.b2WeldJointDef=function(){this.__super.b2JointDef.call(this);
this.type=w.e_weldJoint;this.referenceAngle=0};f.prototype.Initialize=function(a,b,d){this.bodyA=a;this.bodyB=b;this.localAnchorA.SetV(this.bodyA.GetLocalPoint(d));this.localAnchorB.SetV(this.bodyB.GetLocalPoint(d));this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}})();
(function(){var m=myChrome.Dynamics.b2DebugDraw;m.b2DebugDraw=function(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=this.m_drawScale=1;var c=this;this.m_sprite={graphics:{clear:function(){c.m_ctx.clearRect(0,0,c.m_ctx.canvas.width,c.m_ctx.canvas.height)}}}};m.prototype._color=function(c,b){return"rgba("+((c&16711680)>>16)+","+((c&65280)>>8)+","+(c&255)+","+b+")"};m.prototype.b2DebugDraw=function(){this.m_drawFlags=0};m.prototype.SetFlags=function(c){c===void 0&&(c=0);this.m_drawFlags=
c};m.prototype.GetFlags=function(){return this.m_drawFlags};m.prototype.AppendFlags=function(c){c===void 0&&(c=0);this.m_drawFlags=this.m_drawFlags|c};m.prototype.ClearFlags=function(c){c===void 0&&(c=0);this.m_drawFlags=this.m_drawFlags&~c};m.prototype.SetSprite=function(c){this.m_ctx=c};m.prototype.GetSprite=function(){return this.m_ctx};m.prototype.SetDrawScale=function(c){c===void 0&&(c=0);this.m_drawScale=c};m.prototype.GetDrawScale=function(){return this.m_drawScale};m.prototype.SetLineThickness=
function(c){c===void 0&&(c=0);this.m_lineThickness=c;this.m_ctx.strokeWidth=c};m.prototype.GetLineThickness=function(){return this.m_lineThickness};m.prototype.SetAlpha=function(c){c===void 0&&(c=0);this.m_alpha=c};m.prototype.GetAlpha=function(){return this.m_alpha};m.prototype.SetFillAlpha=function(c){c===void 0&&(c=0);this.m_fillAlpha=c};m.prototype.GetFillAlpha=function(){return this.m_fillAlpha};m.prototype.SetXFormScale=function(c){c===void 0&&(c=0);this.m_xformScale=c};m.prototype.GetXFormScale=
function(){return this.m_xformScale};m.prototype.DrawPolygon=function(c,b,a){if(b){var d=this.m_ctx,j=this.m_drawScale;d.beginPath();d.strokeStyle=this._color(a.color,this.m_alpha);d.moveTo(c[0].x*j,c[0].y*j);for(a=1;a<b;a++)d.lineTo(c[a].x*j,c[a].y*j);d.lineTo(c[0].x*j,c[0].y*j);d.closePath();d.stroke()}};m.prototype.DrawSolidPolygon=function(c,b,a){if(b){var d=this.m_ctx,j=this.m_drawScale;d.beginPath();d.strokeStyle=this._color(a.color,this.m_alpha);d.fillStyle=this._color(a.color,this.m_fillAlpha);
d.moveTo(c[0].x*j,c[0].y*j);for(a=1;a<b;a++)d.lineTo(c[a].x*j,c[a].y*j);d.lineTo(c[0].x*j,c[0].y*j);d.closePath();d.fill();d.stroke()}};m.prototype.DrawCircle=function(c,b,a){if(b){var d=this.m_ctx,j=this.m_drawScale;d.beginPath();d.strokeStyle=this._color(a.color,this.m_alpha);d.arc(c.x*j,c.y*j,b*j,0,Math.PI*2,true);d.closePath();d.stroke()}};m.prototype.DrawSolidCircle=function(c,b,a,d){if(b){var j=this.m_ctx,m=this.m_drawScale,k=c.x*m,q=c.y*m;j.moveTo(0,0);j.beginPath();j.strokeStyle=this._color(d.color,
this.m_alpha);j.fillStyle=this._color(d.color,this.m_fillAlpha);j.arc(k,q,b*m,0,Math.PI*2,true);j.moveTo(k,q);j.lineTo((c.x+a.x*b)*m,(c.y+a.y*b)*m);j.closePath();j.fill();j.stroke()}};m.prototype.DrawSegment=function(c,b,a){var d=this.m_ctx,j=this.m_drawScale;d.strokeStyle=this._color(a.color,this.m_alpha);d.beginPath();d.moveTo(c.x*j,c.y*j);d.lineTo(b.x*j,b.y*j);d.closePath();d.stroke()};m.prototype.DrawTransform=function(c){var b=this.m_ctx,a=this.m_drawScale;b.beginPath();b.strokeStyle=this._color(16711680,
this.m_alpha);b.moveTo(c.position.x*a,c.position.y*a);b.lineTo((c.position.x+this.m_xformScale*c.R.col1.x)*a,(c.position.y+this.m_xformScale*c.R.col1.y)*a);b.strokeStyle=this._color(65280,this.m_alpha);b.moveTo(c.position.x*a,c.position.y*a);b.lineTo((c.position.x+this.m_xformScale*c.R.col2.x)*a,(c.position.y+this.m_xformScale*c.R.col2.y)*a);b.closePath();b.stroke()}})();var i;for(i=0;i<myChrome.postDefs.length;++i)myChrome.postDefs[i]();delete myChrome.postDefs;
(function(m){var c=function(a,b){this.initialize(a,b)},b=c.prototype;c.NONE=0;c.LOOP=1;c.REVERSE=2;c.IGNORE={};c._tweens=[];c._plugins={};c.get=function(a,b,j){return new c(a,b,j)};c.tick=function(a,b){for(var j=c._tweens,m=j.length-1;m>=0;m--){var k=j[m];if(!b||k.ignoreGlobalPause)k.tick(k._useTicks?1:a)}};Ticker&&Ticker.addListener(c,false);c.removeTweens=function(a){if(a.tweenjs_count){for(var b=c._tweens,j=b.length-1;j>=0;j--)b[j]._target==a&&b.splice(j,1);a.tweenjs_count=0}};c.installPlugin=
function(a,b){var j=a.priority;if(j==null)a.priority=j=0;for(var m=0,k=b.length,q=c._plugins;m<k;m++){var t=b[m];if(q[t]){for(var y=q[t],s=0,u=y.length;s<u;s++)if(j<y[s].priority)break;q[t].splice(s,0,a)}else q[t]=[a]}};c._register=function(a,b){var j=a._target;if(b){if(j)j.tweenjs_count=j.tweenjs_count?j.tweenjs_count+1:1;c._tweens.push(a)}else{j&&j.tweenjs_count--;j=c._tweens.indexOf(a);j!=-1&&c._tweens.splice(j,1)}};b.ignoreGlobalPause=false;b.loop=false;b.duration=0;b.pluginData=null;b._paused=
false;b._curQueueProps=null;b._initQueueProps=null;b._steps=null;b._actions=null;b._prevPosition=0;b._stepPosition=0;b._prevPos=-1;b._target=null;b._useTicks=false;b.initialize=function(a,b,j){this._target=a;if(b){this._useTicks=b.useTicks;this.ignoreGlobalPause=b.ignoreGlobalPause;this.loop=b.loop;b.override&&c.removeTweens(a)}this.pluginData=j||{};this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];b&&b.paused?this._paused=true:c._register(this,true);b&&b.position!=null&&
this.setPosition(b.position,c.NONE)};b.wait=function(a){if(a==null||a<=0)return this;var b=this._cloneProps(this._curQueueProps);return this._addStep({d:a,p0:b,e:this._linearEase,p1:b})};b.to=function(a,b,c){if(isNaN(b)||b<0)b=0;return this._addStep({d:b||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(a))})};b.call=function(a,b,c){return this._addAction({f:a,p:b?b:[this],o:c?c:this._target})};b.set=function(a,b){return this._addAction({f:this._set,o:this,
p:[a,b?b:this._target]})};b.play=function(a){return this.call(a.setPaused,[false],a)};b.pause=function(a){a||(a=this);return this.call(a.setPaused,[true],a)};b.setPosition=function(a,b){a<0&&(a=0);b==null&&(b=1);var c=a,m=false;if(c>=this.duration)this.loop?c=c%this.duration:(c=this.duration,m=true);if(c==this._prevPos)return m;if(this._target)if(m)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var k=0,q=this._steps.length;k<q;k++)if(this._steps[k].t>c)break;k=this._steps[k-1];
this._updateTargetProps(k,(this._stepPosition=c-k.t)/k.d,c)}k=this._prevPos;this._prevPos=c;this._prevPosition=a;b!=0&&this._actions.length>0&&(this._useTicks?this._runActions(c,c):b==1&&c<k?(k!=this.duration&&this._runActions(k,this.duration),this._runActions(0,c,true)):this._runActions(k,c));m&&this.setPaused(true);return m};b.tick=function(a){this._paused||this.setPosition(this._prevPosition+a)};b.setPaused=function(a){if(this._paused!=!!a){this._paused=!!a;c._register(this,!a)}return this};b.w=
b.wait;b.t=b.to;b.c=b.call;b.s=b.set;b.toString=function(){return"[Tween]"};b.clone=function(){throw"Tween can not be cloned.";};b._updateTargetProps=function(a,b,j){var m,k,q,t;!a&&b==1?m=k=this._curQueueProps:(a.e&&(b=a.e(b,0,1,1)),m=a.p0,k=a.p1);for(n in this._initQueueProps){if((q=m[n])==null)m[n]=q=this._initQueueProps[n];if((t=k[n])==null)k[n]=t=q;q=q==t||b==0||b==1||typeof q!="number"?b==1?t:q:q+(t-q)*b;var y=false;if(t=c._plugins[n])for(var s=0,u=t.length;s<u;s++){var w=t[s].tween(this,n,
q,m,k,b,j,!a);w==c.IGNORE?y=true:q=w}y||(this._target[n]=q)}};b._runActions=function(a,b,c){var m=a,k=b,q=-1,t=this._actions.length,y=1;for(a>b&&(m=b,k=a,q=t,t=y=-1);(q=q+y)!=t;){var b=this._actions[q],s=b.t;(s==k||s>m&&s<k||c&&s==a)&&b.f.apply(b.o,b.p)}};b._appendQueueProps=function(a){var b,j,m,k;for(k in a){if(this._initQueueProps[k]==null){j=this._target[k];if(b=c._plugins[k])for(var q=0,t=b.length;q<t;q++){m=b[q].init(this,k,j);m!=c.IGNORE&&(j=m)}this._initQueueProps[k]=j}this._curQueueProps[k]=
a[k]}return this._curQueueProps};b._cloneProps=function(a){var b={},c;for(c in a)b[c]=a[c];return b};b._addStep=function(a){if(a.d>0){this._steps.push(a);a.t=this.duration;this.duration=this.duration+a.d}return this};b._addAction=function(a){a.t=this.duration;this._actions.push(a);return this};b._set=function(a,b){for(var c in a)b[c]=a[c]};m.Tween=c})(window);
(function(m){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype;b.ignoreGlobalPause=false;b.duration=0;b.loop=false;b._paused=true;b._tweens=null;b._labels=null;b._prevPosition=0;b._prevPos=-1;b._useTicks=false;b.initialize=function(a,b,c){this._tweens=[];if(c){this._useTicks=c.useTicks;this.loop=c.loop;this.ignoreGlobalPause=c.ignoreGlobalPause}a&&this.addTween.apply(this,a);this.setLabels(b);(!c||!c.paused)&&Tween._register(this,true);c&&c.position!=null&&this.setPosition(c.position,Tween.NONE)};
b.addTween=function(a){var b=arguments.length;if(b>1){for(var c=0;c<b;c++)this.addTween(arguments[c]);return arguments[0]}if(b==0)return null;this.removeTween(a);this._tweens.push(a);a.setPaused(true);a._paused=false;a._useTicks=this._useTicks;if(a.duration>this.duration)this.duration=a.duration;this._prevPos>=0&&a.setPosition(this._prevPos,Tween.NONE);return a};b.removeTween=function(a){var b=arguments.length;if(b>1){for(var c=true,m=0;m<b;m++)c=c&&this.removeTween(arguments[m]);return c}if(b==0)return false;
b=this._tweens.indexOf(a);return b!=-1?(this._tweens.splice(b,1),a.duration>=this.duration&&this.updateDuration(),true):false};b.addLabel=function(a,b){this._labels[a]=b};b.setLabels=function(a){this._labels=a?a:{}};b.gotoAndPlay=function(a){this.setPaused(false);this._goto(a)};b.gotoAndStop=function(a){this.setPaused(true);this._goto(a)};b.setPosition=function(a,b){a<0&&(a=0);var c=this.loop?a%this.duration:a,m=!this.loop&&a>=this.duration;if(c==this._prevPos)return m;this._prevPosition=a;this._prevPos=
c;for(var k=0,q=this._tweens.length;k<q;k++)if(this._tweens[k].setPosition(c,b),c!=this._prevPos)return false;m&&this.setPaused(true);return m};b.setPaused=function(a){if(this._paused!=!!a){this._paused=!!a;Tween._register(this,!a)}};b.updateDuration=function(){for(var a=this.duration=0,b=this._tweens.length;a<b;a++)if(tween=this._tweens[a],tween.duration>this.duration)this.duration=tween.duration};b.tick=function(a){this.setPosition(this._prevPosition+a)};b.resolve=function(a){var b=parseFloat(a);
isNaN(b)&&(b=this._labels[a]);return b};b.toString=function(){return"[Timeline]"};b.clone=function(){throw"Timeline can not be cloned.";};b._goto=function(a){a=this.resolve(a);a!=null&&this.setPosition(a)};m.Timeline=c})(window);
(function(m){var c=function(){throw"Ease cannot be instantiated.";};c.linear=function(b){return b};c.none=c.linear;c.get=function(b){b<-1&&(b=-1);b>1&&(b=1);return function(a){return b==0?a:b<0?a*(a*-b+1+b):a*((2-a)*b+(1-b))}};c.getPowIn=function(b){return function(a){return Math.pow(a,b)}};c.getPowOut=function(b){return function(a){return 1-Math.pow(1-a,b)}};c.getPowInOut=function(b){return function(a){return(a=a*2)<1?0.5*Math.pow(a,b):1-0.5*Math.abs(Math.pow(2-a,b))}};c.quadIn=c.getPowIn(2);c.quadOut=
c.getPowOut(2);c.quadInOut=c.getPowInOut(2);c.cubicIn=c.getPowIn(3);c.cubicOut=c.getPowOut(3);c.cubicInOut=c.getPowInOut(3);c.quartIn=c.getPowIn(4);c.quartOut=c.getPowOut(4);c.quartInOut=c.getPowInOut(4);c.quintIn=c.getPowIn(5);c.quintOut=c.getPowOut(5);c.quintInOut=c.getPowInOut(5);c.sineIn=function(b){return 1-Math.cos(b*Math.PI/2)};c.sineOut=function(b){return Math.sin(b*Math.PI/2)};c.sineInOut=function(b){return-0.5*(Math.cos(Math.PI*b)-1)};c.getBackIn=function(b){return function(a){return a*
a*((b+1)*a-b)}};c.backIn=c.getBackIn(1.7);c.getBackOut=function(b){return function(a){return--a*a*((b+1)*a+b)+1}};c.backOut=c.getBackOut(1.7);c.getBackInOut=function(b){b=b*1.525;return function(a){return(a=a*2)<1?0.5*a*a*((b+1)*a-b):0.5*((a=a-2)*a*((b+1)*a+b)+2)}};c.backInOut=c.getBackInOut(1.7);c.circIn=function(b){return-(Math.sqrt(1-b*b)-1)};c.circOut=function(b){return Math.sqrt(1- --b*b)};c.circInOut=function(b){return(b=b*2)<1?-0.5*(Math.sqrt(1-b*b)-1):0.5*(Math.sqrt(1-(b=b-2)*b)+1)};c.bounceIn=
function(b){return 1-c.bounceOut(1-b)};c.bounceOut=function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b=b-1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b=b-2.25/2.75)*b+0.9375:7.5625*(b=b-2.625/2.75)*b+0.984375};c.bounceInOut=function(b){return b<0.5?c.bounceIn(b*2)*0.5:c.bounceOut(b*2-1)*0.5+0.5};c.getElasticIn=function(b,a){var c=Math.PI*2;return function(j){if(j==0||j==1)return j;var m=a/c*Math.asin(1/b);return-(b*Math.pow(2,10*(j=j-1))*Math.sin((j-m)*c/a))}};c.elasticIn=c.getElasticIn(1,0.3);c.getElasticOut=
function(b,a){var c=Math.PI*2;return function(j){if(j==0||j==1)return j;var m=a/c*Math.asin(1/b);return b*Math.pow(2,-10*j)*Math.sin((j-m)*c/a)+1}};c.elasticOut=c.getElasticOut(1,0.3);c.getElasticInOut=function(b,a){var c=Math.PI*2;return function(j){var m=a/c*Math.asin(1/b);return(j=j*2)<1?-0.5*b*Math.pow(2,10*(j=j-1))*Math.sin((j-m)*c/a):b*Math.pow(2,-10*(j=j-1))*Math.sin((j-m)*c/a)*0.5+1}};c.elasticInOut=c.getElasticInOut(1,0.3*1.5);m.Ease=c})(window);var vivek={};
vivek.irs=function(){var m,c,b,a=[],d=0,j=myChrome.Common.Math.b2Vec2,x=myChrome.Dynamics.b2BodyDef,k=myChrome.Dynamics.b2Body,q=myChrome.Dynamics.b2FixtureDef,t=myChrome.Dynamics.b2World,y=myChrome.Collision.Shapes.b2PolygonShape;thedebugDraw=myChrome.Dynamics.b2DebugDraw;window.onload=function(){s.setup();s.ticker();R.setup()};var s;s={setup:function(){m=document.getElementById("mycanvas");m.getContext("2d");debugCanvas=document.getElementById("debugCanvas");debugContext=debugCanvas.getContext("2d");
stage=new Stage(m);stage.snapPixelsEnabled=true;stage.mouseEventsEnabled=true;var a=new Graphics;a.setStrokeStyle(1);a.beginStroke(Graphics.getRGB(51,181,229));a.beginFill(Graphics.getRGB(255,0,0));a.moveTo(0,0).lineTo(870,0);a.moveTo(0,550).lineTo(870,550);a.moveTo(15,250).lineTo(15,550);a.moveTo(315,550).lineTo(315,250);a=new Shape(a);stage.addChild(a)},ticker:function(){Ticker.setFPS(30);Ticker.useRAF=true;Ticker.addListener(vivek.irs)},getElementPosition:function(a){for(var b="",c=0,d=0;typeof a==
"object"&&typeof a.tagName!="undefined";){d=d+a.offsetTop;c=c+a.offsetLeft;b=a.tagName.toUpperCase();b=="BODY"&&(a=0);if(typeof a=="object"&&typeof a.offsetParent=="object")a=a.offsetParent}return{x:c,y:d}}};var u,w,Q;u={spawn:function(){switch(Math.floor(1+Math.random()*8)){case 1:w="img/Template2.png";Q="#c4e23a";break;case 2:w="img/Template2B.png";Q="#e2c43a";break;case 3:w="img/Template2C.png";Q="#b1a675";break;case 4:w="img/Template2D.png";Q="#adb345";break;case 5:w="img/Template2E.png";Q="#8bcdb8";
break;case 6:w="img/Template2F.png";Q="#afa8f2";break;case 7:w="img/Template2G.png";Q="#9ccd8b";break;case 8:w="img/Template2H.png";Q="#cba8f2"}var a=new Bitmap(w);a.regX=40;a.regY=40;var b=new Bitmap("img/logo.png");b.regX=27;b.regY=27;var c=new Container;c.addChild(a);c.addChild(b);c.x=Math.round(30+Math.random()*180);c.y=-3;c.snapToPixel=true;c.mouseEnabled=true;c.setClickedstatus=false;c.greatColor=Q;c.onPress=function(){this.setClickedstatus=true};stage.addChild(c);R.addBodies(c)}};var R,r=[],
I,E=[],J=function(d,j){this.body=d;this.container=j;this.update=function(d){if(this.container.setClickedstatus==false){this.container.rotation=this.body.GetAngle()*(180/Math.PI);this.container.x=this.body.GetWorldCenter().x*30;this.container.y=this.body.GetWorldCenter().y*30;this.container.rotation=this.body.GetAngle()*(180/Math.PI)}else{r.splice(d,1);a.splice(d,1);I.DestroyBody(this.body);var j=this.container,d=this.container.getChildAt(1);if(c!=null){Tween.get(c.getChildAt(1)).to({scaleX:1,scaleY:1},
1E3);if(b!=null){console.log(b);Tween.get(b).to({lineHeight:0},5E3);stage.removeChild(b)}Tween.get(c.getChildAt(0)).to({alpha:1});Tween.get(c).to({x:415,y:510},3E3).wait(1E3).to({x:870,y:510,rotation:360},3E3).to({alpha:0})}Tween.get(this.container).to({x:270,y:100,rotation:160},2E3).to({x:415,y:100,rotation:0},3E3,Ease.bounceOut).call(function(){Tween.get(j.getChildAt(0)).to({alpha:0},2E3);b=new Text("Android Development","24px Arial","#3296BB");b.x=600;b.y=100;stage.addChild(b)});c=this.container;
Tween.get(d).wait(3E3).to({scaleX:1.5,scaleY:1.5},3E3)}};this.move=function(a,b){if(b>this.skin.y){this.skin.x=this.skin.x+0.1;this.skin.y=this.skin.y-0.1}else this.skin.y=this.skin.y+0.1};r.push(this)},K=function(){var a=new thedebugDraw;a.SetSprite(debugContext);a.SetDrawScale(30);a.SetFillAlpha(0.7);a.SetLineThickness(1);a.SetFlags(thedebugDraw.e_shapeBit|thedebugDraw.e_jointBit);I.SetDebugDraw(a)};R={setup:function(){I=new t(new j(0,10),true);K();var a=new q;a.density=1;a.restitution=0.5;a.shape=
new y;a.shape.SetAsBox(14.5,1/30);var b=new x;b.type=k.b2_staticBody;b.position.x=14.5;b.position.y=18.3;I.CreateBody(b).CreateFixture(a);a=new q;a.density=1;a.restitution=0;a.shape=new y;a.shape.SetAsBox(1/30,5);b=new x;b.type=k.b2_staticBody;b.position.x=14/30;b.position.y=400/30;I.CreateBody(b).CreateFixture(a);a=new q;a.density=1;a.restitution=0;a.shape=new y;a.shape.SetAsBox(1/30,5);b=new x;b.type=k.b2_staticBody;b.position.x=314/30;b.position.y=400/30;I.CreateBody(b).CreateFixture(a)},addDebug:K,
update:function(){for(var b=0;b<E.length;b++){var c=E[b].GetUserData();stage.removeChild(c.container);r.splice(r.indexOf(c),1);E[b].SetUserData(null);I.DestroyBody(E[b])}E=[];for(b=0;b<r.length;b++)r[b].update(b);I.Step(0.05,10,10);I.ClearForces();if(a.length>8){E.push(a[0]);a.splice(0,1)}},addBodies:function(b){var c=new q;c.density=1;c.restitution=0.5;c.shape=new y;c.shape.SetAsBox(40/30,40/30);var d=new x;d.type=k.b2_dynamicBody;d.position.x=b.x/30;d.position.y=b.y/30;d=I.CreateBody(d);d.CreateFixture(c);
b=new J(d,b);d.SetUserData(b);a.push(d)},killBody:function(a){a.SetUserData(null);I.DestroyBody(a)}};return{tick:function(){R.update();stage.update();d++;d%20===0&&u.spawn()}}}();